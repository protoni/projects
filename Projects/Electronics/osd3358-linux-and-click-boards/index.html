
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Messing around with Click boards">
      
      
      
        <link rel="canonical" href="https://protoni.github.io/projects/Projects/Electronics/osd3358-linux-and-click-boards/">
      
      
        <link rel="prev" href="../osd3358-linux/">
      
      
        <link rel="next" href="../phone-extension/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>OSD3358 Linux and Click boards - Protoni's site</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../stylesheets/styles.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ethernet" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Protoni&#39;s site" class="md-header__button md-logo" aria-label="Protoni's site" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Protoni's site
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OSD3358 Linux and Click boards
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/protoni/projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    protoni/projects
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Protoni&#39;s site" class="md-nav__button md-logo" aria-label="Protoni's site" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Protoni's site
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/protoni/projects" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    protoni/projects
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Electronics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Electronics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../led-display/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Led display
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            Led display
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../osd3358-linux/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Osd3358 linux
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            Osd3358 linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Osd3358 linux and click boards
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            Osd3358 linux and click boards
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../phone-extension/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Phone extension
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4">
            <span class="md-nav__icon md-icon"></span>
            Phone extension
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Graphics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Graphics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Graphics/custom-graphics-renderer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Custom graphics renderer
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            Custom graphics renderer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Graphics/opengl-experiments/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Opengl experiments
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            Opengl experiments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Graphics/vulkan-experiments/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Vulkan experiments
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            Vulkan experiments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Graphics/wow-model-export/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Wow model export
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_4">
            <span class="md-nav__icon md-icon"></span>
            Wow model export
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/beaglebone_yocto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yocto Linux for BeagleBone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/diy-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DIY Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Linux/install-arch-linux/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Install arch linux
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Install arch linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Misc/all-the-mods/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    All the mods
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            All the mods
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Misc/home-assistant/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home assistant
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            Home assistant
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Misc/old-projects/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Old projects
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            Old projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4_4" id="__nav_2_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Test pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_4">
            <span class="md-nav__icon md-icon"></span>
            Test pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/test-pages/page2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test page
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Misc/wow-addons/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Wow addons
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_5">
            <span class="md-nav__icon md-icon"></span>
            Wow addons
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Motorcycles
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Motorcycles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Motorcycles/rd350/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Rd350
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_1">
            <span class="md-nav__icon md-icon"></span>
            Rd350
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/git-pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git pages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/component-storage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Component storage
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_2">
            <span class="md-nav__icon md-icon"></span>
            Component storage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/component-storage-update/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Component storage update
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_3">
            <span class="md-nav__icon md-icon"></span>
            Component storage update
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_4" >
        
          
          <label class="md-nav__link" for="__nav_2_6_4" id="__nav_2_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Old gatsby site
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_4">
            <span class="md-nav__icon md-icon"></span>
            Old gatsby site
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/old-gatsby-site/initial-commit/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Initial commit
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_4_1">
            <span class="md-nav__icon md-icon"></span>
            Initial commit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/old-gatsby-site/setup-gatsby-site/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Setup gatsby site
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_4_2">
            <span class="md-nav__icon md-icon"></span>
            Setup gatsby site
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/old-gatsby-site/site-in-development/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Site in development
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_4_3">
            <span class="md-nav__icon md-icon"></span>
            Site in development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Web/old-gatsby-site/website-update/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Website update
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_4_4">
            <span class="md-nav__icon md-icon"></span>
            Website update
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ethernet" class="md-nav__link">
    Ethernet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lte-modem" class="md-nav__link">
    LTE modem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temperature" class="md-nav__link">
    Temperature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gps" class="md-nav__link">
    GPS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi" class="md-nav__link">
    Wifi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accelerometer-and-gyroscope" class="md-nav__link">
    Accelerometer and Gyroscope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can" class="md-nav__link">
    CAN
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/protoni/projects/edit/main/docs/Projects/Electronics/osd3358-linux-and-click-boards/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


  <h1>OSD3358 Linux and Click boards</h1>

<p>I haven't touched my custom Linux board project in a while 
( <a href="https://protoni.fi/Projects/Electronics/osd3358-linux/">https://protoni.fi/Projects/Electronics/osd3358-linux/</a> ) so I thought that it was
about time to start actually doing something with it. </p>
<p>I ordered a bunch of these
prototyping/development boards from MikroElektronika 
( <a href="https://www.mikroe.com/">https://www.mikroe.com/</a> ) 
called <strong>"Click boards"</strong> and started messing around with them.</p>
<p>A lot of configuring and figuring out was required so here are some notes on that.</p>
<p><strong>Click boards</strong>
<a class="glightbox" href="https://i.imgur.com/3NG6pB4.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Click boards" src="https://i.imgur.com/3NG6pB4.jpg" /></a></p>
<hr />
<h3 id="ethernet">Ethernet</h3>
<p>Not a Click board, but the first issue I had was that I couldn't really move files over to the Linux 
system and command line editors didn't work all that well over UART.</p>
<p>I only had access to the board through USB client or UART pin 
as a COM port using Putty so I bought this ~9â‚¬ USB -&gt; Ethernet adapter to solve this issue. 
It just works out of the box. Just needed to plug it in, figure out the IP address of the Linux board and SSH in to it.</p>
<p><strong>Ethernet adapter</strong>
<a class="glightbox" href="https://i.imgur.com/2XBHhBp.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="adapter" src="https://i.imgur.com/2XBHhBp.jpg" /></a></p>
<p><strong>Internet connection works</strong></p>
<p>The RJ45 adapter is also great because the beaglebone Linux has a package management system so I can just install whatever
I need using apt-get now that I have internet connection working.
<a class="glightbox" href="https://i.imgur.com/yrx6dIp.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ping" src="https://i.imgur.com/yrx6dIp.png" /></a></p>
<p><strong>Getting the IP</strong></p>
<p>There is no ifconfig on beaglebone linux, apparently it only has a <strong>ip a</strong> command.
( IP highlighted in yellow )
<a class="glightbox" href="https://i.imgur.com/OqPkOwN.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ip a command" src="https://i.imgur.com/OqPkOwN.png" /></a></p>
<p><strong>SSH in to the device</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a># Open Putty
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Host name:
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>debian@192.168.1.60
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Port: 
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>22
</code></pre></div></p>
<p><strong>Connecting ethernet cable straight to host</strong></p>
<p>I have a router where my computer and the Linux board is connected so I didn't have to set any
IP settings on the host machine. But here are some notes on that as well.</p>
<p><strong>Get the IP</strong></p>
<p><a class="glightbox" href="https://i.imgur.com/SPlik9d.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ip a usb" src="https://i.imgur.com/SPlik9d.png" /></a></p>
<p><strong>Configure the IP and connect</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>- Connect the cable to the host machine
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>- Win + R -&gt; ncpa.cpl
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>- Right click the TP Link adapter -&gt; Properties -&gt; Internet Protocol Version 4 (TCP/IPv4)
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>-&gt; Properties -&gt; General -&gt; Use the following IP address:
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>-- IP address:      192.168.6.5
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>-- Subnet mask:     255.255.255.0
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>-- Default gateway: 192.168.6.0
</code></pre></div></p>
<p>Not sure why, but I had to reboot the Linux board first to make the settings work.
I also had to ping from the Linux device to my host machine first to make the ping work the other way too.
Not sure if this is due to some Windows firewall settings or what.</p>
<hr />
<h3 id="lte-modem">LTE modem</h3>
<p>The LTE modem Click board that I have is this one:
* <a href="https://www.mikroe.com/lte-cat1-eu-click-for-europe">https://www.mikroe.com/lte-cat1-eu-click-for-europe</a></p>
<p>It has an <strong>Cinterion ELS61</strong> modem chip in it. Docs:
* <a href="https://m2m.dk/wp-content/uploads/2019/12/ELS61-E-AT-Command-Set-V02.000-15.08.2018.pdf">https://m2m.dk/wp-content/uploads/2019/12/ELS61-E-AT-Command-Set-V02.000-15.08.2018.pdf</a></p>
<p>I had a lot of issues with getting a mobile interface on linux setup with the modem and in the end I didn't get it
to work through the UART pins that are in the Click board headers. It probably requires some drivers to actually work.</p>
<p>Instead I connected a micro USB cable from the Linux board's USB host port to the
Click board's USB client port.</p>
<p><strong>USB connected to modem</strong>
<a class="glightbox" href="https://i.imgur.com/BSyXS8C.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="USB connected to modem" src="https://i.imgur.com/BSyXS8C.jpg" /></a></p>
<p><strong>Setting up the mobile interface</strong></p>
<p>I spent quite a while hopelessly searching the net to solve the issues that I had with the modem internet connection setup.
The modem itself worked right away. I got a pre-paid SIM card from the nearest kiosk just before it closed at 10pm 
so I got to test the modem right away. I tested the modem by calling from it to my own cell phone.</p>
<p>The first port on Linux board that I tested was <strong>/dev/ttyACM0</strong>. The <strong>minicom</strong>
connection seemed to open and all of the AT commands seemed to work except <strong>AT^SWWAN</strong> that is supposed to open the internet connection.</p>
<p><strong>Minicom modem connection works</strong>
<a class="glightbox" href="https://i.imgur.com/rEGlMls.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ATI response" src="https://i.imgur.com/rEGlMls.png" /></a></p>
<p>By default, it just gave an error called <strong>"Error"</strong>, but after digging around I was able to set an
extended error mode on, which can be set on with this command:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>AT+CMEE=2
</code></pre></div></p>
<p>Errors can be queried with this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>AT+CEER
</code></pre></div></p>
<p>After setting the extended settings mode I was getting 2 types of errors:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>CME ERROR: 100
</code></pre></div>
And the other one was:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>+CME ERROR: operation not allowed
</code></pre></div></p>
<p>Never solved those issues, I just happened to test the <strong>/dev/ttyACM1</strong> after battling with this for a while and it worked!</p>
<p><strong>Setup mobile interface</strong></p>
<p>The <strong>internet</strong> parameter is the <strong>APN</strong> of the operator.
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>1. Connect USB host -&gt; Click board USB client with a USB cable
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>2. sudo minicom -o -D /dev/ttyACM1 -b 115200
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>3. AT+CGDCONT=1,&quot;IP&quot;,&quot;internet&quot;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>4. AT^SWWAN=1,1
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>5. Exit with Ctrl + A -&gt; X -&gt; Yes
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>6. sudo ping google.com
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>7. ip a
</code></pre></div></p>
<p><strong>The mobile connection works</strong>
<a class="glightbox" href="https://i.imgur.com/R8ZbdAR.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ping mobile" src="https://i.imgur.com/R8ZbdAR.png" /></a></p>
<p><strong>Mobile interface</strong>
<a class="glightbox" href="https://i.imgur.com/HllarlL.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mobile interface" src="https://i.imgur.com/HllarlL.png" /></a></p>
<p>Before I decided to test the USB, I spent hours on trying to make the UART route work.
I found only 2 other people on some forums who seemed to have a similar error. Last posts to those threads
were from years ago and no responses after that.. frustrating. I guess they gave up too.</p>
<p>These were some of the errors I got:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>PDP context deactivation
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Last PDN disconnection not allowed
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Unknown error
</code></pre></div></p>
<p>After I had spent the whole night trying to solve these errors I happened to
get it to work with the <strong>/dev/ttyACM1</strong> way explained earlier.</p>
<p><strong>Some minicom notes</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>### Minicom ###
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a># Minicom enable carriage return new lines
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Ctrl + A -&gt; U
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a># Minicom quit
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Ctrl + A -&gt; X -&gt; Yes
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a># Minicom enable echo
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>Ctrl + E
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a># Minicom clear screen
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>Ctrl + A -&gt; C
</code></pre></div></p>
<hr />
<h3 id="temperature">Temperature</h3>
<p>The temperature Click board that I got is this one:
* https://www.mikroe.com/thermo-14-click.</p>
<p>It has an <strong>STTS22H</strong> temperature sensor IC in it.</p>
<p>The first problem was that the <strong>Beaglebone Linux</strong> that I'm running on the board currently didn't have
<strong>I2C1</strong> bus, that I have routed to the <strong>Click board headers</strong>. It had to be configured in the <strong>device tree</strong>
and that was an whole nother journey. I'll probably do a separate post for the device tree tuning.</p>
<p>After getting the I2C1 bus working, it was possible to get access to the temperature sensor.</p>
<p><strong>List i2c buses</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>debian@arm:~$ /usr/sbin/i2cdetect -l
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>i2c-1   i2c             OMAP I2C adapter                        I2C adapter
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>i2c-2   i2c             OMAP I2C adapter                        I2C adapter
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>i2c-0   i2c             OMAP I2C adapter                        I2C adapter
</code></pre></div></p>
<p><strong>Probe i2c1 bus</strong></p>
<p>Here we can see that the temperature sensor <strong>0x3f</strong> is detected. <strong>"--"</strong> means that
no devices were found. <strong>"UU"</strong> can also be found sometimes, it means that it is an reserved address.
<a class="glightbox" href="https://i.imgur.com/FOIwgRM.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Prove i2c bus" src="https://i.imgur.com/FOIwgRM.png" /></a></p>
<p><strong>Reading temperature values</strong></p>
<p>I found a python program for some other I2C temperature sensor online, so I modified it to
be able to read the temperature from the <strong>STTS22H</strong> as well.
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">import</span> <span class="nn">time</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kn">import</span> <span class="nn">smbus</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># I2C channel</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">i2c_ch</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># STTS22H address on the I2C bus</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">i2c_address</span> <span class="o">=</span> <span class="mh">0x3f</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1"># Register addresses</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">reg_temp_l</span> <span class="o">=</span> <span class="mh">0x06</span> <span class="c1"># Low temperature bytes</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="n">reg_temp_h</span> <span class="o">=</span> <span class="mh">0x07</span> <span class="c1"># High temperature bytes</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="n">reg_config</span> <span class="o">=</span> <span class="mh">0x04</span> <span class="c1"># Control settings register</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="c1"># Control register settings</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="n">ctrl_reg</span> <span class="o">=</span> <span class="mh">0xAA</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="c1"># Read temperature registers and calculate Celsius</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="k">def</span> <span class="nf">read_temp</span><span class="p">():</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a>    <span class="c1"># Read temperature registers</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>    <span class="n">val_l</span> <span class="o">=</span> <span class="n">bus</span><span class="o">.</span><span class="n">read_i2c_block_data</span><span class="p">(</span><span class="n">i2c_address</span><span class="p">,</span> <span class="n">reg_temp_l</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>    <span class="n">val_h</span> <span class="o">=</span> <span class="n">bus</span><span class="o">.</span><span class="n">read_i2c_block_data</span><span class="p">(</span><span class="n">i2c_address</span><span class="p">,</span> <span class="n">reg_temp_h</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a>    <span class="c1"># Combine high and low registers</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a>    <span class="n">temperature</span> <span class="o">=</span> <span class="p">(</span><span class="n">val_h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">val_l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a>    <span class="c1"># Convert to celcius</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a>    <span class="k">return</span> <span class="n">temperature</span> <span class="o">/</span> <span class="mf">100.0</span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="c1"># Initialize I2C</span>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="n">bus</span> <span class="o">=</span> <span class="n">smbus</span><span class="o">.</span><span class="n">SMBus</span><span class="p">(</span><span class="n">i2c_ch</span><span class="p">)</span>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="c1"># Print old control register value</span>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="n">val</span> <span class="o">=</span> <span class="n">bus</span><span class="o">.</span><span class="n">read_i2c_block_data</span><span class="p">(</span><span class="n">i2c_address</span><span class="p">,</span> <span class="n">reg_config</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Old control register value:&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="c1"># Set configs</span>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctrl_reg</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="n">bus</span><span class="o">.</span><span class="n">write_i2c_block_data</span><span class="p">(</span><span class="n">i2c_address</span><span class="p">,</span> <span class="n">reg_config</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="c1"># Print new control register value</span>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="n">val</span> <span class="o">=</span> <span class="n">bus</span><span class="o">.</span><span class="n">read_i2c_block_data</span><span class="p">(</span><span class="n">i2c_address</span><span class="p">,</span> <span class="n">reg_config</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New control register value:&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="c1"># Print temperature value in a loop</span>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current temperature: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">read_temp</span><span class="p">()),</span> <span class="s2">&quot;C&quot;</span><span class="p">)</span>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Running the script</strong>
<a class="glightbox" href="https://i.imgur.com/vSIaYn9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Tempearture values" src="https://i.imgur.com/vSIaYn9.png" /></a></p>
<hr />
<h3 id="gps">GPS</h3>
<p>The Click board that I got for GPS location reading is this one:
* https://www.mikroe.com/gps-4-click</p>
<p>It contains a <strong>Quectel L70</strong> GPS chip and it can be communicated with trough UART.</p>
<p><strong>Setting up gpsd</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>gpsd<span class="w"> </span>gpsd-clients
</code></pre></div></p>
<p><strong>Output GPS data to see that the chip works</strong></p>
<p>At this point some data should already be seen in the terminal if the device works and correct <strong>tty</strong>
port is used.
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/dev/ttyS0
</code></pre></div></p>
<p><strong>Disable gpsd that uses the default settings</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>gpsd.socket
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>gpsd.socket
</code></pre></div></p>
<p><strong>Set permissions and user groups for gpsd</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>dialout<span class="w"> </span>gpsd
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>chown<span class="w"> </span>root:dialout<span class="w"> </span>/dev/ttyS0
</code></pre></div></p>
<p><strong>I keep getting these errors still</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>Oct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: device open of /dev/ttyS0 failed: Permission denied - retrying read-only
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>Oct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: read-only device open of /dev/ttyS0 failed: Permission denied
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>Oct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: device activation failed.
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>Oct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: activation failed, freeing device
</code></pre></div></p>
<p><strong>A hacky fix to make it actually work. Fix later.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sudo<span class="w"> </span>mv<span class="w"> </span>/dev/ttyS0<span class="w"> </span>/dev/ttyS1
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">666</span><span class="w"> </span>/dev/ttyS1
</code></pre></div></p>
<p><strong>Start the daemon</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>/var/run/gpsd.sock
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>sudo<span class="w"> </span>gpsd<span class="w"> </span>/dev/ttyS1<span class="w"> </span>-F<span class="w"> </span>/var/run/gpsd.sock
</code></pre></div></p>
<p><strong>GPS monitoring tools</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>sudo<span class="w"> </span>gpsmon
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>sudo<span class="w"> </span>cgps<span class="w"> </span>-s
</code></pre></div></p>
<p><strong>gpsmon</strong></p>
<p>I don't have a GPS antenna, so gps can't see any satellites ( Quality and Sats field )
<a class="glightbox" href="https://i.imgur.com/6VwiqnP.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="gpsmon output" src="https://i.imgur.com/6VwiqnP.png" /></a></p>
<hr />
<h3 id="wifi">Wifi</h3>
<p>Not a Click board, but I remembered that I bought this wifi module some years ago and decided
to test it as well:
* <a href="https://components101.com/development-boards/nodemcu-esp8266-pinout-features-and-datasheet">https://components101.com/development-boards/nodemcu-esp8266-pinout-features-and-datasheet</a></p>
<p>It has an <strong>ESP-12E</strong> module containing a <strong>ESP8266</strong> chip which includes a 
<strong>Tensilica Xtensa 32-bit LX106</strong> RISC microprocessor. NodeMCU has 128 KB RAM and 4MB of Flash memory.</p>
<p><strong>Connected via UART pins</strong>
<a class="glightbox" href="https://i.imgur.com/HkzqyG3.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ESP8266 connected" src="https://i.imgur.com/HkzqyG3.jpg" /></a></p>
<p><strong>Flashing the firmware</strong></p>
<p>I found this <strong>"slip router"</strong> project from github which allows me to
setup a Linux interface to communicate with the Wifi chip.
* <a href="https://github.com/martin-ger/esp_slip_router">https://github.com/martin-ger/esp_slip_router</a></p>
<p>I went on and started setting up the <strong>ESP SDK</strong> so that I could build the slip router. Later on I realized that
the github repo has the pre built binaries already. But now that I have the SDK setup, I can
for example change the UART baud rate and so on.</p>
<p><strong>Setup ESP SDK</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/pfalcon/esp-open-sdk
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>make<span class="w"> </span>unrar-free<span class="w"> </span>autoconf<span class="w"> </span>automake<span class="w"> </span>libtool<span class="w"> </span>gcc<span class="w"> </span>g++<span class="w"> </span>gperf<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span>flex<span class="w"> </span>bison<span class="w"> </span>texinfo<span class="w"> </span>gawk<span class="w"> </span>ncurses-dev<span class="w"> </span>libexpat-dev<span class="w"> </span>python-dev<span class="w"> </span>python<span class="w"> </span>python-serial<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span>sed<span class="w"> </span>git<span class="w"> </span>unzip<span class="w"> </span>bash<span class="w"> </span>help2man<span class="w"> </span>wget<span class="w"> </span>bzip2
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libtool-bin
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="nb">cd</span><span class="w"> </span>esp-open-sdk
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>make
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/PATH_TO_ESP_PROJECT/esp-open-sdk/xtensa-lx106-elf/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>Build the slip router and flash the firmware</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nb">cd</span><span class="w"> </span>..
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/martin-ger/esp_slip_router
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nb">cd</span><span class="w"> </span>esp_slip_router
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>make
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>make<span class="w"> </span>flash
</code></pre></div>
<p><strong>Setting up the wifi interface</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>sudo<span class="w"> </span>slattach<span class="w"> </span>-L<span class="w"> </span>-p<span class="w"> </span>slip<span class="w"> </span>-s<span class="w"> </span><span class="m">115200</span><span class="w"> </span>/dev/ttyS0<span class="p">&amp;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>sudo<span class="w"> </span>ifconfig<span class="w"> </span>sl0<span class="w"> </span><span class="m">192</span>.168.240.2<span class="w"> </span>pointopoint<span class="w"> </span><span class="m">192</span>.168.240.1<span class="w"> </span>up<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>sudo<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span>-net<span class="w"> </span><span class="m">192</span>.168.4.0/24<span class="w"> </span>gw<span class="w"> </span><span class="m">192</span>.168.240.1
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>telnet<span class="w"> </span><span class="m">192</span>.168.240.1<span class="w"> </span><span class="m">7777</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>CMD&gt;set<span class="w"> </span>ap_ssid<span class="w"> </span>ESP8266<span class="w"> </span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>CMD&gt;set<span class="w"> </span>ap_password<span class="w"> </span>temppwd
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>CMD&gt;set<span class="w"> </span>use_ap<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>CMD&gt;save
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>CMD&gt;reset
</code></pre></div></p>
<p><strong>The "slip" interface on Linux</strong>
<a class="glightbox" href="https://i.imgur.com/zbHfFWy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="slip interface" src="https://i.imgur.com/zbHfFWy.png" /></a></p>
<p><strong>Testing SSH with termux on Android, it works !</strong></p>
<p>I enabled wifi on my phone, the ESP8266 access point showed up and I was able to connect to it.
<a class="glightbox" href="https://i.imgur.com/lIcAgQr.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Termux wifi test" src="https://i.imgur.com/lIcAgQr.png" /></a></p>
<p><strong>I also tried to flash the firmware on the target Linux board</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>termios.error: (25, &#39;Inappropriate ioctl for device&#39;)
</code></pre></div></p>
<p><strong>Not sure if this is even supposed to be possible, but here's the command I tried</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>sudo<span class="w"> </span>esptool.py<span class="w"> </span>--port<span class="w"> </span>/dev/ttyS0<span class="w"> </span>write_flash<span class="w"> </span>-fs<span class="w"> </span>4MB<span class="w"> </span>0x00000<span class="w"> </span>firmware/0x00000.bin<span class="w"> </span>0x10000<span class="w"> </span>firmware/0x10000.bin
</code></pre></div></p>
<p>It failed. And I'm not sure if it's just an coincidence or did it break something,
but now when I try to for example update the board with <strong>apt-get</strong>, it gives me this error ðŸ˜³
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>Reading package lists... Error!
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>E: lzma_read: Read error (10)
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>W: You may want to run apt-get update to correct these problems
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>E: The package cache file is corrupted
</code></pre></div></p>
<p>Quick google search suggested that it is caused by some python serial module mismatch and to
resolve, I should install:
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python-serial
</code></pre></div></p>
<p>This is where I noticed the <strong>lzma_read</strong> error above.
Need to investigate more.</p>
<hr />
<h3 id="accelerometer-and-gyroscope">Accelerometer and Gyroscope</h3>
<p><strong>!NOT DONE YET!</strong></p>
<p>Couldn't get the accelerometer working yet. I'll update this post if and when I can see
some progress with this.</p>
<p>I was able to build this driver for the chip:
* <a href="https://github.com/BoschSensortec/BMI270-Sensor-API">https://github.com/BoschSensortec/BMI270-Sensor-API</a></p>
<p><strong>Initialization results in error</strong></p>
<p>The driver is able to at least read some I2C registers before failing to 
this configuration loading check with this error:
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>Error -9 : Configuration loading error
</code></pre></div></p>
<p>If solving this begings to take too long, I'll probably test the driver with SPI bus.
For that I need to modify the device tree again and add the SPI to it.</p>
<hr />
<h3 id="can">CAN</h3>
<p><strong>!NOT DONE YET!</strong></p>
<p>The <strong>AM335x</strong> processor already has 2 CAN buses, but they are not currently routed to anywhere
on the board.</p>
<p>This is the CAN board:
* <a href="https://www.mikroe.com/mcp25625-click">https://www.mikroe.com/mcp25625-click</a></p>
<hr />

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-10-27T23:12:43+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-10-27</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-03-30T22:33:51+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-03-30</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023-> Protoni. Contant at &#116;&#111;&#110;&#105;&#032;[&#064;]&#032;&#112;&#114;&#111;&#116;&#111;&#110;&#105;&#046;&#102;&#105;
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>