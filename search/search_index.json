{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#about","title":"About","text":"<p>This is a personal website hosted on <code>github pages</code> to documentate my ongoing/finished projects, notes, images and such.</p> <p>Website is created with <code>mkDocs</code> using <code>material</code> theme. Images and videos are hosted on <code>imgur</code>.</p>"},{"location":"#site-layout","title":"Site layout","text":"<pre><code>docs/\n    Links/      # Links that I find useful sometimes\n    Notes/      # Various notes I have written or copy-pasted from somewhere\n    Projects/   # Personal projects ( finished and unfinished, old and new )\n    ...\n</code></pre>"},{"location":"Links/resources/","title":"Resources","text":""},{"location":"Links/resources/#ascii-table","title":"Ascii table","text":"<p>https://www.asciitable.com/</p>"},{"location":"Links/resources/#electronics-reference-designs","title":"Electronics reference designs","text":"<p>https://www.digikey.com/reference-designs/en/</p>"},{"location":"Links/resources/#ready-to-order-electronic-designs","title":"Ready-to-order electronic designs","text":"<p>https://kitspace.org/</p>"},{"location":"Links/resources/#emoji-unicode-tables","title":"Emoji unicode tables","text":"<p>https://apps.timwhitlock.info/emoji/tables/unicode</p>"},{"location":"Links/resources/#3d-models","title":"3D models","text":"<p>https://free3d.com/</p>"},{"location":"Links/resources/#lots-of-icons","title":"Lots of icons","text":"<p>https://iconduck.com/</p>"},{"location":"Links/resources/#game-art","title":"Game art","text":"<p>https://opengameart.org/</p>"},{"location":"Links/tools/","title":"Tools","text":""},{"location":"Links/tools/#show-my-public-ip-address","title":"Show my public IP address","text":"<p>https://www.whatismyip.com/</p>"},{"location":"Links/tools/#color-picker","title":"Color picker","text":"<p>https://www.w3schools.com/colors/colors_picker.asp</p>"},{"location":"Links/tools/#json-lint","title":"JSON Lint","text":"<p>https://jsonlint.com/</p>"},{"location":"Links/tools/#wow-stuck-character-service","title":"WoW Stuck character service","text":"<p>https://eu.battle.net/support/en/help/product/wow/197/834/solution</p>"},{"location":"Links/tools/#epoch-converter","title":"Epoch converter","text":"<p>https://www.epochconverter.com/</p>"},{"location":"Links/tools/#online-voice-recorder","title":"Online voice recorder","text":"<p>https://online-voice-recorder.com/</p>"},{"location":"Links/tools/#hacker-news-sorter","title":"Hacker news sorter","text":"<p>https://hckrnews.com/</p>"},{"location":"Links/tools/#dev-hints","title":"Dev hints","text":"<p>https://devhints.io/</p>"},{"location":"Links/tools/#explain-linux-shell-commands","title":"Explain linux shell commands","text":"<p>https://explainshell.com/</p>"},{"location":"Links/tools/#virtual-x86-emulator","title":"Virtual x86 emulator","text":"<p>https://copy.sh/v86/</p>"},{"location":"Links/tools/#benchmark-websites","title":"Benchmark websites","text":"<p>https://pagespeed.web.dev/?hl=fi</p>"},{"location":"Links/tools/#check-public-ips-for-what-they-download","title":"Check public IPs for what they download","text":"<p>https://iknowwhatyoudownload.com/en/peer/</p>"},{"location":"Links/tools/#css-linter","title":"CSS linter","text":"<p>https://css-lint.com/</p>"},{"location":"Links/tools/#convert-webp-to-png","title":"Convert WEBP to PNG","text":"<p>https://cloudconvert.com/webp-to-png</p>"},{"location":"Links/tools/#timezone-converter","title":"Timezone converter","text":"<p>https://www.worldtimebuddy.com/</p>"},{"location":"Links/tools/#screenshot-entire-web-pages","title":"Screenshot entire web pages","text":"<p>https://screenshot.guru/</p>"},{"location":"Links/tools/#pie-chart-maker","title":"Pie chart maker","text":"<p>https://www.rapidtables.com/tools/pie-chart.html</p>"},{"location":"Links/tools/#terminal-session-recorder","title":"Terminal session recorder","text":"<p>https://asciinema.org/</p>"},{"location":"Links/tools/#mp4-compressor","title":"MP4 compressor","text":"<p>https://www.xconvert.com/compress-mp4</p>"},{"location":"Links/tools/#chatgpt","title":"ChatGPT","text":"<p>https://chat.openai.com/chat</p>"},{"location":"Links/tools/#email-address-encoder","title":"Email address encoder","text":"<p>http://www.wbwip.com/wbw/emailencoder.html</p>"},{"location":"Links/tools/#windows-sysadmin-tools","title":"Windows sysadmin tools","text":"<p>https://learn.microsoft.com/en-us/sysinternals/downloads/</p>"},{"location":"Links/tools/#privacy-security-settings-generator","title":"Privacy &amp; security settings generator","text":"<p>https://privacy.sexy/</p>"},{"location":"Links/tools/#tampere-bus-location-tracker","title":"Tampere bus location tracker","text":"<p>https://nyssetutka.fi/</p>"},{"location":"Links/tools/#electronics","title":"Electronics","text":""},{"location":"Links/tools/#voltage-divider-calculator","title":"Voltage divider calculator","text":"<p>https://ohmslawcalculator.com/voltage-divider-calculator</p>"},{"location":"Links/tools/#electronics-circuit-simulator","title":"Electronics circuit simulator","text":"<p>https://www.falstad.com/circuit/</p>"},{"location":"Links/tools/#led-resistor-calculator","title":"LED resistor calculator","text":"<p>https://ledcalculator.net/</p>"},{"location":"Links/tools/#lots-of-electronics-related-calculators","title":"Lots of electronics related calculators","text":"<p>http://www.learningaboutelectronics.com/Calculators/</p>"},{"location":"Links/tools/#math","title":"Math","text":""},{"location":"Links/tools/#math-symbol-list","title":"Math symbol list","text":"<p>https://www.rapidtables.com/math/symbols/Basic_Math_Symbols.html#lnkset</p>"},{"location":"Links/tools/#math-graph-calculator","title":"Math graph calculator","text":"<p>https://www.desmos.com/calculator</p>"},{"location":"Links/tools/#math-solvers","title":"Math solvers","text":"<p>https://www.symbolab.com/</p> <p>https://www.wolframalpha.com/</p>"},{"location":"Links/tools/#binary-decimal-hexadecimal-converter","title":"Binary-decimal-hexadecimal converter","text":"<p>https://www.mathsisfun.com/binary-decimal-hexadecimal-converter.html</p>"},{"location":"Notes/android/","title":"Android","text":""},{"location":"Notes/android/#setup-android-development-environment","title":"Setup android development environment","text":"<pre><code># Setting up android development environment\n\n# Download the installer from the official site and install\nhttps://developer.android.com/studio/\n\n# Create new project\nFile -&gt; New -&gt; New Project\n\n# Configure the project\n- Add name\n- Select Java from the Language drop-down menu\n\n# Setup phone\n- Connect USB cable to the phone\n- Enable developer mode\n-- Settings -&gt; System -&gt; About phone -&gt; Tap Build number 7 times\n- Enable USB debugging\n-- Settings -&gt; System -&gt; Developer options -&gt; USB debugging\n\n# Run hello world on the phone\n- Run -&gt; Select device -&gt; YOUR_PHONE\n- If the phone is not showing up:\n-- Re-attach cable to the phone and make sure to enable USB debugging\n-- Run -&gt; Select device -&gt; Open AVD manager -&gt; Rescan\n-- Click Run\n</code></pre>"},{"location":"Notes/bash/","title":"Bash","text":"","tags":["linux"]},{"location":"Notes/bash/#arrays","title":"Arrays","text":"<p>add to array: <pre><code># Declare a new array\narr=()\n\n# Add some elements to it\narr+=('Hello ')\narr+=('World')\n\n# Print out the elements\necho \"Array: \"${arr[0]} ${arr[1]}\n</code></pre> <pre><code>Array: Hello World\n</code></pre></p> <p>Get an array element with index number: <pre><code># Declare a new array with 3 elements\narr=(\"1\" \"2\" \"3\")\n\n# Print out the elements by the index numbers\necho \"Index 0: \"${arr[0]}\necho \"Index 1: \"${arr[1]}\necho \"Index 2: \"${arr[2]}\n</code></pre> <pre><code>Index 0: 1\nIndex 1: 2\nIndex 2: 3\n</code></pre></p> <p>Get an array element with the key: <pre><code># Create a new Associative array\ndeclare -A arr2\n\n# Set array keys\narr2=([first]=0 [second]=1 [third]=2)\n\n# Print out the elements by the key\necho \"Key first: \"${arr2[first]}\necho \"Key second: \"${arr2[second]}\necho \"Key third: \"${arr2[third]}\n</code></pre> <pre><code>Key first: 0\nKey second: 1\nKey third: 2\n</code></pre></p> <p>Loop through all array items: <pre><code># Declare a new array with 4 elements\narr=(\"1\" \"2\" \"3\" \"4\")\n\n# Loop through the whole array and print the elements\nfor i in \"${arr[@]}\"\ndo\n   echo $i\ndone\n</code></pre> <pre><code>1\n2\n3\n4\n</code></pre></p> <p>Loop through an array by calling the indexes: <pre><code># Declare a new array with 4 elements\narr2=(\"1\" \"2\" \"3\" \"4\")\n\n# Initialize a new counter variable\ncounter=0\n\n# Loop through the array and call each element with the counter as a index\nfor i in \"${arr2[@]}\"\ndo\n     echo ${arr2[$counter]}\n     ((counter++))\ndone\n</code></pre> <pre><code>1\n2\n3\n4\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#file-parameters","title":"File parameters","text":"<p>Get the number of file parameters: <pre><code>#!/bin/bash\necho \"Number of parameters: \"$#\n</code></pre> <pre><code>$ ./parameterTest.sh\nNumber of parameters: 0\n\n$ ./parameterTest.sh param1\nNumber of parameters: 1\n</code></pre></p> <p>Get the current filename: <pre><code>#!/bin/bash\necho \"Current filename: \"$0\n</code></pre> <pre><code>$ ./parameterTest.sh\nCurrent filename: ./parameterTest.sh\n</code></pre></p> <p>Get the first parameter: <pre><code>#!/bin/bash\nif [ $# -gt 0 ]; then\n    echo \"First paramater: \" $1\nelse\n    echo \"0 parameters given\"\nfi\n</code></pre> <pre><code>$ ./parameterTest.sh test1\nFirst paramater:  test1\n\n$ ./parameterTest.sh\n0 parameters given\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#file-reading","title":"File reading","text":"<p>Load file contents to an array: <pre><code>####### testFile.txt #######\ntestRow1\ntestRow2\ntestRow3\n############################\n</code></pre> <pre><code>#!/bin/bash\n\n# Set the filename to a variable\nfilename=\"testFile.txt\"\n\n# Declare a new array\ncontent=()\n\n# Load file content to the array\nmapfile -t content &lt; &lt;( cat $filename )\n\n# Get the array length\narr_length=${#content[@]}\n\n# Print out the array length\necho \"array length: \"$arr_length\n\n# Loop through the array and print the lines\nfor i in \"${content[@]}\"\ndo\n   echo $i\ndone\n</code></pre> <pre><code>$ ./fileReadTest.sh\narray length: 3\ntestRow1\ntestRow2\ntestRow3\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#functions","title":"Functions","text":"<p>Use a global variable that was defined in a function: <pre><code>#!/bin/bash\n\n# Define a new function\ngetWordGlobal() {\n    ret=\"test1\"\n}\n\n# Call the function\ngetWordGlobal\n\n# Print out the variable that was declared in the function\necho \"Global variable output: \"$ret\n</code></pre> <pre><code>$ ./globalFunc.sh\nGlobal variable output: test1\n</code></pre></p> <p>Use local variable that was declared in a function: <pre><code>#!/bin/bash\n\n# Define a new function that returns a local variable\ngetWordLocal() {\n    local ret=\"test2\"\n    echo \"$ret\"\n}\n\n# Call the function and get the local variable in return\nret=$(getWordLocal)\n\n# Print out the local variable declared in the function\necho \"Local variable output: \"$ret\n</code></pre> <pre><code>$ ./localFunc.sh\nLocal variable output: test2\n</code></pre></p> <p>Use function parameters: <pre><code>#!/bin/bash\n\n# Define a function that receives 1 parameter\ngetWordParam() {\n    local ret=\"Hello\"\n    echo \"$ret $1\"\n}\n\n# Call the function with parameter 'World' and get the result in return\nret=$(getWordParam \"World\")\n\n# Print out the result\necho \"Parameter output: \"$ret\n</code></pre> <pre><code>$ ./getWordParam.sh\nParameter output: Hello World\n</code></pre></p> <p>Return booleans from a function: <pre><code>#!/bin/bash\n\n# Declare a new function that takes a parameter and returns a boolean\nisZero() {\n    if [ $1 -eq 0 ]; then\n        true\n    else\n        false\n    fi\n}\n\n# Call the function in an if statement with a parameter\nif isZero 0 ; then\n    echo \"isZero 0 == 0: True\"\nelse\n    echo \"isZero 0 == 0: False\"\nfi\n</code></pre> <pre><code>$ ./retBool.sh\nisZero 0 == 0: True\n</code></pre></p> <p>Return numbers from a function: <pre><code>#!/bin/bash\n\n# Define a function that returns a 0\ngetNumberZero() {\n    local ret=0\n    echo $ret\n}\n\n# Define a function that returns a 1\ngetNumberOne() {\n    local ret=1\n    echo $ret\n}\n\n# Define a function that gets one parameter and checks if it is a zero.\n# Returns a false if the parameter is not zero.\nisZero() {\n    if [ $1 -eq 0 ]; then\n        true\n    else\n        false\n    fi\n}\n\n# Get a number 0 from the function\nret=$(getNumberZero)\n\n# Check if the function return variable is zero\nif isZero $ret; then\n    echo \"Get number Zero: True\"\nelse\n    echo \"Get number Zero: False\"\nfi\n\n# Get a number 1 from the function\nret2=$(getNumberOne)\n\n# Check if the function return variable is zero again\nif isZero $ret2; then\n    echo \"Get number One: True\"\nelse\n    echo \"Get number One: False\"\nfi\n</code></pre> <pre><code>$ ./retNum.sh\nGet number Zero: True\nGet number One: False\n</code></pre></p> <p>Return arrays from a function: <pre><code>No practical way of returning arrays from functions in Bash.\n</code></pre></p> <p>Use global variables in a function: <pre><code>#!/bin/bash\n\n# Define a variable that prints out a global variable value\nprintRet() {\n    echo \"printRet() output: \"$ret\n}\n\n# Define a global variable\nret=\"test_var\"\n\n# call the function the the variable\nprintRet ret\n</code></pre> <pre><code>$ ./globalVarInFunc.sh\nprintRet() output: test_var\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#if-statements","title":"If statements","text":"<p>One if-condition: <pre><code>#!/bin/bash\n\n# Define some variables with a numeric values\nval1=1\nval2=0\n\n# Check if 'value 1' is greater that 'value 2' and print out the result\nif [ $val1 -gt $val2 ]; then\n    echo $val1\" is greater than \"$val2\nelse\n    echo $val1\" is not greater than \"$val2\nfi\n</code></pre> <pre><code>$ ./isGreaterThan.sh\n1 is greater than 0\n</code></pre></p> <p>Two if-conditions: <pre><code>#!/bin/bash\n\n# Define some variables with a numeric values\nval1=1\nval2=0\nval3=1\n\n# Check if 'value 1' is greater than 'value 2' or 'value 3'.\n# And print out the result.\nif [[ ( $val1 -gt $val2 ) || ( $val1 -gt $val3 ) ]]; then\n    echo $val1\" &gt; \"$val2\" or \"$val1\" &gt; \"$val3\nelse\n    echo $val1\" &lt;= \"$val2\" and \"$val1\" &lt;= \"$val3\nfi\n</code></pre> <pre><code>$ ./isGreaterThan.sh\n1 &gt; 0 or 1 &gt; 1\n</code></pre></p> <p>Four if-conditions: <pre><code>#!/bin/bash\n\n# Define some variables with a numeric values\nval1=1\nval2=0\nval3=1\n\n# Check if 'value 1' is greater than 'value 2' and 'value3' \n# or if 'value 2' is greater than 'value 1' and 'value 3'\nif [[ ( $val1 -gt $val2 &amp;&amp; $val1 -gt $val3 ) || ( $val2 -gt $val1 &amp;&amp; $val2 -gt $val3 ) ]]; then\n    echo $val1\" &gt; \"$val2\" and \"$val1\" &gt; \"$val3 \" or \"$val2\" &gt; \"$val1\" and \"$val2\" &gt; \"$val3\nelse\n    echo $val1\" &lt;= \"$val2\" and \"$val1 \" &lt;= \"$val3 \" and \"$val2\" &lt;= \"$val1\" and \"$val2\" &lt;= \"$val3\nfi\n</code></pre> <pre><code>$ ./isGreaterThan.sh\n1 &lt;= 0 and 1  &lt;= 1  and 0 &lt;= 1 and 0 &lt;= 1\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#input","title":"Input","text":"<p>Read user input from the shell: <pre><code>#!/bin/bash\n\n# Print out the instructions for the user\necho \"Type something:\"\n\n# Read the input with a prompt message '&gt;'\nread -p '&gt;' input\n\n# Print out the result\necho \"You typed: \"$input\n</code></pre> <pre><code>$ ./getInput.sh\nType something:\n&gt;test1\nYou typed: test1\n</code></pre></p>","tags":["linux"]},{"location":"Notes/bash/#variables","title":"Variables","text":"<p>Increment a counter: <pre><code>#!/bin/bash\n\n# Initialize a counter variable to 0\necho \"Setting counter to 0\"\ncounter=0;\n\n# Increment the counter and print out the result\necho \"Counter: \"$counter\necho \"Adding to counter\"\ncounter=$((counter+1))\n\n# Different ways the counter can be incremented\necho \"Counter: \"$counter\n((counter=counter+1))\necho \"Counter: \"$counter\n((counter+=1))\necho \"Counter: \"$counter\n((counter++))\necho \"Counter: \"$counter\n</code></pre> <pre><code>$ ./incrementCounter.sh\nSetting counter to 0\nCounter: 0\nAdding to counter\nCounter: 1\nCounter: 2\nCounter: 3\nCounter: 4\n</code></pre></p> <p>Subtract a counter: <pre><code>#!/bin/bash\n\n# Initialize a counter variable and set the value to 4\necho \"Setting counter to 4\"\ncounter=4;\n\n# Subtract from the counter and print out the result\necho \"Subtracting from counter\"\ncounter=$((counter-1))\necho \"Counter: \"$counter\n\n# Different ways the counter can be subtracted\n((counter=counter-1))\necho \"Counter: \"$counter\n((counter-=1))\necho \"Counter: \"$counter\n((counter--))\necho \"Counter: \"$counter\n</code></pre> <pre><code>$ ./subtractCounter.sh\nSetting counter to 4\nSubtracting from counter\nCounter: 3\nCounter: 2\nCounter: 1\nCounter: 0\n</code></pre></p>","tags":["linux"]},{"location":"Notes/cryptocurrency/","title":"Cryptocurrency","text":""},{"location":"Notes/cryptocurrency/#bitcoin-questions-and-answers","title":"Bitcoin questions and answers","text":"<pre><code># Transaction questions:\n\nQuestion:\nI was checking transactions in blockchain.info. I have some questions about transaction information about input and output addresses.\n\nblock address: https://blockchain.info/address/1NHv6qBxu6haWj8rqeLqw9eyJqm4JT26R6\n\n    1. why some of transactions have one input and one output? They don't have any change transaction?\n    2. If any transaction has two output, the second one is change transaction?\n    3. can we see fee transactions in output address?\n    4. Are multiple addresses in input part related to each address in wallet that has bitcoin?\n\n\nAnswer:\n\nQ) why some of transactions have one input and one output?\nA) A bitcoin transaction can have many inputs and many outputs. Bitcoin has a transaction oriented logic, where amounts are transferred from previous transactions. As an example (neglecting the fees): to be able to spend 1 bitcoin, when the wallet has 2 previous tx with amounts of 0.5 BTC, then a new tx is created with two inputs. Same logic would apply, if 4 previous tx existed, each @0.25 BTC. Then a tx with 4 inputs would be created. For the outputs: you can create tx with one or more outputs. E.g. faucets pay to many outputs, instead of creating single transactions - this saves on the fees.\n\nQ) They don't have any change transaction?\nA) If you are not the owner of a wallet, you cannot know, which is the \"change\". Normally you have an output address, and a return address (for the change, like in the second example of the screen shot). The transactions move from one pubkey to another pubkey address, and there we cannot see, which addresses belongs to the user's wallet, and which might be the change address. With this said, there are some activities to try to link addresses to real users. They create diagrams, and try to see the flow of tx, and derive the information. But when using addresses only once, you wouldn't loose your privacy...\n\nQ) If any transaction has two output, the second one is change transaction?\nA) not necessarily. I can send a transaction with 0.5 BTC to my brother, and 0.5 BTC to my sister. So there would be no change address.\n\nQ) can we see fee transactions in output address?\nA) hmm, no... Transaction fee is the difference between summary of input values and summary of output values. A usual case: you have one BTC, you send 0.5 to your brother, you send to your change address 0.4995, and the diff is the fees, which go to the miners.\n\nQ) Are multiple addresses in input part related to each address in wallet that has bitcoin?\nA) Not necessarily. The bitcoin network doesn't know about wallets, and its belonging addresses - this is a layer to make it more comfortable for the endusers. The bitcoin network works with transactions, moving funds from address(es) to address(es). No wallet information is included. So multiple input parts can belong to different wallets.\n\nA good overview of transactions is here: \nhttps://en.bitcoin.it/wiki/Transaction\nand of course in Andreas' book \"Mastering Bitcoin\", which is also online available:\nhttp://shop.oreilly.com/product/0636920049524.do\n\n\nFrom:\nhttps://bitcoin.stackexchange.com/questions/74003/multiple-input-and-output-addresses-in-bitcoin-transactions\n</code></pre>"},{"location":"Notes/cryptocurrency/#eclair-close-uncooporative-channel","title":"Eclair close uncooporative channel","text":"<pre><code>1. Download DnsChanger from play store\n2. run DnsChanger on mobile\n3. configure DnsChanger:\n    DNS1: 54.227.38.238\n    DNS2: 8.8.4.4\n4. activate DnsChanger\n5. open browser and go to http://eclair.dns ( not https )\n6. restart eclair\n7. funds should appear soon\n8. if funds appeared as on chain transaction, DnsChanger can be closed\n\n# If funds are not appearing yet. Wait another 144 blocks and redo \nprevious steps\n</code></pre>"},{"location":"Notes/cryptocurrency/#setup-lightning-network-node","title":"Setup lightning network node","text":"<pre><code># Good guide on how to setup lightning network node\nhttps://github.com/Stadicus/guides/blob/master/raspibolt/README.md\n</code></pre>"},{"location":"Notes/databases/","title":"Databases","text":""},{"location":"Notes/databases/#mongodb-notes","title":"MongoDB notes","text":"<pre><code>use newdatabase                                  # Creates a database\ndb.mycollection.insert({\"name\":\"toni\",\"age\":26}) # A row must be added before the table can be seen in the database\nshow dbs                                         # Table exists now\ndb.mycollection.find().pretty()                  # Show the table\n\n# Mongodb scheme\nnpm install --save mongoose\n\n# Show collections\nshow collections\n\n# This is how indexing works in MongoDB:\ndb.users.createIndex({lastname:1})\n\n# Multiple indexes created at the same time:\ndb.users.createIndex({firstname:1,lastname:1})\n\n# Get the row count of a table\ndb.customerdata.count({custId:{$gte:1}})\n\n# MongoDB usage with javascript\n// var conn = new Mongo();\n// var db = conn.getDB(\"customerdb\");\n// db.customerdata.insert(data);\n\nload(\"C:/Program Files/MongoDB/Server/4.0/scripts/mapreduce.js\")\n</code></pre>"},{"location":"Notes/databases/#mysql-remote-server-setup","title":"MySQL remote server setup","text":"<pre><code># If c libraries can't access the server:\n\n# 1. Edit config\nsudo nano /etc/mysql/my.cnf\n\n# 2. Comment out:\n    skip-external-locking\n    bind-address\n\n# 3. Restart MySQL\nsudo service mysql restart\n</code></pre>"},{"location":"Notes/databases/#mysqldump","title":"MySQLdump","text":"<pre><code># Backup database:\nmysqldump -uroot -pmysql DATABASE_NAME &gt; DATABASE.sql\n\n# Restore database:\nC:\\&gt; mysql -u root -p\nmysql&gt; create database mydb;\nmysql&gt; use mydb;\nmysql&gt; source DATABASE_NAME.sql;\n\n\n# Backup a table:\nmysqldump -uroot -pmysql DATABASE_NAME TABLE_NAME &gt; DATABASE_NAME_TABLE_NAME.sql\n\n# Restore a table:\nmysql -uroot -pmysql DATABASE_NAME &lt; DATABASE_NAME_TABLE_NAME.sql\n</code></pre>"},{"location":"Notes/databases/#mysql-notes","title":"MySQL notes","text":"<pre><code>## Change user password:\n\n# 1. Login to mysql as root:\nmysql -uroot -p\n\n# 2. use mysql;\n\n# 3. Change password in versions &lt; 5.7.5\nSET PASSWORD FOR 'user'@'localhost' = PASSWORD('PASSWORD_HERE');\n\n# 4. Change passwords in versions &gt; 5.7.5\nALTER USER 'user'@'localhost' IDENTIFIED BY 'PASSWORD_HERE';\n\n\n\n## Create a new user\n# Show users\n\n# Create admin user\nCREATE USER 'admin'@'localhost' IDENTIFIED BY 'PASSWORD_HERE';\n\n# Set privileges\nGRANT ALL PRIVILEGES ON * . * TO 'admin'@'localhost';\n\n# Reload privileges\nFLUSH PRIVILEGES;\n\n\n## Fix error: ER_NOT_SUPPORTED_AUTH_MODE\n# Login to mysql root\nmysql -uroot -p\n\n# Change user password to mysql native password\nALTER USER 'admin'@'localhost' IDENTIFIED WITH mysql_native_password BY 'PASSWORD_HERE';\n</code></pre>"},{"location":"Notes/databases/#mysql-workbench-notes","title":"MySQL workbench notes","text":"<pre><code>## If 'mysql' and other internal schemas are missing:\nEdit -&gt; Preferences -&gt; SQL Editor -&gt; Show Metadata and Internal Schemas -&gt; OK -&gt; Hit refresh in the 'SCHEMAS' view.\n\n## Connect remotely to mysql database.\n\n# 1. Create a SSH tunnel\nPutty -&gt; Session -&gt; Host Name -&gt; 192.168.1.35\nPutty -&gt; Connection -&gt; Data -&gt; Auto-login username -&gt; pi\nPutty -&gt; Connection -&gt; SSH -&gt; Auth -&gt; Private key file for authentication -&gt; PRIVATE_KEY_HERE\nPutty -&gt; Connection -&gt; SSH -&gt; Auth -&gt; Tunnels -&gt; Source port: 3306\nPutty -&gt; Connection -&gt; SSH -&gt; Auth -&gt; Tunnels -&gt; Destination: 127.0.0.1:3306 -&gt; Add\nPutty -&gt; Sessions -&gt; set name to 'Saved sessions' -&gt; Save\n\n# 2. Download MySQL Workbench\n\n# 3. Create a new connection\nDatabase -&gt; Manage connections -&gt; New\nHostname:  127.0.0.1\nPort:      3306\nUsername:  USER_NAME_HERE\nPassword:  Store in Vault\nTest Connection\n\n# 4. Open connection\nDatabase -&gt; Connect to database -&gt;\nStored Connection: STORED_CONNECTION_HERE\nConnection Method: Standard(TCP/IP)\n</code></pre>"},{"location":"Notes/databases/#compare-two-different-mysqldump-files","title":"Compare two different mysqldump files","text":"<pre><code>if [[ $(ls -A | diff TEST3.sql TEST4.sql | grep 'INSERT') ]]; then echo 1; else echo 0; fi\n</code></pre>"},{"location":"Notes/editors/","title":"Editors","text":""},{"location":"Notes/editors/#notepad-notes","title":"Notepad++ notes","text":"<pre><code># Replace tabs with spaces\nSettings -&gt; Language -&gt; Tab Settings -&gt; Replace by space and Tab size: 4\n\n# Show hidden characters ( spaces and tabs )\nView -&gt; Show Symbol -&gt; show White Space and TAB\n\n# Format json:\nCtrl + Shift + Alt + m\n\n# Base64 decode:\nPlugins -&gt; MIME tools -&gt; Base64 decode\n</code></pre>"},{"location":"Notes/editors/#vim","title":"Vim","text":"<pre><code># Create vim config file\n1. vim ~/.vimrc\n2. write some basic settings in:\n    set ruler laststatus=2 number title hlsearch\n    syntax on\n3. ESC -&gt; :wq\n\n\n## Random commands\n\n# Paste from clipboard:\nMouse right click\n\n# Re-do\nCtrl + r\n\n# Undo\nEsc -&gt; u\n\n# Search\nEsc -&gt; /\n\n# Find and replace\n:%s/old_text/new_text\n\n# Open terminal\n:ter\n\n# Refresh current file\nEsc -&gt; :e!\n\n\n## Moving\n\n# Move to start of a line\nEsc -&gt; 0\n\n# Move to start of a line\nEsc -&gt; 0\n\n# Move forward one word (next alphanumeric word)\nEsc -&gt; w\n\n# Move forward one word (delimited by a white space)\nEsc -&gt; W\n\n# Move to the beginning of the file:\nEsc -&gt; gg\n\n# Move to the end of the file:\nEsc -&gt; G\n</code></pre>"},{"location":"Notes/editors/#visual-studio","title":"Visual studio","text":"<pre><code># Disable command line\nConsole (/SUBSYSTEM:CONSOLE)\n\n# Add library\n1. Create include folder and add the header files in here\n2. In Visual Studio: Project -&gt; VC++ Directories -&gt; add include folder to IncludeDirectories\n3. Create lib folder and put the .lib in here\n4. Add lib files to Linker -&gt; General -&gt; Additional Library Directories\n5. Add assimp.lib to Linker -&gt; Input -&gt; Additional Dependencies\n</code></pre>"},{"location":"Notes/editors/#setup-ftp-connection-on-visual-studio-code","title":"Setup FTP connection on Visual studio code","text":"<pre><code># Setup FTP connection.\n1. Install FTP-simple\n2. modify config-file ( press F1 -&gt; ftp-simple: config - FTP settings )\n[\n    {\n        \"name\": \"raspberry pi\",\n        \"host\": \"192.168.1.35\",\n        \"port\": 22,\n        \"type\": \"sftp\",\n        \"username\": \"USERNAME_HERE\",\n        \"password\": \"\",\n        \"promptForPass\": false,\n        \"path\": \"/home/USERNAME_HERE/\",\n        \"autosave\": true,\n        \"confirm\": false,\n        \"readyTimeout\": 99999,\n        \"privateKey\": \"C:\\\\path\\\\to\\\\ssh\\\\private_key.ppk\",\n        \"passphrase\": \"SSH_KEY_PASSWORD_HERE\"\n    }\n]\n\n3. Usage: Press F1 -&gt; ftp-simple: Remote - remote directory open to workspace\n\n# Show white spaces:\nView -&gt; Render Whitespace\n</code></pre>"},{"location":"Notes/electronics/","title":"Electronics","text":""},{"location":"Notes/electronics/#eagle-notes","title":"EAGLE notes","text":"<pre><code>#### Control panel ####\n\n# Take custom librarys into use\nCreate custom_libraries folder under EAGLE projects dir and add .lbr file under it, for example:\nOSD3358_BAS_RefDesignParts.lbr\nAlso in the control panel click the gray dot next to the library name, it should change to green\n\n\n#### General board layout notes ####\n# Routing high speed traces\nFor example USB data lines should be the same length, or max. 1% difference in trace lengths. Measure the trace\nlengths and if the other one is too short, a length matching bends can be created to the end of the trace. Width\nbetweend the bend should be greater than 3x the trace width and the angles should be at least 135 degrees.\n\n\n#### Schematic view ####\n\n# Create bill of material\nSelect schematic view -&gt; ULP -&gt; bom.ulp Bill Of Material -&gt; Save...\n\n# Things to check before sending gerber files to manufacturer\n- Run ERC check ( Electrical Rule Check )\n- Make sure the components are available\n- Check that every label connects to the right place\n- Check that components have values.\n- Add comments and circuit names\n\n\n#### Board layout ####\n\n# Creating Gerber files\nLayout view -&gt; File -&gt; CAM Processor -&gt; Load Job File (next to save disk-image) -&gt; Local CAM Jobs -&gt; examples\n-&gt; Third Party -&gt; OSH Park -&gt; OSH Park 4 layer -&gt; Check that everything is OK -&gt; Process Job -&gt; Save\n\n# Force routing through pins\nSelect route airwave tool and select 'Ignore obstacles' from the top toolbar\n\n# Measure trace lengths. ( Other information also available here, for example max current based on trace length )\nPaste this command in the command line:\nrun length-freq-ri\n\n# Skip thermal gaps when doing copper pour\nSelect 'Thermals off' from the polygon menu in the top toolbar after selecting polygon tool. This needs to be selected\nbefore doing the polygon.\n\n# Create board borders ( dimensions ).\nEnsure that the board starts from the white dottex cross mark on the view.\nClick dimensions tool and go through the edges of the board. Make sure that outside of the board is gray colored and\nthe board itself is black. Check from Manufacturing previw windows that the board layout is ok.\n\n# Create ground and power planes ( layers )\nEnsure that there is enough layers to do this. With bottom and top signal layers already used, more layers is needed.\nThen create a copper pour over the whole board\n\n# Add more layers\nDRC -&gt; Layers -&gt; dropdown 2 - 16 layers.\n\n# Connect via's to specific layer\nRight click via and set the name. For examle to place via's to ground set the name to GND, or to power source, change the name\nto for example SYS_3V3\n\n# Add copper pours\nClick polygon in the toolbar and create a full loop with it to create the borders of the pour, then click ratsnest to pour the copper.\n\n# Remove golden circle around via when previewing\nDRC -&gt; Masks -&gt; Limit. Set to for example 25mil.\n\n# Switch layers while routing\nClick Scroll wheel and select another layer to continue on another layer, this will place a via.\n\n# Check for board layout errors\nDRC -&gt; check\n\n# Good font size for component value on silkscreen:\n32 with 8% ratio\n\n# Things to check before sending gerber files to board manufacturer\n- All the component designators are placed appropriately next to their corresponding components.\n- Pin 1 is marked for necessary components. This includes all ICs, connectors and polarized capacitors.\n- There is no silkscreen over any component pads. This can lead to bad solder joints.\n- The font size of the component designators is as large as possible given the space constraints of the board so that the text is readable.\n- Try to not place silkscreen over vias. Silkscreen has a hard time adhering to the annular ring of a via which can make the text difficult to read.\n</code></pre>"},{"location":"Notes/electronics/#how-does-current-pass-thru-a-capacitor","title":"How does current pass thru a capacitor?","text":"<pre><code>- Normally it does not, only when voltages change rapidly, which means a change\nin the electric field.\n- There are two types of current. Current flowing in a conductor and \"conduction current\"\nas well as \"change in electric field\"-current.\n</code></pre>"},{"location":"Notes/electronics/#cross-talk","title":"Cross talk","text":"<pre><code># How to reduce cross talk on a PCB?\n- Move tracks further away from each other.\n- Have a current return path ( GND ) closer to the track that cross talks.\nFor example on a 4 layer PCB, have a GND layer right under signal layer.\n\n# Cross talk happens only on a rising/falling edge in the signal. Basically a change\nin voltage will create a electric field and it will couple in to the other trace\nthat is too close.\n- There is no cross talk anywhere else than near the falling/rising signal edge.\nOther than what happens on the receiving end of the cross talk, which spreads that\nvoltage pulse in both ways.\n\n# When cross talke happens. The other trace which is affected by the cross talk, will\nhave a voltage pulse, that will move in both directions.\n- https://www.youtube.com/watch?v=EF7SxgcDfCo\n</code></pre>"},{"location":"Notes/electronics/#selecting-the-right-ic","title":"Selecting the right IC","text":"<pre><code>- Brand\n  - Buy parts from manufacturers that are likely to be around a while ( NXP, TI etc.. )\n- Length of the component life\n  - Make sure availability is OK for the next few years.\n- Industry\n  - Temperature range\n- Documentation\n  - Make sure that the part has good documentation available\n  - Schematics and design guides.\n  - Checklist is a plus.\n- Support\n  - Check if there is a good community support\n  - Check if reference designs are available\n  - Check if there is generally some information available on the internet.\n- Reference boards\n  - Reference designs make the development process alot easier\n- Performance\n- Software\n  - Make sure drivers are available or at least some example code.\n</code></pre>"},{"location":"Notes/electronics/#transmission-line-rules-of-thumb","title":"Transmission Line Rules of Thumb","text":"<pre><code>http://www.hottconsultants.com/techtips/rulesofthumb.html\n\n# How to count 50 ohm track ( width of the track )\nMultiply height of the dielectric field by 2\nExample:\n5mil delectric * 2 = 10mil track to get 50ohms\n</code></pre>"},{"location":"Notes/electronics/#kicad","title":"Kicad","text":"<pre><code># \"0 items loaded\" when trying to Choose Symbol\n- Main Kicad window -&gt; Preferences -&gt; Manage Symbol Libraries -&gt;\nGlobal Libraries -&gt; Add libraries here. They are located in Kicad install dir:\nC:\\Program Files\\KiCad\\share\\kicad\\library\nSelect them all with Ctrl + A.\n\n# Move components\n- Hover on a component with a mouse cursor and press M.\n- To rotate, hover a component and press R.\n- To copy, hover a component and press C.\n- To drag lines press G.\n\n# Name components\n- Click \"annotate schematic symbols\" from the toolbar in top right side. \n  ( pen and paper )\n- It's best to do this once the schematic is done.'\n\n# Assign values to components\n- Hover over a component and press E.\n- Set value to \"text\" field.\n\n# Create new sheet\n- Create hierarchial sheet by pressing S.\n- Enter to newly created sheet by right clicking and selecting \"Enter sheet\"\n- Leave the newly created sheet by right clicking and selecting \"Leave sheet\"\n- To create a local label:\n-- Place -&gt; Place hierarchial label\n- To Reference local label from root sheet:\n-- Place -&gt; Import Hierarchial label\n\n# View basic keybinds ( Draw lines, add symbolds etc. )\n- Help -&gt; List hotkeys ( Ctrl + F1 )\n- 'Place' tab\n\n# Open symbol editor\n'Create, delete and edit symbols'-icon in toolbar\n\n# Create custom library for a project\nSymbol Editor -&gt; File -&gt; New Library -&gt; Global\n\n# Add component to custom library\nSymbol Editor -&gt; Search for your component -&gt; Right click -&gt; Copy -&gt; Search for\nyour library -&gt; Right click -&gt; Paste symbol\n\n# Place components from custom library\nSymbol Editor -&gt; Search for your custom library -&gt; Right click -&gt; Pin\nThen in schematics editor when placing components, library is on top of the list\n\n# Add GND or signal/power plane\nSelect B.Cu layer ( or any other layer, B is for bottom plane ) -&gt; Add a filled\nzone -&gt; click to a corner where the plane starts -&gt; Select net ( for example ND )\n-&gt; Ensure layer is correct -&gt; Pad connections -&gt; Thermal reliefs -&gt; Ok -&gt; click\nonce for every corner -&gt; double click to finish -&gt; Pres 'B' to fill the zone.\n\n# Set manufacturer design rules ( JLCPCB )\nOpen Kicad -&gt; In the main window click 'Plugin And Content Manager' -&gt; Install\n-&gt; Apply pending changes -&gt;\n</code></pre>"},{"location":"Notes/electronics/#stm32cube-ide","title":"STM32cube IDE","text":"<pre><code># Error downloading the following files: (target directory already exists)\n- Go to C:\\Users\\USER_NAME_HERE\\STM32Cube\\Repository\n- Extract stm32cube_fw_f1_v183.zip to the same folder\n- STM32CubeIDE -&gt; Project -&gt; Generate code\n\n# C/C++ Project\nA generic C or C++ project without specific configurations forSTM32\nmicrocontrollers.\n\n# STM32 Project\nA project specifically configured for STM32 microcontrollers,with\nintegrated setup steps for selecting microcontroller, configuring peripherals,\netc.\n\n# Project\nA generic project creation option with a variety of available project types\ndepending on installed plugins and configurations.\n\n# Create project\nFile -&gt; New -&gt; STM32 Project -&gt; Ctrl + F to find your MCU -&gt; Next -&gt;\nLocation: Change project location if needed\nTargeted Language: C\nTargeted Binary Type: Executable\nTargeted Project Type: STM32Cube\n-&gt; Finish -&gt; Alt + L ( myST ) -&gt; login\n</code></pre>"},{"location":"Notes/electronics/#how-to-design-boards-that-work-the-first-time","title":"How to design boards that work the first time","text":"<pre><code>1. Import reference schematics\n- Ask orCAD or Altium schematics from chip manufacturers\n- Saves time\n- Reassures you that connections are correct\n\n2. Use the same pinout / connections as in the reference circuit\n- Faster software development\n- Can use reference software/firmware\n- Circuit works already\n\n3. Build simple test circuits\n- Create 1 layer test PCB for untested circuits\n\n4. Add bypass resistors, pull ups &amp; downs, optional components etc.. into your schematic\n- If you are not sure a net is 100% going to work, add for example 0% resistor\n- If not sure if you need a pull-up or pull-down resistor, add a traces for both and\nthen leave other one empty\n- Add bypass 0 ohm resistor for circuits you are not sure if they work\n- For EMI testing, add footprints around the board, can be populated with resistors or\ncapacitors based on testing results\n\n5. Check, double check and triple check your libraries\n- When creating a footprint\n-- You can be sure that it has the correct footprint\n- Double check pinouts on the parts\n\n6. Go through schematic check and layout check documents\n\n7. Take time to browse and check your schematic\n- Take 2 weeks checking schematics, footprints and pinouts\n- Altium Navigator is a good tool for this\n\n8. Once placement is ready, build a paper model\n- Print out the PCB on a cardboard\n- Place all of the components to the paper before manufacturing the boards\n- Place all the connector wires, USB sticks to USB connectors etc.. to make sure that\nthey fit in place also\n\n9. Reuse reference layout\n\n10. Read and follow design guides\n- Use manufacturer's design guide for the chip, if such a thing is available\n\n11. If, during layout, you have to break important rules, simulate\n\n12. Imagine what will happen when you connect your board to power.\nImagine what you are going to do when you receive your first prototype\n\n# Link\nhttps://www.youtube.com/watch?v=h5SazzziazM\n</code></pre>"},{"location":"Notes/git/","title":"Git","text":""},{"location":"Notes/git/#config","title":"Config","text":"<pre><code>git config --global user.name \"Firstname Lastname\"\ngit config --global user.email \"your_email@example.com\"\n</code></pre>"},{"location":"Notes/git/#setup-ssh-keys","title":"Setup SSH keys","text":"<pre><code># TLDR github example:\nssh-keygen -t rsa -C \"your_email@example.com\"\nin github -&gt; settings -&gt; SSH and GPG keys -&gt; new key -&gt; paste public key here\n\n# Another way:\nhttps://confluence.atlassian.com/bitbucket/set-up-an-ssh-key-728138079.html\n</code></pre>"},{"location":"Notes/git/#test-ssh-keys","title":"Test SSH keys","text":"<pre><code>ssh -T git@github.com\n</code></pre>"},{"location":"Notes/git/#connect-to-git-repo","title":"Connect to git repo","text":"<pre><code>git remote add origin git@github.com:user/repo_name.git\ngit push origin master \n(if it doesn't work, then):\ngit pull --rebase origin master\ngit push origin master\n</code></pre>"},{"location":"Notes/git/#delete-branches","title":"Delete branches","text":"<pre><code># Delete remote branch\ngit push origin -d cleanup\n\n# Delete local branch\ngit branch -D cleanup\n</code></pre>"},{"location":"Notes/git/#rename-branches","title":"Rename branches","text":"<pre><code># Rename local and remote branch\n# Example: rename master to old-master\ngit checkout master\ngit branch -m old-master\ngit push origin :master old-master\ngit push origin -u old-master\n</code></pre>"},{"location":"Notes/git/#fix-is-unmerged-error","title":"Fix 'is unmerged' error","text":"<pre><code># ton@ubuntu:~/work/git/test-repo$ git checkout -- .\n# error: path 'Dockerfile' is unmerged\n# error: path 'Makefile' is unmerged\n\ngit reset Makefile\ngit reset Dockerfile\n</code></pre>"},{"location":"Notes/git/#clear-all-staged-files","title":"Clear all staged files","text":"<pre><code>git restore --staged .\n</code></pre>"},{"location":"Notes/git/#discard-local-changes-for-specific-file","title":"Discard local changes for specific file","text":"<pre><code>git checkout path/to/file.cpp\n# This can resolve for example an issue when doing \"git pull origin master\" to \n# feature branch: \"Please commit your changes or stash them before you merge. ( Note: you will lose your changes )\"\n</code></pre>"},{"location":"Notes/git/#prevent-lf-clrf-line-breaks-change-on-one-repo","title":"Prevent LF -&gt; CLRF ( line breaks ) change on one repo","text":"<pre><code>git config --local core.autocrlf false\n</code></pre>"},{"location":"Notes/git/#undo-a-merge-before-pushing","title":"Undo a merge before pushing","text":"<pre><code>1. Check the commit hash with git reflog\n#Example:\n#PS C:\\work\\git\\example-branch&gt; git reflog\n#576e60f (HEAD -&gt; master) HEAD@{1}: checkout: moving from feature-usb-support to master\n#4fa9e62 (origin/master, origin/HEAD) HEAD@{4}: checkout: moving from feature-usb-led-support to master\n#ca1499b (origin/feature-usb-led-support, feature-usb-led-support) HEAD@{5}: pull: Fast-forward\n#b1f3ab7 HEAD@{6}: checkout: moving from feature-usb-support to feature-usb-led-support\n#ead3f6e (origin/feature-usb-support, feature-usb-support) HEAD@{7}: checkout: moving from feature-usb-led-support to feature-usb-support\n#b1f3ab7 HEAD@{8}: pull: Fast-forward\n#fc2dced HEAD@{9}: checkout: moving from feature-usb-support to feature-usb-led-support\n#ead3f6e (origin/feature-usb-support, feature-usb-support) HEAD@{10}: commit: Set LED on when communicating with devices\n#83e438d HEAD@{11}: commit (merge): Merge LED handling changes.\n#4fa9e62 (origin/master, origin/HEAD) HEAD@{13}: checkout: moving from feature-usb-led-support to master\n#fc2dced HEAD@{14}: checkout: moving from feature-usb-support to feature-usb-led-support\n\ngit reset --hard 4fa9e62\n</code></pre>"},{"location":"Notes/git/#fix-failed-to-push-some-refs-to","title":"Fix 'Failed to push some refs to..'","text":"<pre><code>git push -u origin branch-name-here\n# Some git providers throw this error for example when trying to push a new branch\n</code></pre>"},{"location":"Notes/git/#undo-the-last-commit-before-pushing","title":"Undo the last commit before pushing","text":"<pre><code># To undo and keep the changed made to files:\ngit reset HEAD^\n# more? Error: Add \" around HEAD^\nError: git reset \"HEAD^\"\n\n# To undo and remove changes made to files:\ngit reset --hard HEAD^\n\n# To remove last two commits and file changes:\ngit reset --hard HEAD~2\n</code></pre>"},{"location":"Notes/git/#discard-untracked-files","title":"Discard untracked files","text":"<pre><code># List all:\ngit clean -n\n\n# Delete ( directories and files ):\ngit clean -fd\n</code></pre>"},{"location":"Notes/git/#delete-remote-file-keep-locally","title":"Delete remote file ( keep locally )","text":"<pre><code>git rm --cached &lt;filename&gt;\ngit rm --cached -r &lt;dir_name&gt;\ngit commit -m \"Removed folder from repository\"\ngit push origin master\n</code></pre>"},{"location":"Notes/git/#discard-changes","title":"Discard changes","text":"<pre><code>git checkout -- .\n</code></pre>"},{"location":"Notes/git/#undo-last-local-commit","title":"Undo last local commit","text":"<pre><code># Undo:\ngit reset HEAD~\n\n# Example:\ngit commit -m \"Something terribly misguided\"\ngit reset HEAD~\n&lt;&lt; edit files as necessary &gt;&gt;\ngit add ...\ngit commit -c ORIG_HEAD\n</code></pre>"},{"location":"Notes/git/#resolve-merge-conflicts","title":"Resolve merge conflicts","text":"<pre><code># Example: conflict in merging feature branch 'io-sampler-optimizing' to 'develop' branch\n1. git checkout develop\n2. git pull\n3. git checkout io-sampler-optimizing\n4. git pull origin develop  # this creates the conflict lines in local files\n5. Fix the conflicts\n6. git add .\n7. git commit -m \"Resolved merge conflicts.\"\n8. git push origin io-sampler-optimizing\n\n# Some other tutorial:\nhttps://confluence.atlassian.com/bitbucket/resolve-merge-conflicts-704414003.html\n</code></pre>"},{"location":"Notes/git/#change-branch-name","title":"Change branch name","text":"<pre><code># Rename your local branch.\n\n# If you are on the branch you want to rename:\ngit branch -m new-name\n\n# If you are on a different branch:\ngit branch -m old-name new-name\n\n# Delete the old-name remote branch and push the new-name local branch.\ngit push origin :old-name new-name\n\n# Reset the upstream branch for the new-name local branch.\n# Switch to the branch and then:\ngit push origin -u new-name\n</code></pre>"},{"location":"Notes/git/#revert-to-specific-commit","title":"Revert to specific commit","text":"<pre><code>git revert a66b89f\n</code></pre>"},{"location":"Notes/git/#delete-last-pushed-commit","title":"Delete last pushed commit","text":"<pre><code>git push -f origin last_known_good_commit:branch_name\n</code></pre>"},{"location":"Notes/git/#start-ssh-agent-on-linux","title":"Start SSH agent on Linux","text":"<pre><code>eval $(ssh-agent)\nssh-add ~/.ssh/github/github-key\n</code></pre>"},{"location":"Notes/git/#fix-issue-where-git-keeps-asking-for-user-credentials","title":"Fix issue where git keeps asking for user credentials","text":"<pre><code># Change this:\nton@mx-5:~/beaglebone-os$ git config remote.origin.url\nhttps://github.com/protoni/beaglebone-os\n\n# To this:\ngit config remote.origin.url \"git@github.com:protoni/beaglebone-os\"\n</code></pre>"},{"location":"Notes/git/#fix-issue-with-changes-not-staged-for-commit","title":"Fix issue with Changes not staged for commit","text":"<pre><code># I running this:\ngit checkout -- .\n\n# Results in this:\nEncountered 28 files that should have been pointers, but weren't:'\n\n# Try this:\ngit rm --cached -r .\ngit reset --hard\ngit rm .gitattributes\ngit reset .\ngit checkout .\n</code></pre>"},{"location":"Notes/git/#emojis-in-commits","title":"Emojis in commits","text":"<pre><code># Github commits support emojis, for example :wrench: is converted to:\n\ud83d\udd27\n\n# Example:\ngit commit -m \":wrench: Fixed a bug\"\n\n# Here are some more emojis\n# Just add the ':' to start and end\n\ud83d\ude80 (rocket) - Deploying or releasing new features\n\ud83d\udc1b (bug) - Fixing a bug\n\u2728 (sparkles) - Introducing new features\n\ud83e\uddf9 (broom) - Refactoring or cleaning up code\n\ud83d\udce6 (package) - Updating or adding dependencies\n\ud83d\udcdd (memo) - Updating documentation\n\ud83d\udea7 (construction) - Work in progress\n\ud83d\udd27 (wrench) - Changing configuration files or tooling\n\ud83d\udee0 (hammer and wrench) - Making changes to the build process ortooling\n\u2b06\ufe0f (arrow up) - Upgrading dependencies\n\u2b07\ufe0f (arrow down) - Downgrading dependencies\n\ud83d\udc0e (horse) - Improving performance\n\ud83c\udfa8 (art) - Improving UI/CSS styling\n\ud83d\ude92 (fire engine) - Addressing a critical issue or hotfix\n\u2705 (white_check_mark) - Adding tests\n\ud83d\udd12 (lock) - Fixing security issues or improving security\n\ud83d\udc9a (green_heart) - Fixing CI/CD build\n\ud83d\udc84 (lipstick) - Improving UI/CSS styling\n\ud83c\udf10 (globe_with_meridians) - Internationalization and localization\n\u2796 (heavy_minus_sign) - Removing code or files\n\u2795 (heavy_plus_sign) - Adding code or files\n\ud83c\udf89 (tada) - Initial commit or major release\n\ud83d\udca1 (bulb) - Adding comments or documenting source code\n\ud83d\udc27 (penguin) - Fixing something on Linux\n\ud83c\udf4f (green_apple) - Fixing something on macOS\n\ud83c\udfc1 (checkered_flag) - Fixing something on Windows\n\ud83d\udc65 (busts in silhouette) - Adding contributor(s)\n\ud83d\udd16 (bookmark) - Releasing / versioning tags\n\ud83d\udea8 (rotating_light) - Fixing compiler/linter warnings\n</code></pre>"},{"location":"Notes/home-assistant/","title":"Home assistant","text":""},{"location":"Notes/home-assistant/#network","title":"Network","text":"<pre><code># Setup vpn:\n1. Search for the \u201cWireGuard\u201d add-on in the add-on store and install it.\n2. Set the host configuration option to your (external) address, e.g., myhome.duckdns.org.\n3. Change the name of the peer to something useful, e.g., raspi.\n4. Add \"port:22\" option to config\n5. Save the configuration.\n6. Start the \u201cWireGuard\u201d add-on\n7. Check the logs of the \u201cWireGuard\u201d add-on to see if everything went well.\n8. Forward port 51820 (UDP!) in your router to your Hass.io 749IP.\n9. Download/Open the file /ssl/wireguard/myphone/qrcode.png stored on your Hass.io 749machine, e.g., using WinSCP ( user: root )\n10. Install the WireGuard app on your phone.\n11. Add a new WireGuard connection to your phone, by scanning the QR code.\n12. Connect!\n\nhttps://community.home-assistant.io/t/home-assistant-community-add-on-wireguard/134662\n</code></pre>"},{"location":"Notes/home-assistant/#enable-wake-on-lan-on-windows","title":"Enable wake on lan on Windows","text":"<pre><code>Win + R -&gt; ncpa.cpl -&gt; \"Ethernet 3\" ( change based on your adapter ) -&gt; Properties -&gt; Advanced -&gt; Wake on lan magic packet -&gt; Enable\n</code></pre>"},{"location":"Notes/home-assistant/#errors","title":"Errors","text":"<pre><code>## When nothing works:\n# On the actual device's emergency shell, run:\ndocker restart homeassistant\n</code></pre>"},{"location":"Notes/home-assistant/#main-homeassistant-page","title":"Main homeassistant page","text":"<pre><code>http://homeassistant.local:8123\n</code></pre>"},{"location":"Notes/home-assistant/#system-status-page","title":"System status page","text":"<pre><code>http://homeassistant:4357/\n</code></pre>"},{"location":"Notes/linux/","title":"Linux","text":""},{"location":"Notes/linux/#cups-commands","title":"CUPS commands","text":"<pre><code># Command line print:\nlpr -o scaling=99 image.jp\n\n# Print A3 sheet:\nlp -d &lt;printername&gt; -o media=a3 -o landscape &lt;filename&gt; \n\n# Fit to page:\nlp -d Pro100S-TurboPrint -o media=a3 -o fit-to-page -o landscape Downloads/00001.pdf\n</code></pre>"},{"location":"Notes/linux/#change-grub-order","title":"Change GRUB order","text":"<pre><code># Changes the order of the operating systems in GRUB window.\n# Sets Windows as the first one to boot\n\n\nsudo mv /etc/grub.d/30_os-prober /etc/grub.d/09_os-prober   # change windows index number\nsudo grub-mkconfig -o /boot/grub/grub.cfg                   # create grub config file\n</code></pre>"},{"location":"Notes/linux/#setup-compact-flash","title":"Setup compact flash","text":"<pre><code># Check if the disk is connected:\ndmesg | grep sdb\n\n# Partitioning:\nsudo mkfs.ext4 /dev/sdb1\n\n# Mount:\nsudo mount -t ext4 /dev/sdb1 /mnt\n\n# Auto mount:\nadd row to /etc/fstab:\n    /dev/sdb1       /mnt    ext4    defaults        0       1\n\n\n# Other commands:\nsudo parted /dev/sdb mklabel msdos\nsudo parted -a opt /dev/sdb mkpart primary ext4 0% 100%\nmount -a\n</code></pre>"},{"location":"Notes/linux/#linux-backup-command","title":"Linux backup command","text":"<pre><code># Example backing up firefox user configs ( .mozilla folder )\n\ntar zcPf ~/mozilla-backup-$($date + %s).tar.gz ~/.mozilla\n</code></pre>"},{"location":"Notes/linux/#linux-chmod","title":"Linux chmod","text":"<pre><code># SETUID:\nchmod +s /path/to/file\n</code></pre>"},{"location":"Notes/linux/#linux-commandline-welcome-text","title":"Linux commandline welcome text","text":"<pre><code>$ sudo apt-get install jq\n$ cd /home/admin/download/\n$ wget https://raw.githubusercontent.com/Stadicus/guides/master/raspibolt/resources/20-raspibolt-welcome\n\n# check script &amp; exit\n$ nano 20-raspibolt-welcome\n\n# delete existing welcome scripts and install\n$ sudo mv /etc/update-motd.d /etc/update-motd.d.bak\n$ sudo mkdir /etc/update-motd.d\n$ sudo cp 20-raspibolt-welcome /etc/update-motd.d/\n$ sudo chmod +x /etc/update-motd.d/20-raspibolt-welcome\n$ sudo ln -s /etc/update-motd.d/20-raspibolt-welcome /usr/local/bin/raspibolt\n\nIn case the script runs into problems, it could theoretically prevent you from logging in. We therefore disable all motd execution for the \"root\" user, so you will always be able to login as \"root\" to disable it.\n\n$ sudo su \n$ touch /root/.hushlogin\n$ exit\n\nYou can now start the script with raspibolt and it is shown every time you log in.\n</code></pre>"},{"location":"Notes/linux/#linux-commands","title":"Linux commands","text":"<pre><code># 1. redo last command but as root\nsudo !!\n\n# 2. open an editor to run a command\nctrl+x+e\n\n# 3. create a super fast ram disk\nmkdir -p /mnt/ram\nmount -t tmpfs tmpfs /mnt/ram -o size=8192M\n\n# 4. don't add command to history (note the leading space)\n ls -l\n\n# 5. fix a really long command that you messed up\nfc\n\n# 6. tunnel with ssh (local port 3337 -&gt; remote host's 127.0.0.1 on port 6379)\nssh -L 3337:127.0.0.1:6379 root@emkc.org -N\n\n# 7. quickly create folders\nmkdir -p folder/{sub1,sub2}/{sub1,sub2,sub3} creates 2 folders and 3 sub folders inside those ( 2 x 6 folders total)\nmkdir -p folder/{1..100}/{1..100} # creates 100 x 100 folders\n\n# 8. intercept stdout and log to file\ncat file | tee -a log | cat &gt; /dev/null\n\n# bonus: exit terminal but leave all processes running\ndisown -a &amp;&amp; exit\n\n## Search for a phrase in text file and get the tailing and heading lines aswell\n# get line number\n$ cat /var/log/messages | grep -n \"text_to_search\" | cut -f1 -d:\n1533\n\n# Get +-10 lines near \"text_to_search\"\n$ sed -n '1523,1543p' /var/log/messages\n</code></pre>"},{"location":"Notes/linux/#linux-grub","title":"Linux GRUB","text":"<pre><code># Open GRUB command line in the bootloader menu\nPress: 'c'\n\n# To get back to bootloader menu from GRUB command line\nType in: normal\n\n# Edit kernel boot parameters\nPress: 'e'\n</code></pre>"},{"location":"Notes/linux/#linux-get-process-id-on-port","title":"Linux get process ID on port","text":"<pre><code># Which PID is using the port:\n\u00a7 fuser 80/tcp\n644\n\n# Find the process name:\n\u00a7 ls -l /proc/644/exe\n</code></pre>"},{"location":"Notes/linux/#linux-run-script-on-boot","title":"Linux run script on boot","text":"<pre><code>##################### Deprecated ########################\n# How to create and run script on startup on Linux\n\n1. sudo nano /etc/init.d/superscript, save and exit\n2. sudo chmod 755 /etc/init.d/superscript\n3. sudo update-rc.d superscript defaults\n\n#########################################################\n\n# Updated way of starting scripts on boot:\n\n1. Create a script to run on startup. Example:\n# startupScript.sh\n###############################################\n\n#!/bin/bash\n\nfor i in {1..10}\ndo\n  # A way to exit the loop when CTRL + C is pressed.\n  trap \"echo Exited!; exit;\" SIGINT SIGTERM\n\n  echo \"Starting the test $i\"\n  python /home/pi/gwtest/tester2.py -d /home/pi/gwtest/configs/TestLongPatter.txt\n  echo \"Ended the test $i\"\ndone\n\n###############################################\n\n2. Create a service file:\n\n# /etc/systemd/system/startupIOtest.service\n###############################################\n\n[Unit]\nDescription=\"StartIOtest\"\n\n[Service]\nType=forking\nExecStart=/bin/bash /home/pi/gwtest/startupScript.sh\nTimeoutSec=0\n\n[Install]\nWantedBy=default.target\n\n###############################################\n\n3. Reload the daemon state\nsudo systemctl daemon-reload\n\n4. Enable the service startup on boot\nsudo systemctl enable startIOtest.conf\n\nNotes!\n# To start the service immediately:\nsudo systemctl start startIOtest\n\n# Check the service status:\nsudo systemctl status startIOtest\n\nNot working:\n# init file:\n# startIOtest.conf\n###############################################\n\nstart on runlevel [2345]\nstop on runlevel [!2345]\n\nexec bash /home/pi/gwtest/startupScript.sh\n\n###############################################\n</code></pre>"},{"location":"Notes/linux/#linux-shell","title":"Linux shell","text":"<pre><code>--------------------------------------------------------------------------------------------\n\n\n# get line number\n$ cat /var/log/messages | grep -n \"text_to_search\" | cut -f1 -d:\n1533\n\n# get +-10 lines near \"text_to_search\"\n$ sed -n '1523,1543p' /var/log/messages\n\n--------------------------------------------------------------------------------------------\n</code></pre>"},{"location":"Notes/linux/#linux-unsupported-distro-mirrors","title":"Linux unsupported distro mirrors","text":"<pre><code># 1. modify /etc/apt/sources.list and change ubuntu.com -&gt; old-releases.ubuntu.com\n\n# Or automatically:\n    sudo sed -i -e 's/archive.ubuntu.com/old-releases.ubuntu.com/g' /etc/apt/sources.list\n\n# 2. Update distro:\n    sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade\n</code></pre>"},{"location":"Notes/linux/#linux-setup-private-internet-access-vpn","title":"Linux setup private internet access VPN","text":"<pre><code># Install OpenVPN\nsudo apt-get install openvpn\n\n# Download PIA VPN settings\nsudo wget https://www.privateinternetaccess.com/openvpn/openvpn.zip\n\n# Unzip\nunzip openvpn.zip\n\n# Run VPN\nsudo openvpn Finland.ovpn\n\n\n## Enable on boot:\n\n# Create auth file\ntouch /etc/openvpn/auth.txt\n\n# Edit auth.txt:\n    add username to the first line\n    password to the second line\n\n# Set permissions\nsudo chmod 600 auth.txt\n\n# Copy PIA settings to OpenVPN folder\ncp Finland.ovpn /etc/openvpn/\n\n# Rename PIA settings\nmv Findland.ovpn Finlanad.conf\n\n# Edit PIA settings\nchange 'auth-user-pass' -&gt; 'auth-user-pass auth.txt'\n\n# Start VPN\nsudo systemctl start openvpn@Finland.\n\n# Make sure it works:\nCheck ip -&gt; wget http://ipinfo.io/ip -qO -\n\n# Set autostart on\nedit /etc/default/openvpn and uncomment line: AUTOSTART=\"all\"\n</code></pre>"},{"location":"Notes/linux/#linux-setup-git-ssh-keys","title":"Linux setup git SSH keys","text":"<pre><code># Create keys:\n1. ssh-keygen -t rsa\n\n# Create config:\n2. nano ~/.ssh/config\n    paste in file:\n        Host gitserv\n        Hostname github.com\n        IdentityFile ~/.ssh/id_rsa\n        IdentitiesOnly yes\n\n\n3. paste ~/.ssh/id_rsa.pub content to github settings\n\n# If 2fa has been enabled:\ngithub.com -&gt; User icon (top right) -&gt; Settings -&gt; Developer settings -&gt; Personal access tokens\n-&gt; Generate new token -&gt; Set name and scope -&gt; save access token\nUse access token in 'Password' field when pulling from github in command line\n</code></pre>"},{"location":"Notes/linux/#linux-create-ssh-keypair-between-machines","title":"Linux create ssh keypair between machines","text":"<pre><code># Create keys\nssh-keygen -t rsa -b 2048\n\n# Set the public key to ssh server\ncat ~/.ssh/id_rsa.pub | ssh root@192.168.1.35 \"mkdir -p ~/.ssh \\ &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys\"\n\n# To skip password prompt:\nscp tai ssh -o BatchMode=yes\n</code></pre>"},{"location":"Notes/linux/#linux-vim","title":"Linux vim","text":"<pre><code># Create vim config file\n1. vim ~/.vimrc\n2. write some basic settings in:\n    set ruler laststatus=2 number title hlsearch\n    syntax on\n3. ESC -&gt; :wq\n</code></pre>"},{"location":"Notes/linux/#linux-wipeout-disk","title":"Linux wipeout disk","text":"<pre><code># Wipe out an hard drive on Linux.\n\n1. List disks:\nsudo fdisk -l\n\n2. Pick a disk to clean\n\n3. Wipe out\n\n# less privacy way\nsudo dd if=/dev/zero of=/dev/sda\n\n# more privacy way\nsudo dd if=/dev/urandom of=/dev/sda\n</code></pre>"},{"location":"Notes/linux/#add-sudo-capable-user","title":"Add sudo capable user","text":"<pre><code>useradd ton\npasswd ton\nusermod -aG sudo ton\nsudo chown $(whoami) ~\n</code></pre>"},{"location":"Notes/linux/#add-sudo-capable-user_1","title":"Add sudo capable user","text":"<pre><code># Arrow keys, Home, End, tab-complete keys not working in shell\n1. chsh -s /bin/bash\n2. Re-log\n</code></pre>"},{"location":"Notes/linux/#arch-linux-quick-install","title":"Arch linux quick install","text":"<pre><code>cfdisk -&gt; dos -&gt; new -&gt; 20G -&gt; primary -&gt; Linux (83) -&gt; quit -&gt; yes\nmkfs.xfs /dev/sda1\nmount /dev/sda1 /mnt\npacman -Sy tmux\ntmux\npacstarp /mnt base linux\narch-chroot /mnt -&gt; passwd\nCtrl + D\ngenfstab /mnt&gt;/mnt/etc/fstab;arch-chroot /mnt bash -c 'pacman -Sy grub;grub-install /dev/sda;grub-mkconfig -o /boot/grub/grub.cfg';reboot\n</code></pre>"},{"location":"Notes/linux/#linux-grub_1","title":"Linux GRUB","text":"<pre><code># Parse images to text\ncurl -s 'https://pbs.twimg.com/media/E9T96Q9XIAcs8xJ?format=jpg&amp;name=large' -o - | tesseract stdin stdout | grep --color 609\n</code></pre>"},{"location":"Notes/linux/#install-docker","title":"Install Docker","text":"<pre><code>#!/bin/bash\n\n# Check if Docker is already installed\nif [[ $(docker --version | grep \"Docker version\") == \"\" ]]; then\n\n    echo \"Docker installation not found! Installing..\"\n\n    # Install dependencies\n    sudo apt update\n    sudo apt install -y apt-transport-https ca-certificates curl software-properties-common\n\n    # Add Docker's official GPG key\n    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n    # Add Docker repository\n    echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n    sudo apt update\n\n    # Install Docker\n    sudo apt install -y docker-ce docker-ce-cli containerd.io\n\n    # Start Docker service\n    sudo systemctl start docker\n    sudo systemctl enable docker\n\n    # Set permission run for users\n    sudo usermod -aG docker $USER\n\n    echo \"Docker installed.\"\nelse\n    echo \"Docker is already installed.\"\nfi\n</code></pre>"},{"location":"Notes/network/","title":"Network","text":""},{"location":"Notes/network/#net-tools","title":"Net tools","text":""},{"location":"Notes/network/#arp-scan","title":"Arp scan","text":"<pre><code># Use arp-scan to scan local network for online devices\nsudo apt install arp-scan\nsudo arp-scan 192.168.1.0/24\n</code></pre>"},{"location":"Notes/network/#domains","title":"Domains","text":""},{"location":"Notes/network/#set-domain-for-a-website","title":"Set domain for a website","text":"<pre><code># Purchase a domain from a domain registrar ( e.g. protoni.fi )\nFor example domainhotelli.fi. I'll also use that as an example here'\n\n# If nameserver changes are not needed, for example in git pages,\n# then simply add the A records to DNS-settings of the Domain\n# registrar\nHome -&gt; Services -&gt; Select domain -&gt; Go to settings ( cPanel ) -&gt;\nDNS-settings -&gt; Manage \n\n# For example with Git Pages; add these A records\n# Check github link from the bottom of the page to see if the GitHub \n# Pages IPs has changed\n185.199.108.153\n185.199.109.153\n185.199.110.153\n185.199.111.153\n\n# Remove any other A record pointing to your Apex domain\n( e.g. protoni.fi )\n\n# Make sure that they are in use ( Use WSL or other Linux pc );\n# Alternatively, use the domain details tools in 'Links' section\nprotoni@DESKTOP-6VRBIN5:~$ dig www.protoni.fi +nostats +nocomments +nocmd\n;www.protoni.fi.                        IN      A\nwww.protoni.fi.         0       IN      CNAME   protoni.fi.\nprotoni.fi.             0       IN      A       185.199.111.153\nprotoni.fi.             0       IN      A       185.199.109.153\nprotoni.fi.             0       IN      A       185.199.108.153\nprotoni.fi.             0       IN      A       185.199.110.153\n\n# Also make sure that there are no other IP addresses, otherwise it will\n# not work. For example Domainhotelli has a default A record and if that\n# is not deleted first, DNS resolvers can't decide where to point and\n# just picks the first one.\n\n# Add your domain to git pages\nGitHub -&gt; Repositories/your_repo -&gt; Settings -&gt; Pages -&gt; Custom domain\n\n# Enable SSL\nGitHub -&gt; Repositories/your_repo -&gt; Settings -&gt; Pages -&gt; Enforce HTTPS\n\n# Note ( Enfore HTTPS issues ):\nI had issues with enabling the SSL since I moved from Netlify to\nGit Pages. It kept complaining about 'invalid certificate' or something\nalong those lines, so I had to remove the domain from GitHub\nrepository settings 'Custom domain', save, wait for a bit and then add\nit again\n\n# Note ( nameserver changes ):\nEarlier I was using Netlify and I had to go to Netlify's project'\nsettings, copy-paste the 4 name servers to Domain registrar\n( domainhotelli) and wait for a few hours that DNS points to right\nplace and then add the A and MX records to Netlify instead\n\n# If nameservers changes are needed Set nameservers\nDomains -&gt; Select your domain -&gt; Copy paste the web host's name servers'\nhere\n\n# Note ( Fix Github domain disappearing on every commit )\nCreate a file 'CNAME' under docs/ and write your domain in there with no newline\n</code></pre>"},{"location":"Notes/network/#custom-domain-e-mail-service","title":"Custom domain e-mail service","text":"<pre><code># I use Zoho as email service. ( can't remember exactly how the email\n# service setup went, so just assuming it went something like explained\n# below )\n1. Create an account there or some other e-mail service\n2. Login -&gt; Profile -&gt; Email Address -&gt; Add Email Address with your own\ndomain\n\n# Setup MX records. This I remember since I just did that\nLogin to domain registrar ( e.g. Domainhotelli ) -&gt; Go to domain settings\n-&gt; DNS settings -&gt; Manage -&gt; Add following MX records:\n\n# Name      TTL     Type    Priority    Destination\nprotoni.fi  3600    MX      10          mx.zoho.eu\nprotoni.fi  3600    MX      20          mx2.zoho.eu\nprotoni.fi  3600    MX      50          mx3.zoho.eu\n\n# Remove any other MX record pointing to your Apex domain\n( e.g. protoni.fi )\n\n# Make sure that they are in use ( Use WSL or other Linux pc );\n# Alternatively, use the domain details tools in 'Links' section\nprotoni@DESKTOP-6VRBIN5:~$ dig www.protoni.fi +nostats +nocomments +nocmd MX +short\nprotoni.fi.\n50 mx3.zoho.eu.\n10 mx.zoho.eu.\n20 mx2.zoho.eu.\n\n# Also make sure that there are no other IP addresses/domains, otherwise\n# it will not work. For example Domainhotelli has a default MX record and\n# if that is not deleted first, DNS resolvers can't decide where to\n# point and just picks the first one.\n</code></pre>"},{"location":"Notes/network/#links","title":"Links","text":"<ul> <li>Configuring an apex domain<ul> <li>https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain</li> </ul> </li> <li>Domain tools<ul> <li>https://zohomail.tools/#domainDetails/</li> </ul> </li> </ul>"},{"location":"Notes/random/","title":"Random","text":""},{"location":"Notes/random/#how-to-create-skip-links-in-atlassian-confluence-wiki-pages","title":"How to create skip links in Atlassian confluence wiki pages","text":"<pre><code># How to create skip links in Atlassian confluence wiki pages\n\n1. Create headline, for example:\nTest Headline 1\n\n2. Click to the top of page and from the edit tools click Link ( Ctrl + K )\n\n3. Paste the page URL to here, if not published yet, publish it first and then edit to get the proper URL\n\n4. add /#Test-Headline-1 to the end of the URL ( Notice the - (dash) sign to replace white spaces )\n\n5. Press enter\n\n6. Edit the link again.\n\n7. Set the 'Text to display'-text\n\n8. Press enter.\n</code></pre>"},{"location":"Notes/random/#docker-notes","title":"Docker notes","text":"<pre><code># List running images\nsudo docker ps\n\n# Stop docker container\nsudo docker stop 119cbb3f26f2 (container id)\n\n#(-it runs docker in interactive mode, so you can stop it witch CTRL + c)\nsudo docker run -it myexpressapp\n\n# Show ip:\ndocker exec -it [CONTAINER_ID] ip addr show eth0\n\n# On browser:\nhttp://172.17.0.2:3000/\n</code></pre>"},{"location":"Notes/random/#electron-building","title":"Electron building","text":"<pre><code># 1\nnpm install electron-packager -g\nelectron-packager &lt;sourcedir&gt; &lt;appname&gt; --platform=win32 --arch=x64\n\n# 2\nelectron-builder -p --win\n\n# Preferred way of building electron apps:\nUse the #1 method and then create a portable .exe from the output build folder\n</code></pre>"},{"location":"Notes/random/#murobbs-notes","title":"MuroBBS notes","text":"<pre><code># Add embedded imgur image to muroBBS forum:\n[MEDIA=imgur]kaD578M[/MEDIA]\n\n# Add embedded imgur image gallery to muroBBS forum:\n[MEDIA=imgur]a/kaD578M[/MEDIA]\n</code></pre>"},{"location":"Notes/random/#trello-notes","title":"Trello notes","text":"<pre><code># Trello power-ups creation\n\n# Getting started:\nhttps://developers.trello.com/docs/get-started\nhttps://developers.trello.com/docs/your-first-power-up\n\n# Step 1\nhttps://trello.com/power-ups/admin/\n-&gt; create new\n\n\n# Trello REST API Docs\nhttps://developers.trello.com/reference#introduction\n\n\n# Example project video:\nhttps://www.youtube.com/watch?v=dLCkcQnwAQk\n\n# API calls:\nhttps://developers.trello.com/reference/#introduction\n\n\n\n# Get board id ( or card id):\n- For example if your board URL is:\nhttps://trello.com/b/c0xTyrUZ/ddd\n\n- Add .json at the end and paste it to browser url field:\nhttps://trello.com/b/c0xTyrUZ/ddd.json\n\n- id: 3de884e4e0766a67efd2g1f9\n</code></pre>"},{"location":"Notes/random/#vulkan-notes","title":"Vulkan notes","text":"<pre><code>Vulkan\n\n\n\n# Instance\nThe very first thing you need to do is initialize the Vulkan library by creating an instance. \nThe instance is the connection between your application and the Vulkan library and creating \nit involves specifying some details about your application to the driver.\n\n\n# Extensions\nVulkan is a platform agnostic API, which means that you need an extension to interface with the window system.\nVulkan extensions are simply additional features that Vulkan implementations may provide if they so choose to.\nThey add new functions, structs, and valid enumerators to the API, and they can change some of the behavior of existing functions.\n\n# Validation layers\nDifferent layers needed for code validation, e.g. error handling. \"All-round\"-global validation layer can be turned on\nto provide error handling for all functionaliy.\n\n\n# Queue\nA queue is something you submit command buffers to, and command buffers submitted to a queue are executed in order relative to each other.\nCommand buffers submitted to different queues are unordered relative to each other unless you explicitly synchronize them with VkSemaphore. \nYou can only submit work to a queue from one thread at a time, but different threads can submit work to different queues simultaneously.\n\nEach queue can only perform certain kinds of operations:\n- Graphics queues can run graphics pipelines started by vkCmdDraw* commands. \n- Compute queues can run compute pipelines started by vkCmdDispatch*. \n- Transfer queues can perform transfer (copy) operations from vkCmdCopy*.\n- Sparse binding queues can change the binding of sparse resources to memory with vkQueueBindSparse\n(note this is an operation submitted directly to a queue, not a command in a command buffer)\n- Some queues can perform multiple kinds of operations.\n- In the spec, every command that can be submitted to a queue have a \"Command Properties\" table that lists what queue types can execute the command.\n\n# Queue family\nA queue family just describes a set of queues with identical properties.\nFor example, the device supports three kinds of queues:\n- One kind can do graphics, compute, transfer, and sparse binding operations, and you can create up to 16 queues of that type.\n- Another kind can only do transfer operations, and you can only create one queue of this kind. \nUsually this is for asynchronously DMAing data between host and device memory on discrete GPUs, so transfers can be done concurrently with independent graphics/compute operations.\n- Finally, you can create up to 8 queues that are only capable of compute operations.\n</code></pre>"},{"location":"Notes/random/#partkeepr-setup","title":"Partkeepr setup","text":"<pre><code>## Setup\n# 1. Install php\nsudo apt-get install php\n\n# 2. Find out which php.ini file is the web server using\nCreate a file named 'phpinfo.php' to the /var/www/html/ folder\nAdd to the file:\n &lt;?php\n phpinfo();\n ?&gt;\nGo to the web page with a browser: http://192.168.1.35/phpinfo.php\nCheck the 'Loaded Configuration File' field\n\n# 3. edit php.init\nnano /etc/php/7.3/cli/php.ini\n\n# 4. make sure that:\n 4.1 'allow_url_fopen' is on\n 4.2 safe_mode = Off\n 4.3 'extension=fileinfo' uncomment this\n 4.4 Set the timezone for this field: date.timezone = Europe/Helsinki \n ( see available timezones here: https://www.php.net/manual/en/timezones.php )\n 4.5 uncomment: extension=gd2\n 4.6 uncomment: extension=ldap\n\n# 5. Make sure that apache is installed and running\n\n# 6. Install php curl\nsudo apt-get install php7.3-curl\n\n# 7. Install DoctrineORM\nsudo apt-get install composer\ncomposer require doctrine/doctrine-orm-module\n\n# Had this file under the folder where I ran 'composer require', not sure if relevant:\n {\n    \"require\": {\n        \"doctrine/orm\": \"^2.6.2\",\n        \"symfony/yaml\": \"2.*\"\n    },\n    \"autoload\": {\n        \"psr-0\": {\"\": \"src/\"}\n    }\n}\n\n# 8. Download partkeepr.zip and extract to /var/www/html/\nhttps://partkeepr.org/download/\n\n# 9. Go to the setup folder with a browser\nhttp://192.168.1.35/partkeepr-1.4.0/web/setup/\n\n# 10. Click next and fix all of the possible errors and warnings. I had to change these:\nsudo nano /etc/php/7.3/cli/php.ini -&gt; set 'max_execution_time' to 600\nsudo apt-get install php7.3-gd\nsudo apt-get install php7.3-ldap\nsudo apt-get install php-xml\nsudo apt-get install php7.3-mysql\nsudo apt-get install php-intl\nsudo apt-get install php-apcu php-apcu-bc\nsudo chmod -R 777 /var/www/html/parkeepr-1.4.0/data\nsudo chmod -R 777 /var/www/html/parkeepr-1.4.0/app\nsudo chmod -R 777 /var/www/html/parkeepr-1.4.0/web\n\n# Had a few warnings left, will fix them if issues occur\n- PHP APCu cache not found\n- Maximum Execution Time might be too low\n\n# 11. Fix Web Server Configuration error\n# Edit apache config /etc/apache2/apache2.conf and add these:\n    # Include external config\n    Include /etc/apache2/httpd.conf\n\n# Create /etc/apache2/httpd.conf and add these:\n    &lt;VirtualHost *:80&gt;\n        ServerName localhost\n\n        DocumentRoot /var/www/html/partkeepr-1.4.0/web/\n        AcceptPathInfo on\n\n        ErrorDocument 403 \"&lt;h1&gt;Item management system update in progress. Check back in a few minutes.&lt;/h1&gt;\"\n\n        &lt;Directory /var/www/html/partkeepr-1.4.0/web/&gt;\n                Require all granted\n                AllowOverride All\n        &lt;/Directory&gt;\n\n        ## Logging\n        ErrorLog \"/var/log/apache2/partkeepr_error.log\"\n        ServerSignature Off\n        CustomLog \"/var/log/apache2/partkeepr_access.log\" combined\n    &lt;/VirtualHost&gt;\n\n# Enable .htaccess. Edit /etc/apache2/sites-available/000-default.conf, add lines:\n    # Enable .htaccess file\n    &lt;Directory \"/var/www/html/partkeepr-1.4.0\"&gt;\n      AllowOverride All\n    &lt;/Directory&gt;\n\n# Create .htaccess file\ntouch /var/www/html//var/www/html/partkeepr-1.4.0/.htaccess\n\n# Activate mod_rewrite\nsudo a2enmod rewrite\n\n# 12. Restart apache if there was errors\nsudo systemctl restart apache2\n\n# 13. Follow the partkeepr setup until SQL connection part ( Take a note on the database creation queries).\n\n# 14. Install a database\nsudo apt install mariadb-server-10.0\nsudo /usr/bin/mysql_secure_installation\n    Change the root password? [Y/n] n\n    Remove anonymous users? [Y/n] y\n    Disallow root login remotely? [Y/n] y\n    Remove test database and access to it? [Y/n] y\n    Reload privilege tables now? [Y/n]\n\n# 15. Log in to the root database user\nsudo mysql -uroot -p\n\n# 16. Create the database\nCREATE DATABASE Storage CHARACTER SET UTF8;\nGRANT USAGE ON *.* TO root@localhost IDENTIFIED BY 'PUT_PW_HERE';\nGRANT ALL PRIVILEGES ON Storage.* TO root@localhost;\n\n# 17. \n</code></pre>"},{"location":"Notes/random/#webos-notes-smarttv-app-programming","title":"WebOS notes ( SmartTV app programming )","text":"<pre><code># Build\nares-package aasi-app\n\n# Install package\nares-install --device tv2 ./com.aasi.app.aasiapp_0.0.1_all.ipk\n\n# List installed packages\nares-install --device tv2 --list\n\n# Launch app\nares-launch --device tv2 com.aasi.app.aasiapp\n\n# Close app\nares-launch --device tv2 --close com.aasi.app.aasiapp\n</code></pre>"},{"location":"Notes/random/#batmud","title":"BatMUD","text":"<pre><code># Show inventory:\ni\n\n# Show equipment\neq\n\n# Search info:\nhfind\n( Example: hfind armours )\n\n# Run away:\nwimpy now\n\n# Show health:\nsc\n\n# Show player info\nscore\n\n# Show experience and money\nexp\n\n# Show info on players\nfinger\n( Example: finger protoni )\n\n# Look around and items\nlook scenery\n\n# Dwarf mountain wizard password\nkalacucco\n\n\n\n# Newbie help:\nhelp newbie helpers\n\n# teleport?\ntouch post\n\n# Levelup:\nadvance level\n\n# Check levelup cost:\nadvance cost\n\n# Adventurer guild locations:\nDortlewall, Pleasantville, Arelium and Calythien\n\n# At lvl 16:\nhelp free levels\n\n# Lots of rooms ( exp ):\nwane-mountain\n\n# Good starter items:\nDortwall 'crystite credits' \n\n# Cheap items:\nDamogran's warehouse\n- Located 1 east, 2 north from the church altar, and there's a portal to his warehouse in Dortlewall and Pleasantville\n</code></pre>"},{"location":"Notes/random/#rust","title":"Rust","text":"<pre><code># Update rustc, cargo etc..\nrustup update stable\n\n# Error: specified package has no binaries\ncargo install cargo-edit\ncargo add pdb\n\n# Start a new project\nmkdir test_project\ncd test_project\ncargo init\n\n# Run project\ncargo run\n\n# Build project without running\ncarco build\n\n# Create a release\ncargo build --release\n\n# Generate docs based on dependencies\ncargo doc --open\n</code></pre>"},{"location":"Notes/random/#convert-gif-to-video","title":"Convert GIF to video","text":"<pre><code># Install ffmpeg:\nsudo apt-get install ffmpeg\n\n# Install on Windows:\nchoco install ffmpeg\n\n# Convert GIF to video\nffmpeg -i input.gif -c:v libx264 -pix_fmt yuv420p output.mp4\n</code></pre>"},{"location":"Notes/web-dev/","title":"Web dev","text":""},{"location":"Notes/web-dev/#angular-setup","title":"Angular setup","text":"<pre><code># Get started:\nhttps://cli.angular.io/\n\nnpm install -g @angular/cli\nng new HelloWorld\ncd HelloWorld\nng serve\n</code></pre>"},{"location":"Notes/web-dev/#tutorials-and-links","title":"Tutorials and links","text":"<pre><code># IDEs:\nhttps://code.visualstudio.com/ Visual Studio Code\nhttps://www.sublimetext.com/ Sublime Text\n\n\n# HTML tutorial:\nhttps://www.w3schools.com/html/default.asp\n\n# CSS tutorial:\nhttps://www.w3schools.com/css/default.asp\n\n# JS tutorial:\nhttps://www.w3schools.com/js/default.asp\n\n#Mozilla Web APIs:\nhttps://developer.mozilla.org/en-US/docs/Web/API\n\n#NodeJS:\nhttps://nodejs.org/en/\n\n#GIT:\nhttps://try.github.io/\n\n# Invocation patterns:\nhttp://blog.taylormcgann.com/2014/01/15/invocation-patterns-javascript/\n\n# Prototype inheritance:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the\u2026\n\n# Rangle Book on Angular:\nhttps://angular-2-training-book.rangle.io/\n\n# Angular:\nhttps://angular.io/\n\n# Angular CLI:\nhttps://cli.angular.io/\n\n# TypeScript:\nhttps://www.typescriptlang.org/\n\n# John Resig advanced javascript:\nhttps://johnresig.com/apps/learn/\n\n# Learn SQL in 21 Days:\nhttp://www.dmc.fmph.uniba.sk/public_html/doc/sql/index.htm\n\n# SQL fiddle:\nhttp://sqlfiddle.com\n\n# GenerateData:\nhttp://generatedata.com/\n\n# W3Schools SQL tutorial\nhttps://www.w3schools.com/sql/default.asp\n\n# MongoDB manual:\nhttps://docs.mongodb.com/manual/\n\n# MongoDB tutorial:\nhttps://www.tutorialspoint.com/mongodb/\n</code></pre>"},{"location":"Notes/web-dev/#firefox-allow-fullscreen-mode","title":"Firefox allow fullscreen mode","text":"<pre><code>go to about:config\n\nfull-screen-api.allow-trusted-requests-only:\ntrue -&gt; false\n</code></pre>"},{"location":"Notes/web-dev/#internet-explorer-problems","title":"Internet explorer problems","text":"<pre><code># If nothing seems to work properly, check that doctype is in the top of the page:\n&lt;!DOCTYPE html&gt;\n\n-&gt; Otherwise the code is meant to be run on old IE versions\n\n\n\n# HttpRequests doesnt change; data returned by the server doesn't change after the first time it was received\n# Use cache buster in HTTP requests:\nExample:\n    var CB = Math.random()*10000000000000000;\n    var snd = \"programControl=stop&amp;CB=\" + CB;\n\n-&gt; Random data is added to the end of the HttpRequest because IE caches HttpRequest responses.\n-&gt; Doing this trick we can make sure that IE won't fetch the cached data because the HttpRequest has changed\n</code></pre>"},{"location":"Notes/web-dev/#nodejs-notes","title":"NodeJS notes","text":"<pre><code># Setting up NodeJS\n\n# Create a directory for NodeJS app\ncreate folder named for example 'html_events'\n\n# Move to that directory\ncd html_events\n\n# Initialize npm\nnpm init\n\n# For reference:\n  \"name\": \"html_events\",\n  \"version\": \"1.0.0\",\n  \"description\": \"html events\",\n  \"main\": \"app.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"keywords\": [\n    \"html\",\n    \"events\"\n  ],\n  \"author\": \"toni\",\n  \"license\": \"ISC\"\n\n\n# Install node modules\nnpm install express --save\n\n\n# Create app.js file to the same folder where package.json is:\n    const express = require(\"express\");\n\n    let app = express();\n\n    app.use(express.static(__dirname+\"/public_www\"));\n    app.listen(8080);\n\n    console.log(\"Running in port 8080\");\n\n# Start NodeJS server:\nnode app\n\n# Create web pages:\ncreate public_www-folder\n    index.html\n    style.css\n    script.js\n\n# Check browser\nlocalhost:8080\n</code></pre>"},{"location":"Notes/web-dev/#react-notes","title":"React notes","text":"<pre><code># Get and install React\n1. Visit https://nodejs.org/en/\n2. Download the latest LTS nodejs + npm packet\n3. Install\n\n# Take React into use by creating a simple app\n1. Open nodejs command prompt\n2. npx create-react-app my-app\n3. cd my-app\n4. npm start\n\n# Deployment example:\nhttps://www.reddit.com/r/reactjs/comments/d81gjb/how_to_deploy_your_app_setup_a_free_ssl/\n\n# Cheat sheet:\nhttps://github.com/LeCoupa/awesome-cheatsheets/blob/master/frontend/react.js\n\n# Clean barebones project example for learning purposes:\nhttps://www.reddit.com/r/reactjs/comments/arox51/i_made_a_barebones_fullstack_reddit_clone_to/\n\n# Icons:\nhttps://iconscout.com/unicons\nhttps://github.com/Iconscout/react-unicons\nhttps://github.com/react-icons/react-icons\n\n# Good React practices.\nhttps://www.reddit.com/r/reactjs/comments/cgxg7o/a_beginners_guide_to_writing_good_react_code/\nhttps://arvind.io/posts/writing-good-react-code/\n</code></pre>"},{"location":"Notes/web-dev/#gatsby-notes","title":"Gatsby notes","text":"<pre><code># Add video as inline HTML\nAdd video to /static/ folder\n&lt;dl&gt;\n  &lt;video width=\"640\" height=\"480\" controls&gt;\n    &lt;source src=\"../bandicam.mp4\" type=\"video/mp4\"&gt;\n  &lt;/video&gt;\n&lt;/dl&gt;\n\n# Bold formatting \nTo be able to use '_' in **bolded** text, it needs to be escaped with '\\'-character infront of it\nFor example: io_scene_godot needs to be written like **io\\_scene\\_godot**\n</code></pre>"},{"location":"Notes/web-dev/#wordpress-notes","title":"Wordpress notes","text":"<pre><code>## Add borders to images ( adds borders to all images on the website )\n\n# 1. Go to customize page\nDashboard -&gt; Appearance -&gt; Customize\n\n# 2. Go to CSS settings\n'Additional CSS'\n\n# 3. Add custom CSS to the edit box\n.post .entry-content img {border: 1px solid #000000;}\n\n# 4. Click publish\n\n\n\n## Install SiteLock-trust shield\n\n# Get the shield\n\n# 1. Go to SiteLock dashboard\nhttps://secure.sitelock.com/dashboard\n\n# 2. On the top of the page:\nClick Deploy 'SiteLock Trust Seal' button\n\n# 3. Fill out the settings\n\n# 4. Copy the html code on the last settings page.\n\n\n\n## Install the SiteLock logo to the website footer\n# 1. Edit the page\nDashboard -&gt; Appearance -&gt; Customize\n\n# 2. Make sure you have footer bar.\nLayout -&gt; Footer\n\n# 3. Add the logo to footer\nWidgets -&gt; Footer bar -&gt; Add a widget -&gt; paste the html here.\n\n# 4. Publish.\n\n\n\n## Collapse content ( collapse text with a button click )\n\n# 1. Install collapse pugin.\nShow-Hide / Collapse-Expand\n\n# 2. Add to a new post and wrap bg_collapse and /bg_collapse around brackets []:\n\nbg_collapse view=\"link\" color=\"#4286f4\" icon=\"arrow\" expand_text=\"Show More\" collapse_text=\"Show Less\"\n\nyour_content_here\n\n/bg_collapse\n\n\n## Collapse a whole block with a button click\n\n# 1. Install Atomic Blocks plugin.\n\n# 2. Add new AB container.\n\n# 3. Add a code block inside the AB container.\n\n# 4. Add to a new post:\nbg_collapse view=\"link\" color=\"#4286f4\" icon=\"arrow\" expand_text=\"Show More\" collapse_text=\"Show Less\"\n&lt;div class=\"wp-block-atomic-blocks-ab-container ab-block-container\"&gt;\n&lt;div class=\"ab-container-inside\"&gt;\n&lt;div class=\"ab-container-content\" style=\"max-width:1600px\"&gt;\nContent1\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n/bg_collapse\n\n# 5. Edit html:\nadd the bg_collapse and /bg_collapse tags wrapped around brackets [] around the div\n\n\n\n## Add skip links\n\n# 1. Add a new headline and edit the HTML.\n- Hover over the headline and click the 3 dots ( more settings )\n- Click 'Edit as HTML'\n\n# 2. Add id=\"skipToHere\" id for the tag\n&lt;h2 id=\"skipTo4\"&gt;4. Add skip links&lt;br&gt;&lt;/h2&gt;\n\n# 3. Write the link name to the top of the page.\n\n# 4. Paint the link name with your mouse.\n\n# 5. Click the 'paper clip' button and set the link to #skipToHere\n</code></pre>"},{"location":"Notes/windows/","title":"Windows","text":""},{"location":"Notes/windows/#setup-curl-for-mingw","title":"Setup CURL for MinGW","text":"<pre><code># Setup CURL libraries for MinGW\n\n- Install msys2\n- Open msys2 shell\n- cd curl-x.xx.x folder (cd C:/ ...)\n- run configuration command:\n    ./configure --prefix=/usr/local --with-ssl--build=x86_64-w64-mingw32 CPPFLAGS=\"-I/usr/local/include\" LDFLAGS=\"-L/usr/local/lib\"\n- build curl:\n    make install-strip\n\n# gcc example:\n    gcc curl_test.c -o curl_test -DCURL_STATICLIB -lcurl -I\"C:\\MinGW\\include\" -L\"C:\\MinGW\\lib\"\n</code></pre>"},{"location":"Notes/windows/#setup-dotnet","title":"Setup dotnet","text":"<pre><code># Download and install: \nhttps://www.microsoft.com/net/download\n\n# List available project types:\ndotnet new\n\n# Create new project:\ndotnet new webapi -o AspNetCoreWebTest\n\n# Build\ndotnet build\n\n# Run\ndotnet .\\bin\\Debug\\netcoreapp2.1\\AspNetCoreWebTest.dll\n</code></pre>"},{"location":"Notes/windows/#powershell-run-linux-commands","title":"Powershell run linux commands","text":"<pre><code># Download plink.exe\nhttps://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\n\n# Run commands on linux machine\n.\\plink root@192.168.1.35 cat /home/root/testfile.txt\n\n# Give a command list to execute on linux machine\n# With -m parameter you can give the the ssh server a list of commands, instead of opening a new shell.\n# Create command.txt and put linux commands to it\n# Run command\n.\\plink root@192.168.1.35 -i ..\\ssh\\private.ppk -m \"command.txt\" -t\n\n# -x enable X11 forwarding\n# -X disable X11 forwarding\n# -v verbose output\n</code></pre>"},{"location":"Notes/windows/#setup-vnc","title":"Setup vnc","text":"<pre><code># New putty connection:\nhostname 192.168.10.38\nConnection -&gt; Data -&gt; Auto-login username -&gt; root\nConnection -&gt; SSH  -&gt; Auth -&gt; Private-key -&gt; PUTTYGEN_GENERATED_KEY_HERE\nConnection -&gt; SSH  -&gt; X11 -&gt; tick 'Enable X11 forwarding'\nSessions -&gt; save\n\n-&gt; Open new ssh connection with Putty\n\n## On linux:\n# Install tightvncserver\nsudo apt-get install tightvncserver\n\n# Run vncserver ( take a not on what is the vncserver number, it should show up when the command is run)\nvncserver\n\n# Set password\n\n# To kill the server\nvncserver -kill :# ( #- number is shown when vncserver is started )\n\n\n## In PUTTY:\n# Setup tunneling\nConnection -&gt; SSH  -&gt; tunnels -&gt; Source port: 5900\nConnection -&gt; SSH  -&gt; tunnels -&gt; Destination port: localhost:5901 ( last number should be the same number that vncserver showed up when starting it )\nAdd\nSessions -&gt; save\n\n# Open x11 connection from PUTTY\n\n# Install tightvnc viewer\n\n# Open new vnc connection\n-&gt; server: localhost\n\n# This will be on as long as x11 Putty window is open\n</code></pre>"},{"location":"Notes/windows/#webassemply-setup","title":"Webassemply setup","text":"<pre><code># Install emscripten on Windows ( Rust )\n\n# 1) Download\nhttps://win.rustup.rs/\n\n# 2) Install Rust\n.\\rustup-init.exe\n\n# 3) Create a project folder\n\n# 4) Open Git Bash\n\n# 5) Install wasm pack\ncargo install wasm-pack\n\n# 6) Create Rust crate\ncargo init\n\n# 7) Modify Cargo.toml file\n[package]\nname = \"hello-world\"\nversion = \"0.1.0\"\nauthors = [\"Name &lt;name@example.com&gt;\"]\nedition = \"2018\"\n\n[lib]\ncrate-type = [\"cdylib\"]\n\n[dependencies]\nwasm-bindgen = \"0.2\"\n\n# 8) Rename src/main.rs -&gt; src/lib.rs\n\n# 9) Modify lib.rs\n// The wasm-pack uses wasm-bindgen to build and generate JavaScript binding file.\n// Import the wasm-bindgen crate.\nuse wasm_bindgen::prelude::*;\n\n// Our Add function\n// wasm-pack requires \"exported\" functions\n// to include #[wasm_bindgen]\n#[wasm_bindgen]\npub fn add(a: i32, b: i32) -&gt; i32 {\n  return a + b;\n}\n\n# 10) Compile\nwasm-pack build --target web\n\n---------------------------------------------------------------------------\n\n# Install emscripten on Windows ( C++ )\n\n# 1) Open admin powershell\nWin + R -&gt; type powershell -&gt; Ctrl + Shift + Enter ( to run as a admin )\n\n# 2) Clone the emscriptenn repo\ngit clone https://github.com/emscripten-core/emsdk.git\n\n# 3) Move to the project directory\ncd emsdk\n\n# 4) Allow scripts\nSet-ExecutionPolicy RemoteSigned\n\n# 5) Download and install the latest SDK tools.\n./emsdk install latest\n\n# 6) Make the \"latest\" SDK \"active\" for the current user. (writes ~/.emscripten file)\n./emsdk activate latest --global\n\n# 7) Activate PATH and other environment variables in the current terminal\n.\\emsdk_env.bat\n\n# Install CMake\n\n# Install MinGW\n\n# 1) Download installer from https://sourceforge.net/projects/mingw/files/latest/download\n\n# 2) Start the installer\n\n# 3) In installation manager makesure these are included:\nBasic Setup -&gt;   \n                 mingw-developer-toolkit\n                 mingw32-base\n                 mingw32-gcc-g++\n                 msys-base\n\nAll Packages -&gt;  MinGW -&gt; MinGW Base System -&gt;\n                 mingw32-libpthreadgc dev\n                 mingw32-libpthreadgc dll\n                 mingw32-libpthreadgce dev\n                 mingw32-libpthreadgce dll\n\n# 4) Apply changes\nInstallation -&gt; Apply Changes\n\n# Create a project\n\n# 1) Create a .c file hello.c\n\n# 2) Add some code\n#include &lt;stdio.h&gt;\n\nint main(int argc, char ** argv) {\n    printf(\"Hello World\\n\");\n}\n\n# 3) Compile\nemcc hello.c -O3 -o hello.html\n\n# 4) Run\npython -m SimpleHTTPServer 8000\n\n# 5) See results\nhttp://localhost:8000/hello.html\n</code></pre>"},{"location":"Notes/windows/#windows-mysql-nodejs-setup","title":"Windows mysql-nodejs setup","text":"<pre><code># Install MySQL server:\n1. Download the installer.\n2. Run\n3. On the mysql installer, choose legacy authentication if you want to connect from NodeJS\n\n# Setup test table:\n1 Open mysql shell\n2. \\connect root2@localhost?connect-timeout=2000\n3. \\sql\n4. create database test:\n5. use test;\n6. CREATE TABLE example ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );\n7. INSERT INTO example ( id, name ) VALUES ( null, 'Sample data' );\n8. select * from example;\n9. (OPTIONAL) if nodejs authentication fails:\nALTER USER 'root2'@'localhost' IDENTIFIED BY 'password';\nALTER USER 'root2'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\n\n\n# NodeJS:\n1. npm install mysql --save\n\n############## app.js ##############\nconst express = require(\"express\");\nvar mysql = require('mysql'); \n\nlet app = express();\n\nvar con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"yourusername\",\n    password: \"yourpassword\"\n  });\n\n  con.connect(function(err) {\n    if (err) throw err;\n    console.log(\"Connected!\");\n  });\n\napp.use(express.static(__dirname+\"/public_www\"));\napp.listen(8080);\n\nconsole.log(\"Running in port 8080\");\n####################################\n</code></pre>"},{"location":"Notes/windows/#onenote","title":"Onenote","text":"<pre><code># Create a new quick note shortcut\nWin + Alt + N\n</code></pre>"},{"location":"Notes/windows/#media-streaming","title":"Media streaming","text":"<pre><code>Control Panel\\Network and Internet\\Network and Sharing Centre\\Media streaming options\n</code></pre>"},{"location":"Notes/windows/#applications","title":"Applications","text":""},{"location":"Notes/windows/#create-portable-exe","title":"Create portable .exe","text":"<pre><code># Create a portable .exe on Windows\n\n# Needed: \n- WinRAR\n- A project folder containing the needed .dlls and other dependencies along with\nthe .exe.\n- A .ico file for the .exe ( OPTIONAL )\n\n1. Select all the files in a folder where the .exe is located.\n2. Right click -&gt; Add to archive.\n3. General -&gt; Browse -&gt; set output location ( for example /Desktop )\n4. General -&gt; check 'Create SFX archive'\n5. General -&gt; Compression method -&gt; Best\n6. Advanced -&gt; SFX options... -&gt; Setup -&gt; copy the .exe name to \n\"Run after extraction\"-field.\n7. Modes -&gt; check 'Unpack to temporary folder'\n8. Modes -&gt; select 'Hide all'\n9. Update -&gt; select 'Overwrite all files'\n10. Text and icon -&gt; Browse the lower of the 'Load XFS icon from file' fields -&gt;\nselect icon for the .exe.\n11. Click OK for the 'Advanced SFX options'\n12. Click OK for the 'Archive name and parameters'\n\n\n# There should now be a single .exe on the /Desktop ( Or the location you selected )\n\n# Sources:\nhttps://www.youtube.com/watch?v=EB-itJKvN5M\n</code></pre>"},{"location":"Notes/windows/#open-another-instance-of-a-application","title":"Open another instance of a application","text":"<pre><code>Hover over an application in the toolbar and press Shift + Left mouse click\n</code></pre>"},{"location":"Notes/windows/#create-self-extractingself-installing-packages","title":"Create self-extracting/self-installing packages","text":"<pre><code>Win + R -&gt; iexpress\n</code></pre>"},{"location":"Notes/windows/#install-docker","title":"Install Docker","text":"<pre><code># Check if Docker Desktop is already installed\nif (-not (Get-Command -Name docker -ErrorAction SilentlyContinue)) {\n    # Download the Docker Desktop installer\n    $dockerInstallerUrl = `\n    \"https://desktop.docker.com/win/stable/Docker%20Desktop%20Installer.exe\"\n    $dockerInstallerPath = Join-Path $env:TEMP \"DockerDesktopInstaller.exe\"\n    #Invoke-WebRequest -Uri $dockerInstallerUrl -OutFile $dockerInstallerPath\n\n    # Install Docker Desktop\n    Start-Process -FilePath $dockerInstallerPath -Wait\n    Remove-Item -Path $dockerInstallerPath -Force\n\n    # Wait for Docker to start\n    Start-Sleep -Seconds 15\n\n    # Check if Docker is running\n    if (Get-Service -Name \"com.docker.service\" -ErrorAction SilentlyContinue) {\n        Write-Host \"Docker Desktop is installed and running.\"\n    } else {\n        Write-Host \"Docker Desktop installation failed.\"\n    }\n} else {\n    Write-Host \"Docker Desktop is already installed.\"\n}\n</code></pre>"},{"location":"Notes/windows/#install-chocolatey","title":"Install Chocolatey","text":"<pre><code># Check if terminal is already installed\n$choco_output = Get-Command -Name choco.exe -ErrorAction SilentlyContinue\nif (!$choco_output) {\n    echo \"Installing chocolatey..\"\n    Set-ExecutionPolicy Bypass -Scope Process -Force; `\n    [System.Net.ServicePointManager]::SecurityProtocol = `\n    [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex `\n    ((New-Object System.Net.WebClient).DownloadString(`\n    'https://community.chocolatey.org/install.ps1'))\n    echo \"Chocolatey installed!\"\n}\n\n# Install a program using Chocolatey\nfunction install_program($name) {\n    # Check if the program is already installed\n    $program_installed = choco list --localonly | findstr /i $name \n    if(!$program_installed) {\n        $choco_output = Get-Command -Name choco.exe -ErrorAction SilentlyContinue\n        # Check if chocolatey is installed\n        if($choco_output) {\n            echo \"Installing $name..\"\n            choco install $name -y\n        }\n    } else {\n        echo \"$name installed already!\"\n    }\n}\n\n# Install Notepad++\ninstall_program 'notepadplusplus'\n</code></pre>"},{"location":"Notes/windows/#auth","title":"Auth","text":""},{"location":"Notes/windows/#check-checksum","title":"Check checksum","text":"<pre><code># SHA256\nCertUtil -hashfile file_to_check.exe SHA256\n\n# MD5\nCertUtil -hashfile file_to_check.exe MD5\n</code></pre>"},{"location":"Notes/windows/#check-signatures","title":"Check signatures","text":"<pre><code># Setup on Windows\n\n1. Download gpg4win\n\n2. Check gpg4win signature\n certutil -hashfile gpg4win-3.1.7.exe SHA256\n certutil -hashfile gpg4win-3.1.7.exe MD5\n\n3. Install gpg4win\n\n4. Refresh environment variables of the command prompt \n refreshenv\n\n5. Download the file which we are checking the signatures from:\ncurl -o https://some_file\n\n6. Download the signature creators public key and import to gpg4win\n curl -o some_file.pub\n gpg --import some_file.pub\n\n7. Download signature\ncurl -o some_file.sig\n\n8. Finally check the signature\n gpg --verify file_to_check.zip.sig file_to_check.zip\n\n9. Verify the output:\ngpg: Signature made 09/06/18 00:01:57 FLE Summer Time\ngpg:                using RSA key F48B339EE7ADC266\ngpg: Good signature from \"G\u00f6ran Krampe (getcanoe.io) &lt;goran.krampe@gmail.com&gt;\" [unknown]\ngpg: WARNING: This key is not certified with a trusted signature!\ngpg:          There is no indication that the signature belongs to the owner.\nPrimary key fingerprint: DEEA 6E35 887D 0F0D 1C6E  196E F48B 339E E7AD C266\n\n\n####### Example: verifying electrum signature ########\n\n# 1. Download electrum:\ncurl -o electrum-3.3.8-setup.exe https://download.electrum.org/3.3.8/electrum-3.3.8-setup.exe\n\n# 2. Download Thomas's public key:\ncurl -o electrum-3.3.8-setup.exe.pub https://raw.githubusercontent.com/spesmilo/electrum/master/pubkeys/ThomasV.asc\n\n# 3. Download electrum signature:\ncurl -o electrum-3.3.8-setup.exe.sig https://download.electrum.org/3.3.8/electrum-3.3.8-setup.exe.asc\n\n# 4. Import the public key to gpg:\ngpg --import electrum-3.3.8-setup.exe.pub\n\n# 5. Verify the application:\ngpg --verify electrum-3.3.8-setup.exe.sig electrum-3.3.8-setup.exe\n</code></pre>"},{"location":"Notes/windows/#setup-ssh-key-loading-with-keepass","title":"Setup SSH key loading with KeePASS","text":"<pre><code># Setup KeePass to serve SSH keys for GIT\n\n# Setup KeePass\n1. Download and install KeePass\n2. Download KeeAgent plugin for KeePass\n3. Unzip plugin to KeePass plugin folder ( C:\\Program Files (x86)\\KeePass Password Safe 2\\Plugins\\ )\n4. Restart KeePass\n\n# Create key pair\n1. Download PuttyGen\n2. Create key pair\n3. Set a password for it\n4. Save\n\n# Setup keys\n1. Add the public key to GitLab Settings -&gt; SSH keys\n- Add 'ssh-rsa' infront of the key\n- Example:\n    ssh-rsa AAAAB3NzaC1yc2EAA...\n2. Add key\n\n# Setup Keys to KeePass\n1. Add new entry to KeePass\n2. 'Entry' tab: Add GitLab username\n3. 'Entry' tab: Add SSH private key password\n4. 'Advanced' tab: Add public and private key to File Attachments\n5. 'KeeAgent' tab: Tick 'Allow KeeAgent to use this entry'\n6. Open Tools -&gt; KeeAgent and add the key here\n7. Restart KeePass\n8. Right click the gitlab key entry and press Load SSH Key\n\n# Setup GitBash\n1. From KeePass open Tools -&gt; Options -&gt; KeeAgent\n2. Add msys files\nCygwin compatible socket file:\n- C:\\Temp\\cyglockfile\nmsysGit compatible socket file:\n- C:\\Temp\\syslockfile\n3. Create bash_profile file:\nCreate C:\\Users\\User\\.bash_profile\n4. add to bash_profile:\nexport SSH_AUTH_SOCK=\"C:\\Temp\\cyglockfile\"\n5. Restart git bash\n6. Test connection:\nssh -T git@gitlab.compatible\n7. should work now\n</code></pre>"},{"location":"Notes/windows/#setup-ssh-keys-putty","title":"Setup SSH keys PUTTY","text":"<pre><code># Setup SSH keys between Windows and Linux\n\n# 1. Download PuttyGen\nhttps://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\n\n# 2. Create new key pair with PuttyGen\nGenerate -&gt; Save private key\nGenerate -&gt; Save public key\n\n# 3. In PUTTY save a new session\nSet Saved Sessions name and click Save\n\n# 4. Load the saved putty session\n\n# 5. Set username\nConnection &gt; Data &gt; login username\n\n# 6. Set private key\nConnection &gt; SSH &gt; Auth &gt; browse private key\n\n# 7. Log on to the Linux machine and create ~/.ssh folder if it doesn't existed\nmkdir -p ~/.ssh\n\n# 8. Create authorized_keys file\ntouch authorized_keys\n\n# 9. Edit authorized_keys and add:\n    ssh-rsa PUBLIC_KEY_HERE\n\n# Note! Public key has to be on one line\n</code></pre>"},{"location":"Notes/windows/#setup-ssh-keys","title":"Setup SSH keys","text":"<pre><code>## Example: Add ssh keys to github\n\n# Create a key pair\nssh-keygen\n\n# Add public key to github\nProfile -&gt; settings -&gt; ssh keys -&gt; new key -&gt; past *.pub here\n\n# Add private key to correct location ( name has to be id_rsa )\nC:/Users/username/.ssh/id_rsa\n\n# Add key to key agent\nOpen windows terminal\nstart-ssh-agent.cmd\n</code></pre>"},{"location":"Notes/windows/#disable-hotmail-account-login-on-windows-10","title":"Disable hotmail account login on windows 10","text":"<pre><code># To create a local account on your Windows 10 PC:\n1. Press the Windows key + R.\n2. Type netplwiz, and then click OK.\n3. Click Add.\n4. Click Sign in without a Microsoft account (not recommended).\n5. Click Local account, type a username, and a password (if you'd like one).'\n6. Click Next, and then click Finish.\n7. Sign out of the Microsoft account you want to delete, sign in using the local account you created, and then remove the account you want to delete.\n\n# To remove a Microsoft account from your Windows 10 PC:\n1. Click the Start button, and then click Settings.\n2. Click Accounts -&gt; Family &amp; other users, scroll down, and then click the Microsoft account you would like to delete.\n3. Click Remove, and then click Yes.\n</code></pre>"},{"location":"Notes/windows/#miscellaneous","title":"Miscellaneous","text":""},{"location":"Notes/windows/#record-all-the-steps-taken-to-produce-an-error","title":"Record all the steps taken to produce an error","text":"<pre><code># Record all the steps taken to produce an error\nWin + R -&gt; psr\n</code></pre>"},{"location":"Notes/windows/#god-mode","title":"God mode","text":"<p>Various settings and customization options <pre><code>#  Create a new folder and rename it to:\nGodMode.{ED7BA470-8E54-465E-825C-99712043E01C}\n</code></pre></p>"},{"location":"Notes/windows/#virtual-desktop","title":"Virtual Desktop","text":"<pre><code># Create new virtual desktop\nWin + Ctrl + D\n\n# Switch between virtual desktops\nWin + Ctrl + Left/Right arrow\n\n# Close current virtual desktop\nWin + Ctrl + F4\n</code></pre>"},{"location":"Notes/windows/#clipboard-history","title":"Clipboard history","text":"<pre><code>Win + V\n</code></pre>"},{"location":"Notes/windows/#magnifier","title":"Magnifier","text":"<pre><code># Zoom in\nWin + Plus ( + ) \n\n# Zoom out\nWin + Minus ( - )\n\n# Exit magnifier\nWin + Esc\n</code></pre>"},{"location":"Notes/windows/#view-system-properties","title":"View system properties","text":"<pre><code># Open System properties key bind:\nWin + Pause\n\n# View system information:\nWin + R -&gt; msinfo32\n\n# Systeminfo\nWin + R -&gt; cmd -&gt; systeminfo\n\n# Wmic\nWin + R -&gt; cmd -&gt; wmic\nWin + R -&gt; cmd -&gt; wmic cpu get name\n\n# View network adapter settings\nWin + R -&gt; ncpa.cpl\n\n# View CPU stats\nCtr + Shift + O\n\n# View system, display, sound and input settings\nWin + R -&gt; dxdiag\n\n# Task manager\nCtrl + Shift + Esc -&gt; performance\n\n# Computer info\nWin + R -&gt; powershell -&gt; Get-ComputerInfo\n</code></pre>"},{"location":"Notes/windows/#slide-shutdown","title":"Slide shutdown","text":"<pre><code># Press Win button and Search -&gt; \nC:\\Windows\\System32\\SlideToShutDown.exe\n</code></pre>"},{"location":"Notes/windows/#configuration","title":"Configuration","text":""},{"location":"Notes/windows/#system-configuration","title":"System configuration","text":"<pre><code># View boot parameters\nWin + R -&gt; msconfig\n</code></pre>"},{"location":"Notes/windows/#device-manager","title":"Device manager","text":"<pre><code># Overview of installed hardware devices \nWin + R -&gt; devmgmt.msc\n</code></pre>"},{"location":"Notes/windows/#services","title":"Services","text":"<pre><code># List Windows services \nWin + R -&gt; services.msc\n</code></pre>"},{"location":"Notes/windows/#computer-management","title":"Computer management","text":"<pre><code># Admin tools \nWin + R -&gt; compmgmt.msc\n</code></pre>"},{"location":"Notes/windows/#register-editor","title":"Register editor","text":"<pre><code># Edit Windows registers\nWin + R -&gt; regedit\n</code></pre>"},{"location":"Notes/windows/#groups","title":"Groups","text":"<pre><code># Configure local group policy settings\nWin + R -&gt; gpedit.msc\n\n# Manage user accounts\nWin + R -&gt; lusrmgr.msc\n</code></pre>"},{"location":"Notes/windows/#task-scheduler","title":"Task scheduler","text":"<pre><code># Schedule tasks to run at specific times or under specific conditions\nWin + R -&gt; taskschd.msc\n</code></pre>"},{"location":"Notes/windows/#security-configurations","title":"Security configurations","text":"<pre><code># Manage security policies\nWin + R -&gt; secpol.msc\n</code></pre>"},{"location":"Notes/windows/#shared-folders","title":"Shared folders","text":"<pre><code># Manage shared folders\nWin + R -&gt; fsmgmt.msc\n</code></pre>"},{"location":"Notes/windows/#firewall","title":"Firewall","text":"<pre><code># Manage firewall\nWin + R -&gt; wf.msc\n</code></pre>"},{"location":"Notes/windows/#monitoring","title":"Monitoring","text":""},{"location":"Notes/windows/#memory-diagnostics","title":"Memory diagnostics","text":"<pre><code># Check computer for RAM errors\nWin + R -&gt; cmd -&gt; mdsched.exe\n</code></pre>"},{"location":"Notes/windows/#resource-monitor","title":"Resource monitor","text":"<pre><code># System resource monitoring ( CPU, Memory, Disk, Network )\nWin + R -&gt; resmon\n</code></pre>"},{"location":"Notes/windows/#performance-monitor","title":"Performance monitor","text":"<pre><code># Monitor system performance\nWin + R -&gt; perfmon\n</code></pre>"},{"location":"Notes/windows/#events","title":"Events","text":"<pre><code># Monitor events\nWin + R -&gt; eventvwr\n</code></pre>"},{"location":"Notes/windows/#reliability-monitor","title":"Reliability monitor","text":"<pre><code># View reliability monitor\nWin + R -&gt; perfmon /rel\n</code></pre>"},{"location":"Notes/windows/#resource-and-performance-monitor","title":"Resource and Performance monitor","text":"<pre><code># Creates a report that details the status of local hardware resources, system response times, and processes on the local computer\nWin + R -&gt; perfmon /report\n</code></pre>"},{"location":"Notes/windows/#sysinternals","title":"Sysinternals","text":"<pre><code># Admin tools\nhttps://learn.microsoft.com/en-us/sysinternals/downloads/sysinternals-suite\n</code></pre>"},{"location":"Notes/windows/#disk-tools","title":"Disk tools","text":""},{"location":"Notes/windows/#check-disks","title":"Check disks","text":"<pre><code># Check the integrity of file systems\nWin + R -&gt; cmd -&gt; chkdsk\n</code></pre>"},{"location":"Notes/windows/#system-file-checker","title":"System file checker","text":"<pre><code># Scan for corrupted and missing system files\nWin + R -&gt; cmd -&gt; sfc /scannow\n</code></pre>"},{"location":"Notes/windows/#fix-windows-component-store-corruption","title":"Fix Windows component store corruption","text":"<pre><code># Use when sfc /scannow fails\nWin Button -&gt; Search for powershell -&gt; 'Ctrl + Shift + Enter' -&gt; powershell\nDISM /Online /Cleanup-Image /RestoreHealth\n</code></pre>"},{"location":"Notes/windows/#disk-cleanup","title":"Disk cleanup","text":"<pre><code># Free up space\nWin + R -&gt; cleanmgr\n</code></pre>"},{"location":"Notes/windows/#disk-management","title":"Disk management","text":"<pre><code># View and modify disks and partitions\nWin + R -&gt; diskmgmt.msc\n</code></pre>"},{"location":"Notes/windows/#storage-sense","title":"Storage sense","text":"<pre><code># Free up space\nWin -&gt; Settings -&gt; System -&gt; Storage\n</code></pre>"},{"location":"Notes/windows/#recovery-drive","title":"Recovery drive","text":"<pre><code># Create a recovery drive ( Needs &gt;16GB USB )\nWin + R -&gt; recoverydrive\n</code></pre>"},{"location":"Notes/wsl/","title":"Wsl","text":""},{"location":"Notes/wsl/#install-wsl-to-non-system-drive-not-c","title":"Install WSL to Non system drive ( not C:\\ )","text":"<pre><code>- Win button -&gt; Search for 'powershell' -&gt; Ctrl + Shift + Enter\n- cd G:\\\n- mkdir WSL\n- cd WSL\n- See distros here: https://docs.microsoft.com/en-us/windows/wsl/install-manual\n- iwr -Uri https://aka.ms/wsl-ubuntu-1804 -OutFile Ubuntu.appx -UseBasicParsing\n- move .\\Ubuntu.appx .\\Ubuntu.zip\n- Expand-Archive .\\Ubuntu.zip\n- cd Ubuntu\n- .\\ubuntu1804.exe\n- Create username and password\n</code></pre>"},{"location":"Notes/wsl/#resize-wsl-virtual-drive","title":"Resize WSL virtual drive","text":"<pre><code>1. Increase virtual disk space\n- Win button - Search for \"Turn Windows features on or off\" -&gt; Hyper-V -&gt; Tick on\n- Win button -&gt; Search for 'powershell' -&gt; Ctrl + Shift + Enter\n- cd to the location of virtual drive ( ext4.vhdx )\n- resize-vhd -Path .\\ext4.vhdx -SizeBytes 326GB\n- Another way: https://docs.microsoft.com/en-us/windows/wsl/compare-versions#expanding-the-size-of-your-wsl-2-virtual-hard-disk\n2. Increase physical disk space on linux\n# This can cause error: \"/dev: none already mounted on /dev.\". just ignore.\n- sudo mount -t devtmpfs none /dev\n# Check output e.g. /dev/sdb\n- mount | grep ext4\n# Give the size in megabytes\n- sudo resize2fs /dev/sdb 376000M\n</code></pre>"},{"location":"Notes/wsl/#wsl-root-filesystem-on-windows","title":"WSL root filesystem on Windows","text":"<pre><code>\\\\wsl.localhost\\Ubuntu-20.04\n</code></pre>"},{"location":"Notes/wsl/#windows-root-on-wsl","title":"Windows root on WSL","text":"<pre><code>/mnt/c\n</code></pre>"},{"location":"Notes/wsl/#view-current-wsl-virtual-drive-size","title":"View current WSL virtual drive size","text":"<pre><code>- Win button -&gt; Search for 'powershell' -&gt; Ctrl + Shift + Enter\n- diskpart\n- Select vdisk file=\"G:\\Ubuntu-20-04_wsl\\ubuntu-1804\\ext4.vhdx\"\n- detail vdisk\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone/","title":"Beaglebone","text":""},{"location":"Notes/embedded-linux/beaglebone/#beaglebone","title":"Beaglebone","text":"<pre><code># Default login user\nuser: debian\npw:   temppwd\n\n## Powering on/off\n# Boot linux from the eMMC\nRemove SD card and boot\n\n# Boot linux from the SD card\nAdd SD card, hold USER button down and apply power\n\n# Flash eMMC with SD card\nInsert SD card\nHold USER button and connect power\nHold for 5-7seconds\n\n# User LEDs\n- USR0 is configured at boot to blink in a heartbeat pattern\n- USR1 is configured at boot to light during microSD card accesses\n- USR2 is configured at boot to light during CPU activity\n- USR3 is configured at boot to light during eMMC accesses\nUSR0 is on the edge of the board\n\n\n# Setup beaglebone\nhttp://beagleboard.org/getting-started\n\n\n# Resolve error 'the current language is not supported by the device driver installation wizard beaglebone'\nwhen trying to install beaglebone drivers\n\n1. Download and setup 7zip\n2. Right click BONE_D64.exe -&gt; 7zip -&gt; Extract to BONE_D64\\\n3. Edit dpinst.xml\n4. Add below first &lt;\\language&gt; tag:\n  &lt;!-- English (Finland) --&gt;\n  &lt;language code=\"0x1000\"&gt;&lt;/language&gt;\n5. Run dpinst.exe\n\nThis adds the current OS language to the supported languages list.\nSee all the language codes here:\nhttps://www.ryadel.com/en/microsoft-windows-lcid-list-decimal-and-hex-all-locale-codes-ids/\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/","title":"Yocto kirkstone image for BeagleBone Black","text":""},{"location":"Notes/embedded-linux/beaglebone_yocto/#build","title":"Build","text":""},{"location":"Notes/embedded-linux/beaglebone_yocto/#install-dependencies","title":"Install dependencies","text":"<pre><code>sudo apt-get install bc build-essential chrpath diffstat gawk git libncurses5-dev pkg-config socat subversion texi2html texinfo u-boot-tools liblz4-tool\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#clone-yocto-repo","title":"Clone yocto repo","text":"<pre><code>git clone -b kirkstone https://git.yoctoproject.org/git/poky\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#source-build-env","title":"Source build env","text":"<pre><code>source poky/oe-init-build-env\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#build-minimal-image","title":"Build minimal image","text":"<pre><code>MACHINE=\"beaglebone-yocto\" bitbake core-image-full-cmdline\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#setup-sd-card","title":"Setup sd card","text":"<pre><code>1. make sure that sd card is empty\n2. lsblk\n  sdc           8:32   1    58G  0 disk\n3. if not, sudo cfdisk /dev/sdc -&gt; delete all partitions and write\n4. eject the sd card and connect back in, check that the card is empty\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#flash-image-to-beaglebone","title":"Flash image to beaglebone","text":"<pre><code>cd tmp/deploy/images/beaglebone-yocto\nsudo dd if=core-image-full-cmdline-beaglebone-yocto.wic of=/dev/sdc bs=4M\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#bootup-linux","title":"Bootup linux","text":"<pre><code>Eject sd card, connect it to beaglebone\nOpen serial console:\n  gtkterm -p /dev/ttyUSB0 -s 115200\nPress and hold the button near the sd card slot to boot from sd card, power up the beaglebone\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#create-extenesible-sdk","title":"Create extenesible sdk","text":"<pre><code>bitbake core-image-full-cmdline -c populate_sdk_ext\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#install-sdk","title":"Install SDK","text":"<p>Set executable if it isn't already and run the script <pre><code># set executable if it isn't already and run the script\nchmod +x tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh\n./tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh\n</code></pre></p> <p>To change the install directory <pre><code>./tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh -d /my/path/here\n</code></pre></p>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#sdk-usage","title":"SDK Usage","text":"<pre><code>source /home/ton/beaglebone_os/sdk/test_sdk_full/environment-setup-cortexa8hf-neon-poky-linux-gnueabi\n</code></pre>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#add-recipe-to-the-target-image","title":"Add recipe to the target image","text":"<p>On target, htop missing <pre><code>root@beaglebone-yocto:~# htop\n-sh: htop: command not found\n</code></pre></p> <p>Add new recipe to the sdk <pre><code>devtool -d add https://github.com/htop-dev/htop.git --srcbranch main\n</code></pre></p> <p>Try to build the recipe <pre><code>devtool build htop\n</code></pre></p> <p>Edit recipe <pre><code># Fix recipe by adding 'FILES:${PN} += \"/usr/share/icons\"' or in older yocto versions 'FILES_${PN} += \"/usr/share/icons\"'\ndevtool edit-recipe htop\n</code></pre></p> <p>Deploy to the target <pre><code>devtool deploy-target htop root@192.168.1.50\n</code></pre></p>"},{"location":"Notes/embedded-linux/beaglebone_yocto/#run-new-package-on-target-device","title":"Run new package on target device","text":"<p>At this point the binary is on the target, but shared libraries are missing <pre><code>root@beaglebone-yocto:~# htop \nhtop: error while loading shared libraries: libnl-3.so.200: cannot open shared object file: No such file or directory\nroot@beaglebone-yocto:~#\n</code></pre></p> <p>If the recipe depends on other packages ( for example in htop: DEPENDS = \"systemd libcap libnl xz\" ) that are not on the target device yet, image needs to be built and deployed to target. Sdk gets updated with workdir recipe and it's dependencies, so the image can be built with devtool <pre><code>devtool build-image\n</code></pre></p> <p>Alternatively, you can copy the runtime libs to the target: On the target, find out where the binary is located <pre><code>root@beaglebone-yocto:~# find /usr/ -name \"htop\"\n/usr/bin/htop\n</code></pre></p> <p>Cd to target root <pre><code>cd /run/user/1000/gvfs/sftp:host=192.168.1.50,user=root/home/root\n</code></pre></p> <p>Source sdk, if not sourced already <pre><code>source ~/beaglebone_os/sdk/test_sdk_full/environment-setup-cortexa8hf-neon-poky-linux-gnueabi\n</code></pre></p> <p>Find dependencies <pre><code>for file in $(arm-poky-linux-gnueabi-readelf -a /usr/bin/htop | \\\ngrep \"Shared library\" | \\\nsed -nr '/Shared library:/ s/.*Shared library:([^\"]+).*/\\1/p' | \\\ntr -d \"[]\"); \\\ndo name=$(echo $file | cut -d '.' -f 1) &amp;&amp; find /home/ton/beaglebone_os/build/tmp/sysroots-components/cortexa8hf-neon -name $name.*; \\\ndone \\\n&gt; dependencies.txt\n</code></pre></p> <p>Copy libs to target <pre><code>cat dependencies.txt | xargs -i sudo scp {} root@192.168.1.50:/usr/lib/\n</code></pre></p> <p>Htop should now be usable on the target <pre><code>  CPU[||||||                                                           7.1%] Tasks: 29, 1 thr, 64 kthr; 1 running\n  Mem[||||||||||||||                                             30.1M/488M] Load average: 0.89 0.23 0.08 \n  Swp[                                                                0K/0K] Uptime: 00:00:39\n\n  [Main] [I/O]\n  PID USER       PRI  NI  VIRT   RES   SHR S  CPU%-MEM%   TIME+  Command\n  210 root        20   0  4036  3116  2356 R   2.6  0.6  0:00.22 htop\n    1 root        20   0 10076  7188  5788 S   0.6  1.4  0:04.44 /sbin/init\n  184 messagebus  20   0  4932  3116  2804 S   0.6  0.6  0:00.31 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activati\n  133 rpc         20   0  3936  2248  2020 S   0.0  0.4  0:00.03 /usr/sbin/rpcbind -w -f\n</code></pre></p> <p>Apply the recipe to source tree <pre><code>ton@mx-5:~/beaglebone_os/sdk/htop$ devtool finish htop ../../sources/meta-bbb/\n</code></pre></p>"},{"location":"Notes/embedded-linux/diy-setup/","title":"DIY Linux for BeagleBone Black","text":""},{"location":"Notes/embedded-linux/diy-setup/#toolchain-types-gnueabi-gnueabihf","title":"Toolchain types ( gnueabi / gnueabihf )","text":"<pre><code>- GNU Extended Application Binary Interface / --||-- hardware floating point support\nPasses \n- gnueabi relies on software floating-point library\n- gnueabihf uses floating point registers instead of integer registers\n- in function calls, the hardware floating point support makes calling with float and double type parameters faster\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#build-toolchain","title":"Build toolchain","text":"<pre><code>git clone https://github.com/crosstool-ng/crosstool-ng.git\ngit checkout crosstool-ng-1.25.0\n./bootstrap\n./configure --prefix=${PWD}\nmake\nmake install\nbin/ct-ng arm-cortex_a8-linux-gnueabi\nbin/ct-ng build\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#toolchain-usage","title":"Toolchain usage","text":"<p>Toolchain install location <pre><code>~/x-tools/arm-cortex_a8-linux-gnueabi\n</code></pre></p> <p>List default configurations <pre><code>bin/ct-ng list-samples\n</code></pre></p> <p>View default configuration <pre><code>bin/ct-ng show-arm-cortex_a8-linux-gnueabi\n</code></pre></p> <p>View default configuration <pre><code>bin/ct-ng show-arm-cortex_a8-linux-gnueabi\n</code></pre></p> <p>Disable read-only toolchain ( CT_PREFIX_DIR_RO ) Enable hardware floating points ( CT_ARCH_FLOAT_HW ) Target options -&gt; Use specific FPU -&gt; 'neon' <pre><code>bin/ct-ng menuconfig\n</code></pre></p> <p>Setup toolchain env <pre><code>PATH=~/x-tools/arm-cortex_a8-linux-gnueabi/bin:$PATH\nexport CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nexport ARCH=arm\n</code></pre></p> <p>Get toolchain info <pre><code>arm-cortex_a8-linux-gnueabi-gcc --version\narm-cortex_a8-linux-gnueabi-gcc -v\n</code></pre></p> <p>Toolchain compiling <pre><code>arm-cortex_a8-linux-gnueabi-gcc test.c -o test_bin\n</code></pre></p> <p>Override toolchain compiler settings <pre><code>arm-cortex_a8-linux-gnueabi-gcc -mcpu=cortex-a5 test.c -o test_bin\n</code></pre></p> <p>Read linked libraries <pre><code>arm-cortex_a8-linux-gnueabi-readelf -a test_bin | grep \"Shared library\"\n</code></pre></p> <p>Get location of shared library runtime linker <pre><code>arm-cortex_a8-linux-gnueabi-readelf -a test_bin | grep \"program interpreter\"\n</code></pre></p> <p>Print toolchain sysroot <pre><code>arm-cortex_a8-linux-gnueabi-gcc -print-sysroot\n</code></pre></p>"},{"location":"Notes/embedded-linux/diy-setup/#bootloader","title":"Bootloader","text":""},{"location":"Notes/embedded-linux/diy-setup/#boot-process","title":"Boot process","text":"<pre><code>1. ROM code\n2. Secondary Program Loader ( SPL ) running in SRAM Initializes DRAM\n3. SPL loads u-boot ( Tertiary Program Loader (TPL) ) in and jumps in there\n4. Loads kernel into DRAM\n5. Kernel loads root file system\n6. Init program is executed with PID 1\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#build-u-boot","title":"Build u-boot","text":"<pre><code>git clone git://git.denx.de/u-boot.git\ncd u-boot\ngit checkout v2021.01\nPATH=~/x-tools/arm-cortex_a8-linux-gnueabi/bin:$PATH\nexport CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nexport ARCH=arm\nmake am335x_evm_defconfig\nmake\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#flash-u-boot-to-target-device","title":"Flash u-boot to target device","text":"<pre><code>format sdcard to have a 64MB boot section and a 1GB rootfs\ncopy MLO and u-boot.img to the /media/user/boot/ folder\numount the boot mount point\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#boot-linux-image","title":"Boot linux image","text":"<pre><code>fatload mmc 0:1 0x80200000 zImage\nfatload mmc 0:1 0x80f00000 am335x-boneblack.dtb\nfatload mmc 0:1 0x80f00000 nova.dtb\nsetenv bootargs console=ttyO0,115200n8\nbootz 0x80200000 - 0x80f00000\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#terminal","title":"Terminal","text":""},{"location":"Notes/embedded-linux/diy-setup/#open-terminal","title":"Open terminal","text":"<pre><code>gtkterm -p /dev/ttyUSB0 -s 115200\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#kernel","title":"Kernel","text":"<p>Get kernel sources <pre><code>wget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.50.tar.xz\n</code></pre></p> <p>Create a kernel config based on defaults <pre><code>make ARCH=arm multi_v7_defconfig\n</code></pre></p> <p>Modify kernel config <pre><code>make ARCH=arm menuconfig\n( config will be saved to .config file, use ls -a to view it on disk )\n</code></pre></p> <p>Build kernel <pre><code>sudo apt-get install libssl-dev\nmake -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- zImage\n</code></pre></p> <p>Build kernel with verbose logging <pre><code>sudo apt-get install libssl-dev\nmake -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- V=1 zImage\n</code></pre></p> <p>Build kernel modules separately <pre><code>make -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- modules\n</code></pre></p> <p>Install kernel modules <pre><code>make -j8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- INSTALL_MOD_PATH=$HOME/rootfs modules_install\n</code></pre></p> <p>Build device tree ( based on the multi_v7_defconfig ) <pre><code>make ARCH=arm dtbs\n</code></pre></p> <p>Copy kernel and device tree to the boot media <pre><code>cp arch/arm/boot/zImage arch/arm/boot/dts/am335x-boneblack.dtb /media/ton/boot/\n</code></pre></p>"},{"location":"Notes/embedded-linux/diy-setup/#rootfs","title":"Rootfs","text":""},{"location":"Notes/embedded-linux/diy-setup/#create-rootfs","title":"Create rootfs","text":"<pre><code>mkdir ~/rootfs\ncd ~/rootfs\nmkdir bin dev etc home lib proc sbin sys tmp usr var\nmkdir usr/bin usr/lib usr/sbin\nmkdir -p var/log\nsudo chown -R root:root *\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#build-busybox","title":"Build busybox","text":"<pre><code>git clone git://busybox.net/busybox.git\ncd busybox\ngit checkout 1_36_0\nmake distclean\nmake defconfig\n( Optional, do changes here ) make menuconfig\nnano .config -&gt; change 'CONFIG_PREFIX' to: /home/ton/rootfs\nmake ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nmake ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- install\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#create-a-ramdisk-image","title":"Create a ramdisk image","text":"<pre><code>cd ~/rootfs\nfind . | cpio -H newc -ov --owner root:root &gt; ../initramfs.cpio\ncd ..\ngzip initramfs.cpio\nmkimage -A arm -O linux -T ramdisk -d initramfs.cpio.gz uRamdisk\nattach SD card to host machine\ncp uRamdisk /media/ton/boot\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#beaglebone","title":"Beaglebone","text":""},{"location":"Notes/embedded-linux/diy-setup/#boot-from-sd-card","title":"Boot from SD card","text":"<pre><code>Hold down the button near the SD card slot, power on the device, hold the button down for 5 seconds and release\nOptionally press reset button\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#image-size","title":"Image size","text":"<pre><code>uboot&gt; bootz 0x80200000 0x81000000 0x80f00000\n## Loading init Ramdisk from Legacy Image at 81000000 ...\n   Image Name:   \n   Created:      2023-04-26  15:29:33 UTC\n   Image Type:   ARM Linux RAMDisk Image (gzip compressed)\n   Data Size:    1612931 Bytes = 1.5 MiB\n   Load Address: 00000000\n   Entry Point:  00000000\n   Verifying Checksum ... OK\n## Flattened Device Tree blob at 80f00000\n</code></pre>"},{"location":"Notes/embedded-linux/diy-setup/#image-files","title":"Image files","text":"<pre><code>debian@beaglebone:~$ ls -laih /media/boot/\ntotal 24M\n  1 drwx------ 2 debian debian  16K Apr 23 20:21 .\n 18 drwxr-xr-x 3 root   root   4.0K Apr 23 20:20 ..\n183 -rw-r--r-- 1 debian debian  57K Apr 26  2023 am335x-boneblack.dtb # Device tree\n180 -rw-r--r-- 1 debian debian 106K Apr 25  2023 MLO                  # Secondary program loader ( SPL )\n184 -rw-r--r-- 1 debian debian 128K Jan  1  1980 uboot.env            # Uboot environment variables\n181 -rw-r--r-- 1 debian debian 872K Apr 25  2023 u-boot.img           # Uboot binary + header\n186 -rw-r--r-- 1 debian debian  14M Apr 26  2023 uRamdisk             # Root file system in ramdisk format\n182 -rw-r--r-- 1 debian debian 8.7M Apr 26  2023 zImage               # Compressed kernel image\n</code></pre>"},{"location":"Notes/embedded-linux/osd3358/","title":"Osd3358","text":""},{"location":"Notes/embedded-linux/osd3358/#osd3358-linux-setup","title":"OSD3358 Linux setup","text":"<pre><code>### Click board ####\n\n## Wi-Fi\n\n# Flash on Linux host\n\n# Build esp-open-sdk\ngit clone https://github.com/pfalcon/esp-open-sdk\nsudo apt-get install make unrar-free autoconf automake libtool gcc g++ gperf \\\n    flex bison texinfo gawk ncurses-dev libexpat-dev python-dev python python-serial \\\n    sed git unzip bash help2man wget bzip2\nsudo apt-get install libtool-bin\ncd esp-open-sdk\nmake\nexport PATH=\"/home/ton/projects/esp/esp-open-sdk/xtensa-lx106-elf/bin:$PATH\"\n\n# Build slip router\ncd ..\ngit clone https://github.com/martin-ger/esp_slip_router\ncd esp_slip_router\nmake\nmake flash\n\n# Flash on target board\nsudo apt-get install python-pip\npip install esptool\npip install pyserial\n\ncopy 0x00000.bin and 0x10000.bin to linux board\n\nsudo find / -name esptool.py\nsudo esptool.py --port /dev/ttyS0 write_flash -fs 4MB 0x00000 firmware/0x00000.bin 0x10000 firmware/0x10000.bin\n\n# Create access point\nsudo slattach -L -p slip -s 115200 /dev/ttyS0&amp;\nsudo ifconfig sl0 192.168.240.2 pointopoint 192.168.240.1 up mtu 1500\nsudo route add -net 192.168.4.0/24 gw 192.168.240.1\ntelnet 192.168.240.1 7777\nCMD&gt;set ap_ssid ESD8266 \nCMD&gt;set ap_password temppwd\nCMD&gt;set use_ap 1\nCMD&gt;save\nCMD&gt;reset\n\n# Check interface\nip a\n\n# Connect to ESD8266 access point from other device and SSH in\nssh debian@192.168.240.2\n\n\n\n\n## Accelerometer\nError [-9] : Configuration load error. It occurs when failure observed while loading the configuration into the sensor\n\n\n## GPS\nsudo apt-get install gpsd gpsd-clients\nsudo cat /dev/ttyS0\nsudo systemctl stop gpsd.socket\nsudo systemctl disable gpsd.socket\nsudo gpsd /dev/ttyS0 -F /var/run/gpsd.sock\n\n# Check output\nsudo gpsmon\nsudo cgps -s\n\n# Permission error\n```\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: device open of /dev/ttyS0 failed: Permission denied - retrying read-only\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: read-only device open of /dev/ttyS0 failed: Permission denied\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: device activation failed.\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: activation failed, freeing device\n```\n\n# Permission error fixed\nkill gpsd\nsudo usermod -a -G dialout gpsd\nsudo usermod -a -G tty gpsd\nsudo chmod a+rw /dev/ttyS0\nsudo chown root:dialout /dev/ttyS0\n\n####\nExpose Service to public ports and localhost\nvim /lib/systemd/system/gpsd.socket\nChange 127.0.0.1 to 0.0.0.0\n####\n\nsudo rm /var/run/gpsd.sock\nsudo gpsd /dev/ttyS1 -F /var/run/gpsd.sock\n\n# Works:\nsudo mv /dev/ttyS0 /dev/ttyS1\nsudo chmod 666 /dev/ttyS1\n\n\n\n# Link:\nhttps://maker.pro/raspberry-pi/tutorial/how-to-use-a-gps-receiver-with-raspberry-pi-4\n\n\n## Thermo 14\n# Links\nhttps://zoomadmin.com/HowToInstall/UbuntuPackage/python-setuptools\nhttps://wiki.analog.com/resources/tools-software/linux-software/libiio#building_on_the_linux_host_target\nhttps://stackoverflow.com/questions/48565894/using-the-iio-python-package\nhttps://github.com/STMicroelectronics/STMems_Standard_C_drivers/blob/master/stts22h_STdC/driver/stts22h_reg.c\nhttps://ez.analog.com/linux-software-drivers/f/q-a/87080/bitbake-recipe-for-libiio\nhttps://ez.analog.com/linux-software-drivers/f/q-a/97791/cross-compiling-libiio-for-beaglebone\nhttps://github.com/stm32duino/STTS22H\nhttps://www.st.com/resource/en/datasheet/stts22h.pdf\nhttps://github.com/BoschSensortec/BMI270-Sensor-API\n\n# Install libiio\nsudo apt-get install libxml2 libxml2-dev bison flex libcdk5-dev cmake\nsudo apt-get install libaio-dev libusb-1.0-0-dev libserialport-dev libxml2-dev libavahi-client-dev doxygen graphviz\ngit clone https://github.com/pcercuei/libini.git\ncd libini\nmkdir build &amp;&amp; cd build &amp;&amp; cmake ../ &amp;&amp; make &amp;&amp; sudo make install\ngit clone https://github.com/analogdevicesinc/libiio.git\n\ncd libiio/\ncmake ./\nmake all\nsudo make install\n\n# Install libiio python bindings\ncd libiio/bindings/python\nsudo apt-get install python3-setuptools\npython3 setup.py.cmakein install\nfinally create a python file and test import iio\n\n### Device tree ###\n\nsudo apt-get install device-tree-compiler\n\ngit clone https://github.com/RobertCNelson/dtb-rebuilder.git\ncd dtb-rebuilder\nmake\n\ngit clone https://github.com/octavosystems/OSD335x-Device-Tree/tree/v4.9-2\nmodify OSD3358-SM-RED/osd3358-bsm-refdesign.dts\n\ncopy osd3358-bsm-refdesign.dts to board dtb-rebuilder/src/arm\ncopy osd335x-sm.dtsi to board dtb-rebuilder/src/arm\n\n# Build all\nmake\n\n# Build one\nmake src/arm/osd3358-bsm-refdesign.dts\n\ncopy dtb-rebuilder/src/arm/osd3358-bsm-refdesign.dtb /boot/dtbs/&lt;kernel version&gt;/\n\n\n# Decompile device tree .dtb\ndtc -I dtb -O dts -o osd3358-bsm-refdesign.dts osd3358-bsm-refdesign.dtb\n\n\n# See ipconfig\nip a\n\n# Set tty permissions\nchmod o+rw /dev/ttyS0\n\n# Write to Click board header UART:\necho -ne '\\033[2J' &gt; /dev/ttyS0\necho -ne \"AT\\r\" &gt; /dev/ttyS0\n\n\n\n### I2C ###\n# List i2c devices\n/usr/sbin/i2cdetect -l\n\n# Probe i2c devices\n/usr/sbin/i2cdetect -r 0\n\n\n\n### Minicom ###\n# Minicom enable carriage return new lines\nCtrl + A -&gt; U\n\n# Minicom quit\nCtrl + A -&gt; X -&gt; Yes\n\n# Minicom enable echo\nCtrl + A -&gt; E\n\n# Minicom clear screen\nCtrl + A -&gt; C\n\n# ELS61 docs\nhttps://m2m.dk/wp-content/uploads/2019/12/ELS61-E-AT-Command-Set-V02.000-15.08.2018.pdf\n\n# Linux connection guide\nhttps://developer.gemalto.com/sites/default/files/ELS61%20Connection%20guide.pdf\n\n### Setup mobile interface ###\n1. Connect USB host -&gt; Click board USB client with a USB cable\n2. sudo minicom -o -D /dev/ttyACM1 -b 115200\n3. AT+CGDCONT=1,\"IP\",\"internet\"\n4. AT^SWWAN=1,1\n5. Exit with Ctrl + A -&gt; X -&gt; Yes\n6. sudo ping google.com\n7. ip a\n\n### LTE Click board ###\n# Connect with USB ( Windows )\nPutty -&gt; ComX -&gt; Baud 9600\n\n# Connect with UART\nsudo minicom -o -D /dev/ttyS0 -b 115200\n\n# Conn\n\n### At commands ###\n# Turn on extended errors\nAT+CMEE=2\n\n\n\n# Misc\n\nAT+COPS=2\nAT+COPS=0\n\nAT+CGATT=0\nAT+CGATT=1\n\nAT+CFUN=1,1\n\nAT^SWWAN=1,3\n\n\nAT+CEER=0\n\nAT+CGDCONT?\n\nAT+CGDCONT=1\n\n\nAT+CGDCONT=3\n\nRecommendations for LTE attachWhen using LTE auto attach, the application shall ensure that the correct APN is specified for &lt;cid&gt; 1 beforethe ME attaches to LTE. To do so, use the command AT+CGDCONT=1,&lt;PDP_type&gt;,&lt;APN&gt;. If the application cannot ensure that the correct APN is configured for &lt;cid&gt; 1 before the ME attempts to attach to LTE, the application shall set the correct APN with AT+CGDCONT, and then employ one of the following com-mand sequences: \u2022AT+COPS=2  and  AT+COPS=0  to  deregister  from  the  network  and  force  a  new  network  registration,  thus  enabling a new LTE auto attach attempt. If running, the T3402 timer will be stopped by AT+COPS=0. \u2022AT+CGATT=0  and  AT+CGATT=1  to  manually  trigger  a  detach  and  re-attach  attempt.  If  running,  the  T3402  timer will be stopped by AT+CGATT=0. \u2022AT+CFUN=1,1 to restart the ME (since the AT+CGDCONT setting is non-volatile).\n\n\nAT+CEER\n\nAT+CGDCONT=0,\"IP\",\"internet\"\nAT+CGDCONT=1,\"IP\",\"internet\"\nAT+CGDCONT=3,\"IP\",\"internet\"\n\nAT^SWWAN=1,0\nAT^SWWAN=1,1\nAT^SWWAN=1,3\n\n\nAT+COPS=1,1,\"Elisa\",7\n\nat+cpin=\"0000\"\n\nAT+CEER=0\n</code></pre>"},{"location":"Notes/embedded-linux/raspberry-pi/","title":"Raspberry pi","text":""},{"location":"Notes/embedded-linux/raspberry-pi/#raspberry-pi","title":"Raspberry pi","text":"<pre><code>### Setup SSH ###\n# Enable ssh service\n1. sudo raspi-config\n2. Interfacing Options\n3. SSH\n4. YES\n\n# Setup ssh keys\n1. ssh-keygen\n2. touch ~/.ssh/authorized_keys\n3. copy the key from id_rsa.pub to authorized_keys\n\n# Convert keys to be used on windows putty\nOpen puttygen -&gt; Conversions -&gt; Import key -&gt; type password\n-&gt; Save public key and Save private key\n\n# Disable password login from SSH to enable key login\n1. sudo nano /etc/ssh/sshd_config\n2. Uncomment and change to 'yes'\nPubkeyAuthentication yes\n3. Uncomment and change to 'no'\nPasswordAuthentication no\n4. sudo systemctl restart ssh\n\n### Change forgotten password ###\n1. Power down and take out the SD card\n2. Plug the SD card in to PC\n3. Edit 'cmdline.txt' file on the root of the SD card.\n4. Add to the end of the file:\n init=/bin/sh\n5. Put SD card back in to raspberry pi\n6. In the prompt, type:\n su\n7. Change the password using:\n passwd pi\n8. If error occurs, type the mount command and again passwd pi:\n mount -o remount, rw /\n# if error ( check cfdisk, lsblk etc.. the correct disk name):\n mount -o remount,rw /dev/sda2 /\n9. Shutdown and re-edit the cmdline.txt the way it was, re-connect SD card to raspberry pi\n\n\n#################################\n\n### Change keyboard layout ###\n# Change using raspi config\n1. sudo raspi-config\n2. Internationalisation Options\n3. Change keyboard layout\n4. Generic 104-key PC\n5. Other\n6. Finnish\n\n# Edit /etc/default/keyboard\nChange XKBLAYOUT=fi\n##############################\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/","title":"Yocto","text":""},{"location":"Notes/embedded-linux/yocto/#run-the-image-inside-a-emulator","title":"Run the image inside a emulator","text":"<pre><code>devtool build-image\nrunqemu beaglebone-yocto\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#edit-recipe-sources","title":"Edit recipe sources","text":"<pre><code>bitbake -c devshell &lt;recipe&gt;\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#add-new-local-recipe-to-sdk","title":"Add new local recipe to sdk","text":"<pre><code>devtool add hello-world /home/ton/beaglebone_os/hello_world\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#run-qemu-in-same-window","title":"Run qemu in same window","text":"<pre><code>runqemu beaglebone-yocto nographic\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#remove-packages-from-target","title":"Remove packages from target","text":"<pre><code>devtool undeploy-target htop root@192.168.7.4\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#remove-recipe-from-workdir","title":"Remove recipe from workdir","text":"<pre><code>ton@mx-5:~/beaglebone_os/sdk/iftop$ devtool reset iftop\nNOTE: Starting bitbake server...\nINFO: Cleaning sysroot for recipe iftop...\nINFO: Leaving source tree /home/ton/beaglebone_os/sdk/test_sdk_full/workspace/sources/iftop as-is; if you no longer need it then please delete it manually\nton@mx-5:~/beaglebone_os/sdk/iftop$\nsudo rm -r /home/ton/beaglebone_os/sdk/test_sdk_full/workspace/sources/iftop\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#debug-recipe-build-errors-in-sdk-workdir","title":"Debug recipe build errors in SDK workdir","text":"<pre><code>cd sdk_path/workspace/sources/bwm-ng\nC=arm-poky-linux-gnueabi ./configure --host=arm-poky-linux-gnueabi # or CC=..\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#publish-new-sdk-update","title":"Publish new SDK update","text":"<pre><code>oe-publish-sdk tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh ~/beaglebone_os/sdk/updated-sdk\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#update-sdk","title":"Update SDK","text":"<pre><code>devtool sdk-update URL\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#increase-rootfs-size","title":"Increase rootfs size","text":"<pre><code># Before\nroot@beaglebone-yocto:/# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/root       189M  169M  5.6M  97% /\n\n# Expand rootfs by 5GB in conf/local.conf\nIMAGE_ROOTFS_EXTRA_SPACE = \"5242880\"\n\n# After\nroot@beaglebone-yocto:~# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/root       6.5G  122M  6.0G   2% /\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#tests","title":"Tests","text":""},{"location":"Notes/embedded-linux/yocto/#enable-tests","title":"Enable tests","text":"<p>Add to conf/local.conf: <pre><code># Enable automated tests\nINHERIT += \"testimage\"\nTEST_SUITES = \"ping ssh df syslog scp vnc date dmesg example \" # note example-test case here\nBBPATH += \" ${TOPDIR}/../sources/meta-bbb/lib/oeqa/runtime/cases\"\n</code></pre></p>"},{"location":"Notes/embedded-linux/yocto/#autorun-tests","title":"Autorun tests","text":"<p>See: https://docs.yoctoproject.org/dev/dev-manual/runtime-testing.html#running-tests</p> <p>Edit local.conf and add line: <pre><code>TESTIMAGE_AUTO = \"1\"\n</code></pre></p> <p>Edit /etc/sudoers file, and add: <pre><code># Enable qemu wihout sudo\nton ALL = NOPASSWD: /home/ton/beaglebone_os/poky/scripts/runqemu-ifup\n</code></pre></p> <p>Configure tap interface: <pre><code>sudo /home/ton/beaglebone_os/poky/scripts/runqemu-gen-tapdevs 1000 1000 4 tmp/sysroots-components/x86_64/qemu-helper-native/usr/bin\n</code></pre></p> <p>Build qemu-helper package: <pre><code>bitbake qemu-helper-native\n</code></pre></p> <p>Install dependencies on host: <pre><code>sudo apt install sysstat iproute2\n</code></pre></p> <p>Run tests: <pre><code>bitbake core-image-full-cmdline -c testimage\n</code></pre></p>"},{"location":"Notes/embedded-linux/yocto/#add-custom-tests","title":"Add custom tests","text":"<p>Create a folder for test cases. Test cases has to be under &lt; layer &gt;/lib/oeqa/runtime/cases because they extend core's test cases <pre><code>mkdir -p ~/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases\n</code></pre></p> <p>Create empty init file <pre><code>touch ~/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases/__init__.py\n</code></pre></p> <p>Create test case. Has to be same name than the recipe itself <pre><code>touch ~/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases/example.py\n</code></pre></p> <p>Make sure that the custom layer is in conf/local.conf BBLAYERS field <pre><code>ton@mx-5:~/beaglebone_os$ grep -A 10 \"BBLAYERS ?=\" build/conf/bblayers.conf \nBBLAYERS ?= \" \\\n  /home/ton/beaglebone_os/poky/meta \\\n  /home/ton/beaglebone_os/poky/meta-poky \\\n  /home/ton/beaglebone_os/poky/meta-yocto-bsp \\\n  /home/ton/beaglebone_os/poky/meta-openembedded/meta-oe \\\n  /home/ton/beaglebone_os/sources/meta-bbb \\ \" # &lt;--\nton@mx-5:~/beaglebone_os$\n</code></pre></p> <p>Create a test recipe, which will create a few files <pre><code>ton@mx-5:~/beaglebone_os$ tree sources/meta-bbb/recipes-example/example/\nsources/meta-bbb/recipes-example/example/\n\u251c\u2500\u2500 example_0.1.bb\n\u2514\u2500\u2500 files\n    \u251c\u2500\u2500 example.cpp\n    \u2514\u2500\u2500 LICENSE\n\n1 directory, 3 files\nton@mx-5:~/beaglebone_os$\n</code></pre></p> <p>Example recipe: <pre><code>ton@mx-5:~/beaglebone_os/build$ cat /home/ton/beaglebone_os/sources/meta-bbb/recipes-example/example/example_0.1.bb \nSUMMARY = \"bitbake-layers recipe\"\nDESCRIPTION = \"Recipe created by bitbake-layers\"\nLICENSE = \"MIT\"\nLIC_FILES_CHKSUM = \"file://LICENSE;md5=d41d8cd98f00b204e9800998ecf8427e\"\n\nSRC_URI += \" file://example.cpp \"\n\nS = \"${WORKDIR}\"\n\nTARGET_CC_ARCH += \"${LDFLAGS}\"\n\ndo_compile() {\n    ${CXX} -Wall -g example.cpp -o example\n}\n\ndo_install() {\n    # Install example binary\n    install -d ${D}${bindir}\n    install -m 0755 ${S}/example ${D}${bindir}\n\n    # Install test file\n    install -d ${D}/etc\n    touch ${D}/etc/test.txt\n}\n\n\nFILES_${PN} += \"/etc/test.txt\"\nton@mx-5:~/beaglebone_os/build$\n</code></pre></p> <p>Example test case: <pre><code>ton@mx-5:~$ cat ~/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases/example.py \nfrom oeqa.runtime.case import OERuntimeTestCase\nfrom oeqa.core.decorator.depends import OETestDepends\n\nclass ExampleTest(OERuntimeTestCase):\n    def test_files_exists(self):\n        (status, output) = self.target.run(\"ls -lai /etc/test.txt\")\n        self.assertEqual(status, 0, msg=\"status and output: %s and %s\" % (status,output))\n\n        (status, output) = self.target.run(\"ls -lai /usr/bin/example\")\n        self.assertEqual(status, 0, msg=\"status and output: %s and %s\" % (status,output))\nton@mx-5:~$\n</code></pre></p> <p>Test results after running <pre><code>RESULTS:\nRESULTS - date.DateTest.test_date: PASSED (10.40s)\nRESULTS - df.DfTest.test_df: PASSED (1.12s)\nRESULTS - ping.PingTest.test_ping: PASSED (0.01s)\nRESULTS - scp.ScpTest.test_scp_file: PASSED (4.74s)\nRESULTS - ssh.SSHTest.test_ssh: PASSED (1.98s)\nRESULTS - example.ExampleTest.test_file_exists: PASSED (0.91s) # &lt;- Our test case\nSUMMARY:\ncore-image-full-cmdline () - Ran 6 tests in 19.166s\ncore-image-full-cmdline - OK - All required tests passed (successes=6, skipped=0, failures=0, errors=0)\nNOTE: Tasks Summary: Attempted 768 tasks of which 767 didn't need to be rerun and all succeeded.\nton@mx-5:~/beaglebone_os/build$\n</code></pre></p> <p>Intentionally breaking the test case results in a failed test run: <pre><code>ton@mx-5:~/beaglebone_os/build$ grep -inr \"usr/bin/\" /home/ton/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases/example.py\n9:        (status, output) = self.target.run(\"ls -lai /usr/bin/examle\") # Looking for file 'examle', instead of 'example'\nton@mx-5:~/beaglebone_os/build$\n</code></pre></p> <pre><code>Traceback (most recent call last):\n  File \"/home/ton/beaglebone_os/sources/meta-bbb/lib/oeqa/runtime/cases/example.py\", line 10, in test_files_exists\n    self.assertEqual(status, 0, msg=\"status and output: %s and %s\" % (status,output))\nAssertionError: 2 != 0 : status and output: 2 and ls: cannot access '/usr/bin/examle': No such file or directory\n\n...\n\nRESULTS - example.ExampleTest.test_files_exists: FAILED (1.76s)\nSUMMARY:\ncore-image-full-cmdline () - Ran 6 tests in 19.922s\ncore-image-full-cmdline - FAIL - Required tests failed (successes=5, skipped=0, failures=1, errors=0)\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#errors","title":"Errors","text":""},{"location":"Notes/embedded-linux/yocto/#fix-exit-code-137","title":"Fix 'Exit code 137'","text":"<pre><code># Yocto build error stops unexpectedly:\nyocto WARNING: exit code 137 from a shell command.\n\n# Running out of memory\nConfirm from dmesg\n\n# Reboot PC, buy more RAM\n</code></pre>"},{"location":"Notes/embedded-linux/yocto/#fix-note-reconnecting-to-bitbake-server-error","title":"Fix 'NOTE: Reconnecting to bitbake server' error","text":"<pre><code>rm bitbake.lock\n# or kill the other bitbake process\n</code></pre>"},{"location":"Notes/game-dev/blender/","title":"Blender","text":""},{"location":"Notes/game-dev/blender/#cursor-and-origin-dot","title":"Cursor and origin dot","text":"<pre><code># Move 3d cursor to the center\nShift + C\n\n# Move Object origin to the 3d cursor\nTop Left -&gt; Object button -&gt; Set origin -&gt; Origin to 3d cursor\n</code></pre>"},{"location":"Notes/game-dev/blender/#scaling","title":"Scaling","text":"<pre><code># Scale inwards/outwards only\nAlt + s\n\n# Scale skin modifier vertices\nAlt + a\n</code></pre>"},{"location":"Notes/game-dev/blender/#extruding","title":"Extruding","text":"<pre><code># Extrude to cursor and keep the alignment\n- Press numbad 1 to view from the from side\n- Move cursor to the desired position\n- Ctrl + mouse right click\n\n# Extrude multiple faces at once\nEdit mode -&gt; face mode -&gt; Select multiple faces ( hold shift )\nAlt + e -&gt; Extrude individual faces\n</code></pre>"},{"location":"Notes/game-dev/blender/#selecting","title":"Selecting","text":"<pre><code># Select whole parts individual from an object ( For example only leaves on a tree object )\nHover over the object part -&gt; Press 'L'\n\n# De-select\nHover over the object part -&gt; Shift + L\n\n# Select everything around the object ( For example every side of a square ) ( Loop select )\nHover over the object -&gt; Alt + left click\n\n# Select everything around the object to the other direction\nHover over the object near a edge -&gt; Alt + left click\n\n# Select faces by 'painting' over them\nHover over some faces -&gt; Press 'C' -&gt; Click mouse left-&gt; paint over other faces\n\n# De-select faces by 'painting' over them\nHover over some faces -&gt; Press mouse wheel -&gt; paint over other faces\n\n# Ring select ( select all of the edges around an object)\nAlt -&gt; Ctrl -&gt; left click an edge\n\n# Loop select ( select all edges up and downwards that are connected )\nAlt -&gt; Left click an edge\n\n# Select the shortest path to another edge\nEdge mode -&gt; Click an adge -&gt; Hold Ctrl and click another edge somewhere else\n\n# Lasso select\nCtrl + mouse right\n\n# Select more nearby faces with a button press\nSelect a face -&gt; Ctrl and + sign to grow selection, - to decrease selection ( numpad )\n\n# Select random\nGo to face mode for example -&gt; Ob the top click 'Select' button -&gt; select random\n\n# Select similar\nClick a face -&gt; Shift + G\n\n# Select faces pointing to the same direction ( good for example to add snow on top of things)\nClick a face -&gt; Shift + G -&gt; Normal -&gt; ( increase threshold at the bottom popup )\n\n# Select every other face\nFace mode -&gt; hover over an object and press L to select all -&gt; F3 -&gt; search for 'checker deselect' -&gt; press enter\n\n# Knife select\nPress 'K' -&gt; Knife out a shape and press enter\n</code></pre>"},{"location":"Notes/game-dev/blender/#misc","title":"Misc","text":"<pre><code># Duplicate an object\nClick object -&gt; Shift + D\n\n# Toggle X-ray\nAlt + Z\n\n# Hide an object\nPress 'H'\n\n# Unhide an object\nAlt + H\n\n# Set individual origin\nPress '.' (dot) -&gt; individual origin\n\n# Snap to center of a face\nHold down Ctrl\n\n# Create a low poly rock\nSubdivide ( Ctrl + 3 for example ) -&gt; Edit mode -&gt; Press 'O' -&gt; vertex mode -&gt; Move verteces around -&gt; Object mode -&gt; Add decimate modifier -&gt; Lower ratio\n\n# Flatten faces\nEdit -&gt; Preferences -&gt; Addons -&gt; Search loop tools -&gt; enable\nSelect multiple faces -&gt; F3 -&gt; Search for flatten\n\n# Select between normal and global orientation\nPress ',' ( comma )\n\n# Fill holes\nSelect whole object with 'L' -&gt; Press 'F'\n\n# Add edges\nSelect 2 vertices -&gt; Press 'J'\n\n# Triangulate a face\nSelect a Face -&gt; Ctrl + T\n\n# Remove edges from a face\nSelect multiple faces -&gt; Press 'X' -&gt; Dissolve edges\n\n# Bridge objects together\nSelect a face from each object -&gt; F3 -&gt; Bridge edge loops\n\n# Separate loose parts in to their own objects\nEdit mode -&gt; hover over the object -&gt; Press 'A' to select all -&gt; Press 'P' -&gt; By loose parts\n\n# Merge loose parts in to same object\nSlecet all objects -&gt; Ctrl + J\n\n# Enable auto mirroring\nObject mode -&gt; Edit -&gt; Preferences -&gt; Addons -&gt; auto mirror -&gt; enable\nPress 'N' -&gt; click AutoMirror in the popup top right\n\n# Create land shape fast\nAdd plane -&gt; Resize bigger -&gt; Ctrl + 5 -&gt; On the subdivide menu -&gt; Press Simple -&gt; Press Apply -&gt; Go to edit mode to see the effects\nTo add more subdivides -&gt; Object mode -&gt; Ctrl + 2 -&gt; On the subdivide menu -&gt; Press Simple -&gt; Press Apply -&gt; Go to edit mode to see the effects\nPress 'C' and select some faces -&gt; Press 'O' to enable proportional editing -&gt; Press 'S' to scale upwards\n\n# Flip selection ( Select everything that is not currently selected )\nCtrl + I\n\n# De-select eveything with a specific color on a color palette\nIn UV Editing window click douple arrow icon top right -&gt; Press 'B' -&gt; Shift box select the color that we want to de-select\n</code></pre>"},{"location":"Notes/game-dev/blender/#problem-fixing","title":"Problem fixing","text":"<pre><code># Merge all vertices on object\nPress 'A' to select all -&gt; Press 'M' -&gt; by distance\n\n# Flip faces\nAlt + N -&gt; Flip\n\n# Flip all faces on a object\nFace mode -&gt; Select all -&gt; Alt + N -&gt; Recalculate outside\n\n# Mis-aligned vertices\nTop middle tool bar -&gt; snap options -&gt; Vertex\nclick vertex -&gt; move on desired axis -&gt; Hold Ctrl -&gt; point to a vertex that is in right alignment\n\n# If scaling is messed up or inset is not uniformed ( to check press 'N' -&gt; Item -&gt; Scale: everything should be 1 )\nObject mode -&gt; Ctrl + A -&gt; Scale\n\n# Move objects to collection\nPress 'M' -&gt; create new or select existing onge\n</code></pre>"},{"location":"Notes/game-dev/houdini/","title":"Houdini","text":""},{"location":"Notes/game-dev/houdini/#editor","title":"Editor","text":"<pre><code># To set values back to 0 while hovering value field\nCtrl + Alt + Mouse middle\n\n# Automatically connect new node to last node\nShift + Enter\n\n# Toggle different view angles\nSpace + 2, Space + 3 etc..\n\n# Move while using curve tool\nSpace + Mouse middle + drag\n\n# Automatically set group name to object name\nAdd to group name: $OS\n</code></pre>"},{"location":"Notes/game-dev/servers/","title":"Servers","text":""},{"location":"Notes/game-dev/servers/#aws-gamelift","title":"AWS GameLift","text":"<pre><code># Setup server\n- Create file \"install.bat\" under: D:\\git\\feldewar\\Build\\Server\\Dev\\WindowsServer\n- Add contents to it:\nVC_redist.x64.exe /q\nEngine\\Extras\\Redist\\en-us\\UE4PrereqSetup_x64.exe /q\n- Download VC_redist.x64.exe and put it under the same folder as install.bat\n\n# Setup Aws user\n\n# Aws CLI commands\nC:\\Users\\tonik&gt;aws configure\nAWS Access Key ID [None]: ACCESS_KEY_ID_HERE\nAWS Secret Access Key [None]: SECRET_ACCESS_KEY_HERE\nDefault region name [None]: eu-west-1\nDefault output format [None]: json\n\nC:\\Users\\tonik&gt;aws gamelift create-game-session --endpoint-url http://localhost:9080 --maximum-player-session-count 2 --fleet-id fleet-123\n{\n    \"GameSession\": {\n        \"GameSessionId\": \"arn:aws:gamelift:local::gamesession/fleet-123/path-id-here\",\n        \"FleetId\": \"fleet-123\",\n        \"MaximumPlayerSessionCount\": 2,\n        \"Status\": \"ACTIVE\",\n        \"IpAddress\": \"127.0.0.1\",\n        \"DnsName\": \"localhost\",\n        \"Port\": 7779\n    }\n}\n\nC:\\Users\\tonik&gt;aws gamelift describe-game-sessions --endpoint-url http://localhost:9080 --fleet-id fleet-123\n{\n    \"GameSessions\": [\n        {\n            \"GameSessionId\": \"arn:aws:gamelift:local::gamesession/fleet-123/path-id-here\",\n            \"FleetId\": \"fleet-123\",\n            \"MaximumPlayerSessionCount\": 2,\n            \"Status\": \"ACTIVE\",\n            \"IpAddress\": \"127.0.0.1\",\n            \"DnsName\": \"localhost\",\n            \"Port\": 7779\n        }\n    ]\n}\n\nC:\\Users\\tonik&gt;aws gamelift upload-build --name feldewar --build-version 1.0.0 --build-root D:\\git\\feldewar\\Build\\Server\\Dev\\WindowsServer --operating-system WINDOWS_2012 --region eu-west-1\nUploading D:\\git\\feldewar\\Build\\Server\\Dev\\WindowsServer:  404.6 MiB / 404.6 MiB  (100.00%)Successfully uploaded D:\\git\\feldewar\\Build\\Server\\Dev\\WindowsServer to AWS GameLift\nBuild ID: build-id-here\n\n# Start local GameLift service\nC:\\Users\\tonik\\Downloads\\GameLiftLocal-1.0.5&gt;java -jar GameLiftLocal.jar -p 9080\n\n# Start local server\nfeldewarServer.exe -log -port=7779\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/","title":"Unreal engine","text":""},{"location":"Notes/game-dev/unreal-engine/#console","title":"Console","text":"<pre><code># Setup editor console\nEdit -&gt; Editor settings -&gt; Keyboard Shortcuts -&gt; search for 'console'\n-&gt; Set keybind for 'Open console command box' ( for example '\u00a7' )\n\n# Setup in game console\nEdit -&gt; Project settings -&gt; Input -&gt; Console -&gt; Set Console key ( for example '\u0e22\u0e07' )\n\n# Console settings\nEdit -&gt; Project settings -&gt; Console\n\n## Console commands:\n# Set fps to max 60\nt.maxFPS 60\n\n# Show fps\nstat FPS\n\n# Show triangle count\nstat RHI\n\n# Displays the amount of time in milliseconds used by the GPU for different processes. \nStat GPU\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#c","title":"C++","text":"<pre><code># UPROPERTY\n- Step 1: Determine blueprint accessibility\n  - BlueprintReadWrite: Blueprints can read and write the variable\n  - BlueprintReadOnly: Blueprints can only read the variable\n  - &lt;nothing&gt;: Can be left empty, new variables should always have at least empty UPROPERTY\n\n- Step 2: Determine editor accessibility\n  - EditAnywhere\n  - EditInstanceOnly\n  - EditDefaultsOnly\n  - VisibleAnywhere\n  - VisibleInstanceOnly\n  - VisibleDefaultsOnly\n  - &lt;nothing&gt;\n\n- Step 3: Determine category\n  - Add Category = \"_name_here_\"-parameter\n\n- Step 4:\n  - Meta = (AllowPrivateAccess = \"true\"): fix compiler error saying that \"VisibleAnywhere\" can't be a private variable\n\n# UFUNCTION\n- Step 1: Determine blueprint accessibility\n  - BlueprintCallable: Use for non const functions\n  - BlueprintPure: Use for const functions\n  - &lt;nothing&gt;: Can be left empty, new functions should always have at least empty UFUNCTION\n\n- Step 2: Determine implementation location\n  - BlueprintImplementableEvent: Can have function body only in blueprints\n  - BlueprintNativeEvent: Can have function body both in blueprints and c++\n\n- Step 3: Determine category\n  - Add Category = \"_name_here_\"-parameter\n\n\n# Note! If C++ -&gt; Blueprint functions act weird; restart UE4 and re-parent the object by opening the blueprint, change parent in details panel to the main parent and then back to base parent\n\n# When creating a new project, start with a blueprint project. Can be changed\nlater to C++ project.\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#world-partitioningstreaming","title":"World partitioning/streaming","text":"<pre><code># Setup world streaming\n1. World settings -&gt; World -&gt; Enable World Composition\n2. Window -&gt; Levels -&gt; Levels drop down -&gt; Create new -&gt; Empty level -&gt; Save -&gt; Select and mmake current\n3. Models landscape -&gt; Adjust SectionSize / Sections Per Component / Number of Components -&gt; Create\n4. In Levels view, click the \"Summons world composition\" button\n5. Move the level square next to the axis lines\n6. Right click the level -&gt; Add adjacent Landscape level -&gt; X/Y locations -&gt; Save\n7. ( Optional if streaming distance needs to be adjusted ) In world composition tool; \nclick the '+' button -&gt; Give a new name and adjust the streaming distance\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#editor","title":"Editor","text":"<pre><code># Open GPU Visualizer\nPress Ctrl + Shift + ,\n\n# Find items on the 3d view ( for example the player. )\nModes -&gt; Select -&gt; Player start -&gt; Press F key\n\n# Move object\nClick object -&gt; Press W\n\n# Rotate object\nClock object -&gt; Press E\n\n# Scale object\nClick object -&gt; Press R\n\n# Hide lines and stuff in the 3d viewer\nPress G\n\n# Snap object to ground\nClick object -&gt; Press End\n\n# Material editor freezes the editor\n- Uninstall incredibuild\n\n# Opening a project gets stuck at 39%\n- Just wait, it might take a while.\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#camera","title":"Camera","text":"<pre><code># Fix camera not moving up/down\nOpen Character blueprint ( or camera BP if separate)\nIn 'details' panel search for 'Use Pawn Control Rotation'\nCheck that box\n\n# Move faster in freelook mode\nHold Right mouse button down and scroll up to speed up, scroll down to slow down, while moving with arrow keys\n\n# Disable lens flare\n- PostProcessVolume -&gt; Post Process Volume Settings -&gt; enable 'unbound'\n- PostProcessVolume -&gt; Lens flare -&gt; Intensity 0\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#character-movement","title":"Character movement","text":"<pre><code># Make character move with keyboard keys and animate\n( Source: https://www.youtube.com/watch?v=DimZmTd5H44 )\n- File -&gt; New C++ Class -&gt; Create 'MainCharacterBase.cpp'\n- Create new blueprint to the project -&gt; Right click content browser -&gt; Blueprint class -&gt;\nSearch for MainCharacterBase\n- Name the blueprint as MainCharacter_BP\n- Edit MainCharacter_BP -&gt; Vuewport -&gt; Select Mesh -&gt; Add Skeletal mesh\n- Add component -&gt; Camera -&gt; Rename to Main_Camera\n- Adjust CapsuleComponent and Camera\n\n\n# Setup movement keys:\nEdit -&gt; Project Settings -&gt; Engine -&gt; Input -&gt; Bindings\n\nAction Mappings:\n- Jump\n  - Space Bar\n\nAxis Mappings:\n- Forward_Backward\n  - W: Scale 1\n  - S: Scale -1\n\n- Left_Right:\n  - A: Scale -1\n  - D: Scale 1\n\n- Rotate_Left_Right:\n  - Mouse X: Scale 1\n\n- Look_Up_Down\n  - Mouse Y: Scale -1\n\n- Edit 'MainCharacter_BP' -&gt; Event Graph:\nInputAxis Forward_Backward -&gt; Add Movement Input\nInputAxis Forward_Backward ( Axis value ) -&gt; Add Movement Input ( Scale value)\nGet Control Rotation -&gt; Get Forward Vector -&gt; Add movement Input ( World Direction )\n\nInputAxis Left_Right -&gt; Add Movement Input\nInputAxis InputAxis ( Axis value ) -&gt; Add Movement Input ( Scale value)\nGet Control Rotation -&gt; Get Right Vector -&gt; Add movement Input ( World Direction )\n\nInputAxis Rotate_Left_Right -&gt; Add Controller Yaw Input\nInputAxis Rotate_Left_Right ( Axis value ) -&gt; Add Controller Yaw Input ( Val )\n\nInputAxis Look_Up_Down -&gt; Add Controller Pitch Input\nInputAxis Look_Up_Down ( Axis value ) -&gt; Add Controller Pitch Input ( Val )\n\nInputAction Jump ( Pressed ) - &gt; Jump ( function )\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#animations","title":"Animations","text":"<pre><code># Setup animation\n- In content browser go to the Character mesh folder -&gt; Right click -&gt; Animation -&gt; Animation blueprint\n- Select Target Skeleton -&gt; Ok\n- Right click content browser in mesh folder -&gt; Animation -&gt; Blend 1D -&gt; Select skeletal mesh -&gt;\nName to for example 'Shaman_Walk_Idle' -&gt; Open it\n- From the bottom right corner in Asset browser, drag idle animation to the bottom middle view, to the\nleft most section, then drag walk animation to middle dot and run animation to the dot on the right\n- Drag green dot to see the animation blend\n- On the left 'Asset Details' -&gt; Horizontal -&gt; Add Name: Speed --&gt; Maximum Axis Value -&gt; 375\n- Edit 'Shaman_Animaton_BP' -&gt; Drag 'haman_Walk_Idle' animation to the node editor and connect it to 'Output Pose' -&gt; Save\n- Create new variable 'Speed' ( float) -&gt; Drag speed variable to the node editor and connect it to 'Shaman_Walk_Idle' ( Speed )\n- Edit 'Shaman_Animation_BP' -&gt; Event Graph:\n\nEvent Blueprint Update Animation -&gt; 'Is Valid' ( Is Valid ) -&gt; Set Speed\nTry Get Pawn Owner -&gt; 'Is Valid' ( Input Object)\nTry Get Pawn Owner -&gt; 'Get Velocity' -&gt; VectorLength -&gt; Set Speed ( Speed )\n\n- Edit 'MainCharacter_BP' -&gt; Mesh -&gt; Details ( Animation ) -&gt; Anim Class -&gt; 'Shaman_Animation_BP'\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#textures","title":"Textures","text":"<pre><code># How to scale a texture\n- Open material\n- Right click next to Texture Sample that is needed to be scaled up/down\n- Search for TextureCoordinates -&gt; select that node\n- Drag TextureCoordinates node to Texture Sample UVs section\n- Change UTiling and VTiling on the left details panel\n\n# How to scale a material texture dynamically\n# Note: This has a drawback with animated/moving objects; in cases where the \n#  object moves, it looks like the texture is 'swimming' on the surface, \n#  because it's fixed to the world location and object is moving.\n#  So in a nutshell; use only on static objects.\n- Open material\n- Right click next to Texture Sample that is needed to be scaled up/down\n- Search for 'World Aligned Texture' -&gt; select that node\n- Right click texture and select 'Convert to texture object'\n- Drag Texture object's node to 'World Aligned Texture's' 'TextureObject (T2d)' section\n- Drag 'World Aligned Texture's' 'XYZ Texture' output to Material's 'Base Color'\n- Repeat these same steps for Normal maps, Ambient maps, Roughness map's etc. Except change 'World Aligned Texture' to:\n  - 'World Aligned Normal'\n- Create new node 'VectorParameter' -&gt; Edit its configs and set texture RGB values to change scaling\n- Connect VectorParameter output to WorldAlignedTexture/Normal 'TextureSize(V3)' input\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#mesh","title":"Mesh","text":"<pre><code># Change ThirdPersonCharacter mesh\nhttps://www.youtube.com/watch?v=MzHw2y7vhLY\nhttps://www.youtube.com/watch?v=I-K4_ENh1Hs\nhttps://www.youtube.com/watch?v=0MFx1B0QpoM\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#environment","title":"Environment","text":"<pre><code># Paint grass\n( Source: https://www.youtube.com/watch?v=CkAlenO9q1Q )\n- Go to for example /Game/Environment folder\n- Right click content browser -&gt; Create Material -&gt; Open it\n- Search for 'landscape' in details panel -&gt; Drag 'LandscapeGrassOutput', 'LandscapeLayerBlend and\n'LandscapeLayerSample' to the editor view.\n- Click 'Layer Blend' and set 'Layer Name' to 'Grass' in the left details panel and 'Preview..' -&gt; 1\n- Select 'Sample None' -&gt; set parameter name 'Grass'\n- Drag landscape 'ground base' texture from content browser to the editor view\n- Connect texture sample to 'Layer Blend' and then to main 'Grass' object 'Base Color'\n- Connect 'Sample Grass' -&gt; Grass node\n- Right click content browser -&gt; Foliage -&gt; Landscape Grass Type -&gt; Open it\n- Add array -&gt; Assign Grass Mesh -&gt; Set Grass Density -&gt; Save\n- Open Grass material -&gt; Click the small Grass node -&gt; Set 'Grass type' parameter on the left\n- Click 'Apply'\n- World outliner -&gt; Select landscape object -&gt; Modes -&gt; Landscape -&gt; Paint -&gt; Select landscape object\nagain in the world outliner \n- On the left, select assign the Grass material to Target Layers -&gt; Save\n- Paint tool -&gt; Select target layers material -&gt; Paint to screen\n\n-- To add more different types of grass, edit 'Grass1' Landscape type -&gt; Add array -&gt; Assign another\nmaterial and set density\n\n# Remove gloss from ground on material, for example ground\n( Source: https://www.youtube.com/watch?v=oeD2xnlCUTY )\n- Open the material that needs to have glossiness removed\n- Drag away from 'Specular' section of the material\n- Search for 'Constant'\n- Leave value at 0\n- Save and apply\n\n# Place trees\n- Modes -&gt; Foliage -&gt; Drag some plant and tree meshes on the left\n- Adjust Size and density, for example 0.001 density for trees and 500 size\n- Start painting trees to the view\n\n# Add foliage collision\nOpen foliage tool\nAdd some mesh\nClick the mesh open and down in the settings set collision to for example 'blockAll'\nSave mesh ( the disk icon in the top right corner of the mesh in foliage tool )\nStart painting\n</code></pre>"},{"location":"Notes/game-dev/unreal-engine/#lod","title":"LOD","text":"<pre><code># Setup smooth transition between LODs\nFirst modify the base material ( for example M_Bark ), search for dithered lod, enable \"Dithered LOD1\"\nThen open the object material ( for example MI_Bark ) -&gt; Search for 'dithered LODTransition' -&gt; Tick both boxes\n</code></pre>"},{"location":"Projects/Electronics/led-display/","title":"LED panel","text":"<p>I have been working on this LED panel display for a while and here are some progress pictures.</p> <p>It's going to be a 97\" display with a crisp crisp resolution of 768x576. So it has about 400k LEDs currently ( 442k when finished ).</p> <p>Initially I was supposed to create a bit wider display, but turns out these bending panels are annoying to install and also the 2.5mm LED pitch does not have the best cost/LED ratio, so I might just leave it this size ( + missing panels from the corner )</p> <p>Also keep in mind that my camera sucks and the display's picture quality is a lot better than in these pictures and videos.</p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#preview","title":"Preview","text":"<p>It's like a moving painting </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#ordering-panels","title":"Ordering panels","text":"<p>Initial order. 24 LED panels, 4 power supplies and 4 receiver boards + cables </p> <p>Panel back side </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#testing-the-panels","title":"Testing the panels","text":"<p>Some initial testing with a few panels </p> <p>Bending LED panel </p> <p>Asynchronous at this point, so I can only send a bunch of files for it to display. </p> <p>Also I made an art</p> <p>Measure the cheap switching power supplies. Seems ok, some small few millivolt noise can be seen. Just wanted to quickly make sure that there's no crazy spikes. </p> <p>Test connecting multiple panels </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#testing-multiple-receiver-cards","title":"Testing multiple receiver cards","text":"<p>Receiver cards can be chained together with RJ45. There's 6 panels per receiver card </p> <p>Testing power consumption from the switching power supply's mains side. ( 30.4W ) </p> <p>Test chaining more panels/receivers  </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#installing","title":"Installing","text":"<p>Initially my idea was to build this structure that holds flat iron bars horizontally</p> <p>Getting parts for the fame </p> <p>Panels resting on flat iron bars  </p> <p>Something to attach the power supplies and receiver cards to  </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#updated-installing-plan","title":"Updated installing plan","text":"<p>I got lazy cutting building the frame for the original idea and I also had an idea to try and install the panels to this shelf rack that's been sitting here without actual shelves for about 2 years now. </p> <p>I thought I would install the power supplies to these boxes, but then decided not to because they are expensive and the ventilation is bad. </p> <p>So I just put the parts directly to the shelf's frame. That'll do for now. </p> <p>Wiring </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#test-hdmi","title":"Test HDMI","text":"<p>I got this video processor ( Colorlight X1 ) so that the panels would act as an actual display rather than as a billboard. </p> <p>Power on and test chaining the receiver cards </p> <p>Setup dual display </p> <p>More panels  </p> <p>Ran out of panels </p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#configuration","title":"Configuration","text":"<p>Without configuring the panels, they do not look too good with HDMI because it doesn't shut off the LEDs when the image has a \"black pixel\". I had to change this 'better gray' setting in Colorlight's iSet software and also adjust the GPU's settings to enable this 'YCbCr' option. </p> <p>With the initial configuration, you can see that the black parts look more like gray.</p> <p>After adjusting the settings, the black levels are better because the LED's are turned off</p> <p>Also when the receiver cards are shipped, they have a weird issue where the image is flickering so it's unwatchable. I had to revert the firmware to make the fix the flickering, here are some of my notes. The steps include running some random dropbox executables, which is a bit sketchy.</p> <p>Also while fixing the flickering, I used the LEDVISION software to upload my display configuration files to the receiver cards.</p> <pre><code># Download and install\nhttps://www.dropbox.com/s/gkbvenvsp9r5yqi/LEDUpgrade%20SetUp_4.0.28531.exe\n\n# Didn't need this, but it was instructed to download, so saving the link here\nhttps://www.dropbox.com/s/pynyci8rbcz031q/5A%2011.04.fw\n\n# Net settings\nOpen LEDUpgrade as admin\nSetting -&gt; NIC Setting\nSelect correct interface\nSelect it again from the window below\nGo back and restart LEDUpgrade\nClick Detect Receiver Cards\nReceiver should show up\nDowngrade firmware only if Receiver Version is &gt; 11.x\nTick Index\nClick Upgrade Firmware.. -&gt; Preset Firmware -&gt; normal -&gt; normal-11.09 -&gt; Ok\nWait until the downgrade is done\nPower cycle the board for 10sec\nClick 'Detect Receiver Cards' again and verify that the version is 11.x\nClose LEDUpgrade\n</code></pre> <p>Some other notes <pre><code># Upload configuration\nOpen LEDVision\nControl -&gt; LED Screen Settings -&gt; Password is 168\nSelect Net Card tab -&gt; Use Net Card -&gt; Select correct controller\nClick 'Detect Receiver Cards'\nClick 'Receiver Parameters' tab\nClick 'Load' and browser the .rcvbp file\nClick 'Save to Receivers'\nClose LEDVision\n</code></pre></p> <p>Calculating what would be the best LED amount per $ spent. Unfortunately I did this only after ordering the first batch of 2.5mm pitch panels. <pre><code>## Best LED/$ ratio\n## = P1.86\n## = 524.53 LED/$\n\n# P1.66\n323.46 LED/$\n\n# P1.86\n524.53 LED/$\n\n# P2\n500 LED/$\n\n# P2.5\n413.73 LED/$\n\n# P3.076\n321.90 LED/$\n\n# P4\n266.66 LED/$\n\n# P5\n222.60 LED/$\n</code></pre></p> <pre><code># Measuring the size of the display\nd = distance from corner to corner diagonally\nw = width\nh = height\n\nd = \u221a(w\u00b2 + h\u00b2)\n\ne.g.\n\u221a(2560mm\u00b2 + 960mm\u00b2)\n= 2734.08mm\n= 2734.08 * 0.03937\n= 107.64\"\n\n\u221a(2560mm\u00b2 + 1440mm\u00b2)\n= 2937.20\n= 2937.20 * 0.03937\n= 115.63\"\n\n\u221a(1920mm\u00b2 + 1440mm\u00b2)\n= 2400.00\n= 2400.00 * 0.03937\n= 94.48\"\n\nhttps://www.omnicalculator.com/math/diagonal-of-rectangle\n</code></pre> <p>Calculating some prices for different size displays. This was before I found out that the 1.86mm pitch panels has way better \u20ac to pixel ratio. So calculating the price for these resolutions would be cheaper with those. Also non bending panels are a few $ cheaper per panel. <pre><code># Module definition\n1 'module' = 2 * 3 panels, 2 wide, 3 height\n\n# Module size\nWidth per one 'module'   = 320mm * 2 = 640mm ( 256 pixel )\nHeight per one 'module'  = 160mm * 3 = 480mm ( 192 pixel )\n\n# Module price\n1 'module' price ~250\u20ac\n\n# Display sizes\n2x2 = 1280mm x 960mm  =  512 x 384 resolution = 1000\u20ac\n4x2 = 2560mm x 960mm  = 1024 x 384 resolution = 2000\u20ac\n4x3 = 2560mm x 1440mm = 1024 x 576 resolution = 3000\u20ac\n\n# HD display 1280p x 720p:\n4x4 = 3200mm x 1920mm = 1024 x 768 resolution = 4000\u20ac\n\n# Diablo2 original max resolution:\n2.5x2.3 = 1600mm x 1104mm = 640 x 512 = 1437\u20ac\n\n# Diablo2 expansion max resolution:\n3x3 = 1920mm x 1440mm = 768 x 576 = 2250\n</code></pre></p>","tags":["Electronics"]},{"location":"Projects/Electronics/led-display/#summary","title":"Summary","text":"<p>It's becoming too pricey adventure so I think I'll just order the missing corner panels and leave it like that. The thing cost me about 1800\u20ac including shipping so far.</p> <p>Maybe wait for the technology to advance and \u20ac per pixel cost to drop and build and bigger display with better resolution and straight panels, instead of these bending ones.</p> <p>Here's some WoW lofi beats</p> <p>Credits to: https://www.youtube.com/watch?v=Lg21MW4_suQ</p>","tags":["Electronics"]},{"location":"Projects/Electronics/osd3358-linux/","title":"OSD3358 Linux","text":"<p>This is a project I made some time ago.</p> <p> Board rev. v1. </p> <p>Almost finished board straight out of a reflow oven. USB host port and Click board-header connectors still  missing, will hand solder them later on. </p> <p>Board was developed from scratch following Octavo Systems reference design.  Multiple components were not available for ordering so it was not possible to just download their  board design files and order the boards and components.</p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-specs","title":"Board specs","text":"<ul> <li>Octavo Systems SiP ( System In Package OSD3358 ) containing:</li> <li>TI AM335x ARM Cortex-A8 1GHz</li> <li>512MB DDR3 Main memory</li> <li>TPS65217 Power management IC</li> <li>TL5209 Low-dropout voltage regulator</li> <li>100+ passive components</li> <li>64GB eMMC ( AM335x supporting only 32GB at the moment )</li> <li>SD card slot</li> <li>USB-A host port</li> <li>Micro-USB client port</li> <li>Some buttons and LEDs</li> <li>BeagleBone Debian 10.03 ( with modified u-boot to be able to boot it on the custom board. )</li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#after-reflow-soldering-under-a-magnifying-glass","title":"After reflow soldering, under a magnifying glass","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-preview-in-eagle","title":"Board preview in EAGLE","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-layout-in-eagle","title":"Board layout in EAGLE","text":"<ul> <li>4 layer board</li> <li>3V3 and GND layers hidden.</li> <li>RED = top signal layer</li> <li>BLUE = bottom signal layer. </li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-manufacturing-process","title":"Board manufacturing process","text":"<p>Ordering process was easy from https://jlcpcb.com/. They have this detailed process log. </p> <p>You can also view videos of each step of the process which was interesting. </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#bottom-side-of-the-board","title":"Bottom side of the board","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#top-side-of-the-board-without-components","title":"Top side of the board without components","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-taped-down-to-hold-it-in-place","title":"Board taped down to hold it in place","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#board-stencil","title":"Board stencil","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#about-to-spread-some-solder-paste","title":"About to spread some solder paste","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#spreading-the-solder-paste-on-to-the-board","title":"Spreading the solder paste on to the board","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#solder-paste-spread-on-to-the-board","title":"Solder paste spread on to the board","text":"<p>Picture taken through a magnifying glass. </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#some-of-the-components-used-in-the-board","title":"Some of the components used in the board","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#all-the-components-placed-before-reflowing","title":"All the components placed, before reflowing","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#reflowing-the-board","title":"Reflowing the board","text":"<p>Custom reflow controller board controlling 4 x 230V infrared heating elements through a 3v DC -&gt; 230V AC SSR ( Solid State Relay ). Temperature is read through a K-type thermocouple connected to MAX31855 thermocouple-to-digital IC. </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#testing-reflow-oven-temperature-plot","title":"Testing reflow oven temperature plot","text":"<ul> <li>ORANGE line = target temperature</li> <li>BLUE line = actual temperature. </li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#debugging-linux-not-booting-up-issue","title":"Debugging linux not booting up issue","text":"<p>U-boot not recognizing the board ID because the EEPROM is empty. I had to skip the EEPROM board ID check on u-boot and re-build it. </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#building-u-boot-and-linux-kernel-in-the-middle-of-the-night","title":"Building u-boot and linux kernel in the middle of the night","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#linux-booting-up-for-the-first-time","title":"Linux booting up for the first time","text":"","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux/#links","title":"Links","text":"<ul> <li>https://jlcpcb.com/</li> <li>https://www.digikey.com/</li> <li>https://octavosystems.com/</li> <li>https://octavosystems.com/app_notes/osd335x-design-tutorial/</li> <li>https://octavosystems.com/app_notes/osd335x-eeprom-during-boot/#_Toc382081428</li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/","title":"OSD3358 Linux and Click boards","text":"<p>I haven't touched my custom Linux board project in a while  ( https://protoni.fi/Projects/Electronics/osd3358-linux/ ) so I thought that it was about time to start actually doing something with it. </p> <p>I ordered a bunch of these prototyping/development boards from MikroElektronika  ( https://www.mikroe.com/ )  called \"Click boards\" and started messing around with them.</p> <p>A lot of configuring and figuring out was required so here are some notes on that.</p> <p>Click boards </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#ethernet","title":"Ethernet","text":"<p>Not a Click board, but the first issue I had was that I couldn't really move files over to the Linux  system and command line editors didn't work all that well over UART.</p> <p>I only had access to the board through USB client or UART pin  as a COM port using Putty so I bought this ~9\u20ac USB -&gt; Ethernet adapter to solve this issue.  It just works out of the box. Just needed to plug it in, figure out the IP address of the Linux board and SSH in to it.</p> <p>Ethernet adapter </p> <p>Internet connection works</p> <p>The RJ45 adapter is also great because the beaglebone Linux has a package management system so I can just install whatever I need using apt-get now that I have internet connection working. </p> <p>Getting the IP</p> <p>There is no ifconfig on beaglebone linux, apparently it only has a ip a command. ( IP highlighted in yellow ) </p> <p>SSH in to the device <pre><code># Open Putty\n\nHost name:\ndebian@192.168.1.60\n\nPort: \n22\n</code></pre></p> <p>Connecting ethernet cable straight to host</p> <p>I have a router where my computer and the Linux board is connected so I didn't have to set any IP settings on the host machine. But here are some notes on that as well.</p> <p>Get the IP</p> <p></p> <p>Configure the IP and connect <pre><code>- Connect the cable to the host machine\n- Win + R -&gt; ncpa.cpl\n- Right click the TP Link adapter -&gt; Properties -&gt; Internet Protocol Version 4 (TCP/IPv4)\n-&gt; Properties -&gt; General -&gt; Use the following IP address:\n-- IP address:      192.168.6.5\n-- Subnet mask:     255.255.255.0\n-- Default gateway: 192.168.6.0\n</code></pre></p> <p>Not sure why, but I had to reboot the Linux board first to make the settings work. I also had to ping from the Linux device to my host machine first to make the ping work the other way too. Not sure if this is due to some Windows firewall settings or what.</p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#lte-modem","title":"LTE modem","text":"<p>The LTE modem Click board that I have is this one: * https://www.mikroe.com/lte-cat1-eu-click-for-europe</p> <p>It has an Cinterion ELS61 modem chip in it. Docs: * https://m2m.dk/wp-content/uploads/2019/12/ELS61-E-AT-Command-Set-V02.000-15.08.2018.pdf</p> <p>I had a lot of issues with getting a mobile interface on linux setup with the modem and in the end I didn't get it to work through the UART pins that are in the Click board headers. It probably requires some drivers to actually work.</p> <p>Instead I connected a micro USB cable from the Linux board's USB host port to the Click board's USB client port.</p> <p>USB connected to modem </p> <p>Setting up the mobile interface</p> <p>I spent quite a while hopelessly searching the net to solve the issues that I had with the modem internet connection setup. The modem itself worked right away. I got a pre-paid SIM card from the nearest kiosk just before it closed at 10pm  so I got to test the modem right away. I tested the modem by calling from it to my own cell phone.</p> <p>The first port on Linux board that I tested was /dev/ttyACM0. The minicom connection seemed to open and all of the AT commands seemed to work except AT^SWWAN that is supposed to open the internet connection.</p> <p>Minicom modem connection works </p> <p>By default, it just gave an error called \"Error\", but after digging around I was able to set an extended error mode on, which can be set on with this command: <pre><code>AT+CMEE=2\n</code></pre></p> <p>Errors can be queried with this: <pre><code>AT+CEER\n</code></pre></p> <p>After setting the extended settings mode I was getting 2 types of errors: <pre><code>CME ERROR: 100\n</code></pre> And the other one was: <pre><code>+CME ERROR: operation not allowed\n</code></pre></p> <p>Never solved those issues, I just happened to test the /dev/ttyACM1 after battling with this for a while and it worked!</p> <p>Setup mobile interface</p> <p>The internet parameter is the APN of the operator. <pre><code>1. Connect USB host -&gt; Click board USB client with a USB cable\n2. sudo minicom -o -D /dev/ttyACM1 -b 115200\n3. AT+CGDCONT=1,\"IP\",\"internet\"\n4. AT^SWWAN=1,1\n5. Exit with Ctrl + A -&gt; X -&gt; Yes\n6. sudo ping google.com\n7. ip a\n</code></pre></p> <p>The mobile connection works </p> <p>Mobile interface </p> <p>Before I decided to test the USB, I spent hours on trying to make the UART route work. I found only 2 other people on some forums who seemed to have a similar error. Last posts to those threads were from years ago and no responses after that.. frustrating. I guess they gave up too.</p> <p>These were some of the errors I got: <pre><code>PDP context deactivation\n</code></pre> <pre><code>Last PDN disconnection not allowed\n</code></pre> <pre><code>Unknown error\n</code></pre></p> <p>After I had spent the whole night trying to solve these errors I happened to get it to work with the /dev/ttyACM1 way explained earlier.</p> <p>Some minicom notes <pre><code>### Minicom ###\n# Minicom enable carriage return new lines\nCtrl + A -&gt; U\n\n# Minicom quit\nCtrl + A -&gt; X -&gt; Yes\n\n# Minicom enable echo\nCtrl + E\n\n# Minicom clear screen\nCtrl + A -&gt; C\n</code></pre></p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#temperature","title":"Temperature","text":"<p>The temperature Click board that I got is this one: * https://www.mikroe.com/thermo-14-click.</p> <p>It has an STTS22H temperature sensor IC in it.</p> <p>The first problem was that the Beaglebone Linux that I'm running on the board currently didn't have I2C1 bus, that I have routed to the Click board headers. It had to be configured in the device tree and that was an whole nother journey. I'll probably do a separate post for the device tree tuning.</p> <p>After getting the I2C1 bus working, it was possible to get access to the temperature sensor.</p> <p>List i2c buses <pre><code>debian@arm:~$ /usr/sbin/i2cdetect -l\ni2c-1   i2c             OMAP I2C adapter                        I2C adapter\ni2c-2   i2c             OMAP I2C adapter                        I2C adapter\ni2c-0   i2c             OMAP I2C adapter                        I2C adapter\n</code></pre></p> <p>Probe i2c1 bus</p> <p>Here we can see that the temperature sensor 0x3f is detected. \"--\" means that no devices were found. \"UU\" can also be found sometimes, it means that it is an reserved address. </p> <p>Reading temperature values</p> <p>I found a python program for some other I2C temperature sensor online, so I modified it to be able to read the temperature from the STTS22H as well. <pre><code>import time\nimport smbus\n\n# I2C channel\ni2c_ch = 1\n\n# STTS22H address on the I2C bus\ni2c_address = 0x3f\n\n# Register addresses\nreg_temp_l = 0x06 # Low temperature bytes\nreg_temp_h = 0x07 # High temperature bytes\nreg_config = 0x04 # Control settings register\n\n# Control register settings\nctrl_reg = 0xAA\n\n# Read temperature registers and calculate Celsius\ndef read_temp():\n\n    # Read temperature registers\n    val_l = bus.read_i2c_block_data(i2c_address, reg_temp_l, 1)\n    val_h = bus.read_i2c_block_data(i2c_address, reg_temp_h, 1)\n\n    # Combine high and low registers\n    temperature = (val_h[0] &lt;&lt; 8) | val_l[0]\n\n    # Convert to celcius\n    return temperature / 100.0\n\n# Initialize I2C\nbus = smbus.SMBus(i2c_ch)\n\n# Print old control register value\nval = bus.read_i2c_block_data(i2c_address, reg_config, 1)\nprint(\"Old control register value:\", val)\n\n# Set configs\nval[0] = ctrl_reg\nbus.write_i2c_block_data(i2c_address, reg_config, val)\n\n# Print new control register value\nval = bus.read_i2c_block_data(i2c_address, reg_config, 1)\nprint(\"New control register value:\", val)\n\n# Print temperature value in a loop\nwhile True:\n    print(\"Current temperature: \" + str(read_temp()), \"C\")\n    time.sleep(1)\n</code></pre></p> <p>Running the script </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#gps","title":"GPS","text":"<p>The Click board that I got for GPS location reading is this one: * https://www.mikroe.com/gps-4-click</p> <p>It contains a Quectel L70 GPS chip and it can be communicated with trough UART.</p> <p>Setting up gpsd <pre><code>sudo apt-get install gpsd gpsd-clients\n</code></pre></p> <p>Output GPS data to see that the chip works</p> <p>At this point some data should already be seen in the terminal if the device works and correct tty port is used. <pre><code>sudo cat /dev/ttyS0\n</code></pre></p> <p>Disable gpsd that uses the default settings <pre><code>sudo systemctl stop gpsd.socket\nsudo systemctl disable gpsd.socket\n</code></pre></p> <p>Set permissions and user groups for gpsd <pre><code>sudo usermod -a -G dialout gpsd\nsudo chown root:dialout /dev/ttyS0\n</code></pre></p> <p>I keep getting these errors still <pre><code>Oct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: device open of /dev/ttyS0 failed: Permission denied - retrying read-only\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: SER: read-only device open of /dev/ttyS0 failed: Permission denied\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: device activation failed.\nOct 22 14:36:12 arm gpsd[1329]: gpsd:ERROR: /dev/ttyS0: activation failed, freeing device\n</code></pre></p> <p>A hacky fix to make it actually work. Fix later. <pre><code>sudo mv /dev/ttyS0 /dev/ttyS1\nsudo chmod 666 /dev/ttyS1\n</code></pre></p> <p>Start the daemon <pre><code>sudo rm /var/run/gpsd.sock\nsudo gpsd /dev/ttyS1 -F /var/run/gpsd.sock\n</code></pre></p> <p>GPS monitoring tools <pre><code>sudo gpsmon\nsudo cgps -s\n</code></pre></p> <p>gpsmon</p> <p>I don't have a GPS antenna, so gps can't see any satellites ( Quality and Sats field ) </p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#wifi","title":"Wifi","text":"<p>Not a Click board, but I remembered that I bought this wifi module some years ago and decided to test it as well: * https://components101.com/development-boards/nodemcu-esp8266-pinout-features-and-datasheet</p> <p>It has an ESP-12E module containing a ESP8266 chip which includes a  Tensilica Xtensa 32-bit LX106 RISC microprocessor. NodeMCU has 128 KB RAM and 4MB of Flash memory.</p> <p>Connected via UART pins </p> <p>Flashing the firmware</p> <p>I found this \"slip router\" project from github which allows me to setup a Linux interface to communicate with the Wifi chip. * https://github.com/martin-ger/esp_slip_router</p> <p>I went on and started setting up the ESP SDK so that I could build the slip router. Later on I realized that the github repo has the pre built binaries already. But now that I have the SDK setup, I can for example change the UART baud rate and so on.</p> <p>Setup ESP SDK <pre><code>git clone https://github.com/pfalcon/esp-open-sdk\nsudo apt-get install make unrar-free autoconf automake libtool gcc g++ gperf \\\n    flex bison texinfo gawk ncurses-dev libexpat-dev python-dev python python-serial \\\n    sed git unzip bash help2man wget bzip2\nsudo apt-get install libtool-bin\ncd esp-open-sdk\nmake\nexport PATH=\"/PATH_TO_ESP_PROJECT/esp-open-sdk/xtensa-lx106-elf/bin:$PATH\"\n</code></pre></p> <p>Build the slip router and flash the firmware</p> <pre><code>cd ..\ngit clone https://github.com/martin-ger/esp_slip_router\ncd esp_slip_router\nmake\nmake flash\n</code></pre> <p>Setting up the wifi interface <pre><code>sudo slattach -L -p slip -s 115200 /dev/ttyS0&amp;\nsudo ifconfig sl0 192.168.240.2 pointopoint 192.168.240.1 up mtu 1500\nsudo route add -net 192.168.4.0/24 gw 192.168.240.1\ntelnet 192.168.240.1 7777\nCMD&gt;set ap_ssid ESP8266 \nCMD&gt;set ap_password temppwd\nCMD&gt;set use_ap 1\nCMD&gt;save\nCMD&gt;reset\n</code></pre></p> <p>The \"slip\" interface on Linux </p> <p>Testing SSH with termux on Android, it works !</p> <p>I enabled wifi on my phone, the ESP8266 access point showed up and I was able to connect to it. </p> <p>I also tried to flash the firmware on the target Linux board <pre><code>termios.error: (25, 'Inappropriate ioctl for device')\n</code></pre></p> <p>Not sure if this is even supposed to be possible, but here's the command I tried <pre><code>sudo esptool.py --port /dev/ttyS0 write_flash -fs 4MB 0x00000 firmware/0x00000.bin 0x10000 firmware/0x10000.bin\n</code></pre></p> <p>It failed. And I'm not sure if it's just an coincidence or did it break something, but now when I try to for example update the board with apt-get, it gives me this error \ud83d\ude33 <pre><code>Reading package lists... Error!\nE: lzma_read: Read error (10)\nW: You may want to run apt-get update to correct these problems\nE: The package cache file is corrupted\n</code></pre></p> <p>Quick google search suggested that it is caused by some python serial module mismatch and to resolve, I should install: <pre><code>sudo apt-get install python-serial\n</code></pre></p> <p>This is where I noticed the lzma_read error above. Need to investigate more.</p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#accelerometer-and-gyroscope","title":"Accelerometer and Gyroscope","text":"<p>!NOT DONE YET!</p> <p>Couldn't get the accelerometer working yet. I'll update this post if and when I can see some progress with this.</p> <p>I was able to build this driver for the chip: * https://github.com/BoschSensortec/BMI270-Sensor-API</p> <p>Initialization results in error</p> <p>The driver is able to at least read some I2C registers before failing to  this configuration loading check with this error: <pre><code>Error -9 : Configuration loading error\n</code></pre></p> <p>If solving this begings to take too long, I'll probably test the driver with SPI bus. For that I need to modify the device tree again and add the SPI to it.</p>","tags":["electronics"]},{"location":"Projects/Electronics/osd3358-linux-and-click-boards/#can","title":"CAN","text":"<p>!NOT DONE YET!</p> <p>The AM335x processor already has 2 CAN buses, but they are not currently routed to anywhere on the board.</p> <p>This is the CAN board: * https://www.mikroe.com/mcp25625-click</p>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/","title":"Phone Extension","text":"","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#links","title":"Links","text":"<ul> <li>Github:<ul> <li>https://github.com/protoni/phone-extension</li> </ul> </li> <li>STM32F1 MCU<ul> <li>https://mm.digikey.com/Volume0/opasdata/d220001/medias/docus/1139/STM32F103x8,B.pdf</li> </ul> </li> <li>INA226 Bi-Directional Current and Power Monitor with I2C Compatible Interface<ul> <li>https://www.ti.com/lit/ds/symlink/ina226.pdf?ts=1697789639510&amp;ref_url=https%253A%252F%252Fwww.google.com%252F</li> </ul> </li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#what-is-this","title":"What is this?","text":"<p>This is an old project that I had abandoned close to 3 years ago now. I salvaged backups and old designs/what's left of them from a cloud drive and decided to add them to github and also write this page to remind myself to continue working on this. </p> <p>Maybe it gets some attention at some point since it's easier to look at it here.</p>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#original-design","title":"Original design","text":"<p>I had done this android -&gt; arduino test project some time ago before I started designing the custom PCB:</p> <p>https://github.com/protoni/android-usb</p> <p>If I remember correctly the STM32F1 USB connection was supposed to work similar to arduino or maybe arduino has that same MCU, but anyway the idea was to do something similar with this project.</p> <p>Also at some point I was hoping to add bluetooth connection or some other remote connection and a battery for the hardware addon. That way you could connect the device to some data source and not have to be standing right next to it with a USB cable connected to the phone.</p> <p>Below are some original design notes. Untouched since, except changing some formatting. Also nothing is tested or properly reviewed at this point.</p> <pre><code># Create a circuit board that ables a smart phone to control and read various\n# input/output sources through a USB.\n\n\n# Smart phone should be able to read at least these signal source:\n- CAN\n- SPI\n- I2C\n- UART\n\n\n# Smart phone should be able to control these outputs:\n- Digital outputs\n- Analog outputs\n- PWM output\n\n\n# Maybe??:\n- Current measurement:\n  - Current sensor\n- Voltage + current measurement:\n  - INA226 ( Expensive on JLCPCB ) *I2C\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#some-pictures-of-schematics","title":"Some pictures of schematics","text":"","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#investigations","title":"Investigations","text":"<p>Here's some investigations/thoughts and brainstorming on the design details</p>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#mcu","title":"MCU","text":"<pre><code># Which MCU?\nSTM32F1 seems to have a lot of features built in, like:\n- 72 MHz maximum frequency\n- USB 2.0 full speed\n- 2x I2C\n- 3x USART\n- 2x SPI\n- 1x CAN\n- 3x 16bit timers\n- 1x 16bit motor control PWM timer\n- 2x 12bit A/D converters\n- 80 I/Os ( 16 external interrupts )\n\n# MCU Power pin decoupling\n- Decoupling capacitors must be placed as close as possible to the \n  microcontroller supply pins (VDD)\n- In addition, each power supply pair should be decoupled with filtering\n  ceramic capacitors C (100 nF) and a chemical capacitor C of about 10 \u03bcF\n  connected in parallel on the STM32F10xxx device\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#power-supply","title":"Power supply","text":"<pre><code># Which power supply?\n- VDD = 3.3V ( MCU power supply pin )\n- Need to drop USB 5V -&gt; 3.3V for the MCU\n- Linear, LDO, or switching regulator?\n  - A linear regulator typically requires a minimum of 3 volts difference between\n    the input and output voltages.  Low dropout regulators generally require less\n    than 1V differential\n- switching regulators are very noisy.\n- If the output current is over a few amps, the switcher is almost always the\n  first choice, primarily because of its efficiency, which is related to power\n  savings and thermal dissipation. Below a few hundred milliwatts, the LDO is\n  often the better choice, because its inefficiency relative to the switcher is\n  often negligible\n- STM32F1 VDD total current: max 150mA\n- Conclusions: Use LDO. Which one?\n  - Needs atleast 150mA output\n  - Check capacitor requirements\n  - Doesn't need to have adjustable output voltage.'\n  - Use for example: XC6206P332MR\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#oscillator","title":"Oscillator","text":"<pre><code># Internal or external oscillator?\n- Accurate frequency and frequency stability are reasons to use a \n  external ceramic resonator or crystal.\n- A crystal is much more accurate, and necessary if you are doing some other \n  types of communication like CAN, USB, or ethernet\n- Internal clocks are not precise, can be affected by noise\n- Conclusion: Use external crystal. Which one?\n  - STM32F1 needs 4MHz - 16MHz crystal, typical: 8MHz\n  - Use for example: X50328MSB2GI\n\n\n# Count load capacitor values for the crystal:\n- CL = (C1 * C2) / (C1 + C2) + Cstray\n- Cstray: Every trace an part on the PCB\n  will affect the stray capacitance.\n- A good guesstimate for stray capacitance is 2 - 5 pF.\n- Load capacitance: X50328MSB2GI specifies a 20 pF load capacitance.\n- Conclusions: Loading capacitors:\n  - C1, C2 = 2*CL \u2013 2*Cstray\n  - C1, C2 = 2 x 20pF - 2 x 5pF\n  - C1, C2 = 30pF\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#dac","title":"DAC","text":"<pre><code># Digital to analog\n- Digital potentiometer or DAC?\n  - DACs are higher resolution\n- STM32F1 doesn't have a digital to analog converter ( DAC )'\n- Conclusions: Use external DAC, which one?\n  - 1MCP4725 *I2C ( DAC ) ( Expensive on JLCPCB )\n  - AD5160 *SPI ( Digi pot ) ( Expensive on JLCPCB )\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#pcb","title":"PCB","text":"<pre><code># Board assembly\n- In JLCPCB \"Basic Part\" Cost no extra \u20ac\u20ac.\n- In JLCPCB \"Extended Part\" column means that they will have to change the\n  component on the Pick and Place machine so it will cost an extra 3\u20ac to place\n  that component into the board.\n- Do not place AD5160\n- Do not place INA226\n- Set INA226 Shunt resistor as 0805 or bigger\n- Set INA226 I2C address selection resistors 0805 or bigger\n- Set SN65HVD230 Rs pin pull down resistor 0805 or bigger\n\n# PCB layout\n- LSF010 symbol missing. Make one for example based on LM4810 symbol.\n</code></pre> <pre><code># Over voltage protection for UART, SPI, I2C, CAN buses\n- Externally connected BUSes can have higher than 3.3V voltage, so possibly higher\n  voltage needs to be translated to 3.3V. Voltage divider on high speed BUSes can\n  cause problems.\n- TVS or Zener diode?\n- ESD protection IC. USBLC6-2\n- BUS transceiver. 74LS245\n- Voltage level translator. TXB0108 ( includes 15kV ESD protection )\n  - 10K OE pulldown resistor?\n  - 0.1uF caps to VCCA, VCCB\n  - i2c doesn't work well with TXB0108, because pull-up resistors mess-up the'\n    direction sensing\n  - Use LSF010 as a voltage level translator for I2C? Needs ESD protection\n- Use switch to select between VrefB ( output voltage ) of TXB0108 and LSF010.\n- SN65HVD230 CAN transceiver\n- TXB0104 for SPI\n- TXB0102 for UART\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#can","title":"CAN","text":"<pre><code># CAN Transceiver SN65HVD230\n- Vref pin can be connected to the common mode point of a split termination to\n  help further stabilize the common mode voltage of the bus. If the Vref pin is\n  not used, it may be left floating.\n- RS pin: Has 3 modes:\n  - To enable high speed mode, connect RS to ground\n    ( High speed mode enables the transimmter output transistors to switch on and\n    off as fast as possible with no limitations on the rise and fall slopes )\n  - To adjust rise and fall slopes, connect a resistor in serias between RS and\n    ground ( The slope will be proportional to the pin's output current. With a'\n    resistor value of 10 kOhm, the device will have a slew rate of ~15 V/us, and\n    with a resistor value of 100 kOhm, the device will have a slew rate of ~2 V/\n    us.)\n- Configure MCU output pins as push-pull\n\n\n# CAN filtering\n- Electromagnetic interference emitted from an Electronic Control Module ( ECU )\n  through the CAN transceiver can be filtered, thus limiting unwanted\n  high-frequancy noise on the communication bus.\n\n\n# CAN filtering ( Termination )\n- The split termination technique uses two resistors that are equal to one half\n  the cable's characteristic impedance (typically 60\u03a9 each), with a capacitor'\n  placed between the common-mode point and ground (typically between 1-100nF).\n- Split termination improves the electromagnetic emissions behavior of the network\n  by eliminating fluctuations in the bus common mode voltages at the start and end\n  of message transmissions.\n- A typical value of CL for a high-speed CAN is 4.7 nF, which generates a 3-dB point at 1.1 Mbps.\n\n\n# CAN filtering ( common mode choke )\n- A common mode choke is an electrical filter that blocks high frequency noise\n  common to two or more data or power lines while allowing the desired DC or\n  low-frequency signal to pass\n- Common-mode chokes are frequently used in automotive CAN networks to increase\n  system reliability with respect to electromagnetic compatibility ( EMC)\n- Another reason for using a common-mode choke is attempting to improve the\n  susceptivility ( immunity ) of the transceiver to electromagnetic disturbances\n  on the bus. \n- Common mode choke: DLW32SH510XK2L\n\n\n# CAN filtering ( TVS diode )\n- Transient voltage suppressor ( TVS ) are very commonly used and can help clamp\n  the amount of energy that reaches the transceiver.\n- Transient voltage suppressors are the preferred protection components for CAN\n  bus applications due to their low capacitance, fast response times and high\n  peak power dissipation limits.\n- The quick response times in the order of a few picoseconds enable these devices\n  to clamp the energy of very fast transients like ESD and EFT.\n- TVS diodes: NUP2105L\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#spi-and-uart","title":"SPI and UART","text":"<pre><code># TXB0104 and TXB0102 ( SPI and UART )\n- MCU should drive OE pin down before switching from 3.3V to 5V and vise versa.\n- When OE pin is driven down, sleep for a bit before switching from 5V to 3.3V\n  to allow the capacitor to discharge.\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#current-measurement","title":"Current measurement","text":"<pre><code># INA226\n- Use for example: ERJ-B1CFR10U as a shunt resistor\n- Or CSR1206FTR100\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/phone-extension/#usb","title":"USB","text":"<pre><code># USB\n- To be compliant with the USB 2.0 full-speed electrical specification,\nthe USBDP (D+) pin should be pulled up with a 1.5 kOhm resistor to a 3.0-to-3.6 V\nvoltage range\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/","title":"STM32 Breakout Board","text":"","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#description","title":"Description","text":"<p>I have been working on this breakout board for STM32F103 MCU to ease up the pain of getting back into this other older project of mine that uses the same chip. https://protoni.fi/Projects/Electronics/phone-extension/</p> <p>Maybe designing the board in pieces might be a good idea here and also if  this breakout board works well, it's good for prototyping other projects and also testing stuff.</p> <p>One might ask, why not use ready made breakout board, but where is the fun in that? Anyway, I have ordered the PCB and parts and waiting for them to arrive so I decided to post these progress pictures. Very likely that issues arise and changes have to be made.</p>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#links","title":"Links","text":"<ul> <li>Github:<ul> <li>https://github.com/protoni/stm32-template</li> </ul> </li> </ul>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#board","title":"Board","text":"","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#schematics","title":"Schematics","text":"","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#board-layout","title":"Board layout","text":"","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#3d-images","title":"3d images","text":"<p>Kinda annoyed about the huge JTAG connector on the right there. It's for SWD anyway, but all I have is this J-Link programmer, which supports SWD. Could've also used an adapter but they get lost and are annoying to use as well. </p> <p>Also the GPIO headers are expensive, so I need to change those as well in future revisions.  </p>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#design","title":"Design","text":"","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#mcu","title":"MCU","text":"<pre><code># Part num.\nSTM32F103R8T6\n\n- Extended part in JLCPCB\n- R8 = medium-density device\n- Specs: \n  64 KB Flash\n  20 KB RAM\n  3 \u00d7 USARTs\n  3 \u00d7 16-bit timers\n  2 \u00d7 SPIs, 2 \u00d7 I2Cs, USB,\n  CAN, 1 \u00d7 PWM timer\n  2 \u00d7 ADC\n- VDDA: Analog power supply voltage\n  - GZ2012D101TF Bead for filtering\n    - 0.15 Ohm DCR\n    - 800mA Max current\n    - 100 Ohm impedance @ 100MHz\n  - Or MPZ1608S101ATAH0:\n    - 0.03 Ohm DCR\n    - 3A Max current\n    - 100 Ohm impedance @ 100MHz\n- Reset pin has internal pull-up resistor\n- Boot: AN2606\n  - Pull low to program normally with SWD\n  - Pull high using a jumper to progarm using internal ROM bootloader and UART\n- User LEDs\n  - PC4\n  - PC5\n- User Buttons\n  - PB0\n  - PB1\n  - Add hardware debouncer with 1u cap and 10k resistor\n- Status LED\n  - PC3\n- No connect:\n  - PD2\n  - PC6\n  - PC7\n  - PC8\n  - PC13 - PC15:\n    - PC13, PC14 and PC15 are supplied through the power switch and\n      since the switch only sinks a limited amount of current\n      (3 mA), the use of GPIOs PC13 to PC15 is restricted: only one I/O\n      at a time can be used as an output, the speed has to be\n      limited to 2 MHz with a maximum load of 30 pF and these I/Os must\n      not be used as a current source (e.g. to drive an LED).\n  - Enable internal pull-up on unconnected pins\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#crystal","title":"Crystal","text":"<pre><code># Part num.\nABLS-8.000MHZ-B4-T\n\n# MCU OSC_IN input capacitance\n5pF\n\n# Calculate external capacitance\nCrystal load capacitance      ( C_L )   = 18pF\nParasitic capacitance         ( C_P )   = ~4pF\nMCU osc pin input capacitance ( C_IN )  = 5pF\nExternal capacitance          ( C_EXT ) = ?\n\nC_EXT = C_L + C_P + C_IN\nC_EXT = 18pF + 4pF + 5pF\nC_EXT = 27pF\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#leds","title":"LEDs","text":"<pre><code># Part num.\nB1911USD-20D000114U1930\n\n# Color\nRed\n\n# Calculate current limiting resistor for LEDs\nPower supply    ( V )  = 3.3V\nForward voltage ( Vf ) = 2V\nCurrent draw    ( I )  = 5mA\nResistor value  ( R )  = ?\n\n# Voltage across the resistor ( Vr ):\nVr = V - Vf\nVr = 3.3V - 2V\nVr = 1.3V\n\n# Resistor value:\nR = Vr/I\nR = 1.3V / 0.005 A\nR = 260 Ohm\n\n# Calculate power dissipation\nP = I2 * R\nP = (0.005A)2 * 260 Ohm\nP = 0.0065 W\nP = 6.5 mW\n\n# Resistor \nRC0603FR-13270RL = 270 Ohm / 0.1W\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#regulator","title":"Regulator","text":"<pre><code># Part num.\nAMS1117-3.3\n\n- 5V -&gt; 3.3V\n- Needs 22uF tantalum capacitor for output filtering, if adjustment\n  terminal is bypassed.\n- Add 100n ceramic cap for output since they react faster to quick\n  transient load\n- Add 10uF tantalum cap for input\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#usb","title":"USB","text":"<pre><code># USB\n\n- Micro USB-B\n- Connect shield straight to GND with vias\n- Resettable fuse for VBUS\n  - for example SMD0805B035TF\n    - 0.10sec trip time\n    - hold current is a little bit over the needed value ( 330mA ),\n      but it's a lot cheaper than fuses with lower value'\n- Add ESD protection diodes for USB D+/D- ( for example IP4234CZ6 )\n  - Add back drive protection diode to VCC to avoid short circuit on the\n    data lines when VBUS is down\n    - Use Schottky diode for fast reverse voltage blocking\n    - For example BAT54-7-F\n      - Low 800mV forward voltage drop @ 100mA\n      - Low 2uA reverse leakage current\n      - Average rectified output current 200mA ( 600mA peak )\n      - Can handle reverse voltage up to 30V\n      - Low power dissipation 200mW\n    - This might be better: NSR0530HT1G\n      - Lower 370mV forward voltage drop @ 100mA\n      - Lower 1.4uA reverse current\n      - Higher 500mA average rectified output current\n      - Power dissipation 160mW/250mW depending on mounting\n- D+ line needs 1.5k Ohm pull-up resistor to 3.3V to act as a USB device, rather\n  than USB host. The chip doesn't support host mode either, so there's no internal\n  pull-up. One way is to pull it straight to 3.3V, but then the USB enumeration\n  wont work on soft restarts ( when flashing firmware ) and the USB cable needs\n  to be unplugged and plugged back in.\n  - Another way is to control the pull-up resistor with a MCU pin controlled\n    transistor.\n    - Use for example BSS84AK pFET\n    - Use PD2 pin to drive the FET\n- Data lines impedance matching\n  - Target: 90 Ohm\n  - Trace width: 0.134mm\n  - Trace spacing: 0.25mm\n  - Trace thickness: 1.38mm ( 1oz )\n  - Substrate height: 1.4650mm\n    - Got it from JLCPCB's impdence calculator:'\n    - https://jlcpcb.com/pcb-impedance-calculator/\n  - Dielectric constant: 4.5\n  - Calculator: https://www.pcbway.com/pcb_prototype/impedance_calculator.html\n  - MCU's USB driver has automatic impedance matching so no need for 22 ohm'\n   series resistors:\n    - In peripheral mode, the VBUS power is always provided through the cable. The\n      USB FS impedance driver is always managed internally to avoid the need to\n      add external serial resistors on the data line path\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#flashing","title":"Flashing","text":"<pre><code># Flashing\n- Use 20 pin header with 2.54mm pitch for SEGGER j-link\n  - VTref  -&gt; VCC / 3.3V\n  - GND    -&gt; GND\n  - TMS    -&gt; SWDIO  (Serial Wire debug Data Input/Output)\n  - TCK    -&gt; SWDCLK (Serial Wire Clock)\n  - TDO    -&gt; SWO    (Serial Wire trace Output)\n  - nRESET -&gt; nRESET\n  - leave rest of the pins unconnected\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#todo","title":"TODO","text":"<pre><code># TODO\n- Change GPIO header connector, current one is expensive\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#pcb","title":"PCB","text":"<pre><code># PCB\n- 0.25mm signal trace\n- 0.5mm power trace\n- 0.2mm signal/power trace clearance\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#bom","title":"BOM","text":"<pre><code># Parts\n\n# Part num.               # Package   # Value   # Info           # Type\nTMCP0J106MTRF             0805        10uF      6.3V             Tantalum cap.\n- C1\n\nTL8W9226M010C             0805        22uF      10V              Tantalum cap.\n- C2\n\nVJ0805A270GXQCW1BC        0805        27pF      10V              Ceramic cap.\n- C17, C18\n\nKGM15AR70J104KM           0603        0.1uF     6.3V             Ceramic cap.\n- C3, C7, C9, C11, C13, C15, C19, C21\n\nCL10B105KQ8NNNC           0603        1uF       6.3V             Ceramic cap.\n- C4, C16, C20\n\nCL10A106MQ8NNNC           0603        10uF      6.3V             Ceramic cap.\n- C5, C6, C8, C10, C12, C14\n\nB1911USD-20D000114U1930   0603        RED       Vf 2V            LED\n- D1, D2, D3, D4\n\nNSR0530HT1G               SOD-323                                Schottky\n- D5\n\nRC0603FR-13270RL          0603        270Ohm    0.1W             Resistor\n- R1, R5, R6, R9\n\nSMD0805B035TF             0805        350mA     6V               Resettable Fuse\n- F1\n\nMPZ1608S101ATAH0          0603        100R      0.03 Ohm DCR/3A  Ferrite bead\n- FB1, FB2\n\nRMCF0603FT10K0            0603        10k       0.1W             Resistor\n- R2, R4, R7, R8\n\nWR06X1501FTL              0603        1k5       0.1W             Resistor\n- R10\n\nPTS636 SL43 SMTR LFS                  2Pin                       Button\n- SW1, SW2, SW3    \n\nUJ2-MIBH-G-SMT-TR                                                Micro USB-B\n- J1\n\nGPHC204-1002A001R1BF                  2x10      2.544mm female   Connector\n- J4\n\nNPPC102KFMS-RC                        2x10Pin   2.54mm pitch     Connector\n- J3, J5\n\nPHDD-SS004G1ABOGE-B005                2x2       2.544mm male     Connector\n- J7\n\nAMS1117-3.3              SOT-223      3.3V                       Regulator\n- U1\n\nSTM32F103R8T6                                                    MCU\n- U2\n\nIP4234CZ6               SOT-457                                  TVS DIODE \n- U3\n\nABLS-8.000MHZ-B4-T      HC-49/US      8MHz      CL 18pF          Crystal\n- Y1\n\nBSS84AK,215             SOT-23        VGSth -1.1 - -2.1V         pFET   \n- Q1\n</code></pre>","tags":["electronics"]},{"location":"Projects/Electronics/stm32-breakout-board/#summary","title":"Summary","text":"<p>That's all, hopefully they work once I receive the parts and build the first proto board.</p>","tags":["electronics"]},{"location":"Projects/Graphics/custom-graphics-renderer/","title":"Custom Graphics Renderer","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#description","title":"Description","text":"<p>Here is some progress pictures from a graphics renderer project that I was working on a year ago while learning graphics programming. I was mainly focused on OpenGL, but the idea was to write a general graphics/game engine and add a Vulkan API support for it too.</p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#testing-mesh-repeater-settings","title":"Testing mesh repeater settings","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#testing-instancing-copying-all-vertex-data-to-gpu-and-drawing-only-once","title":"Testing instancing ( copying all vertex data to GPU and drawing only once )","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#mesh-pointer","title":"Mesh pointer","text":"<p>The grid can be navigated by moving around the pointer with keyboard. </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#modifying-individual-mesh-properties-in-a-mesh-grid","title":"Modifying individual mesh properties in a mesh grid","text":"<p>The idea here was that each mesh, or an object would have this 'repeater' setting built in, so that they could be copied to all directions, add padding, rotating and scaling them individually just changing the configs.  </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#multi-select","title":"Multi select","text":"<p>Meshes can be multi-selected in the 'repeater' grid, and adjusting the transformations all at once.  </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#materials","title":"Materials","text":"<p>Testing materials  </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#textures","title":"Textures","text":"<p>Testing texture loading. </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#models","title":"Models","text":"<p>Testing 3D model loading  </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#lighting","title":"Lighting","text":"<p>Implemented the Phong lighting model, which consists of different components; ambient, specular and diffuse lighting. These are all calculated in the fragment shader.</p> <p>Here are different types of lights:</p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#directional-lights-diffuse","title":"Directional lights ( diffuse )","text":"<p>Ambient light is also present, otherwise the unlit side of the boxes would be completely black and the texture would not show up. </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#specular-maps","title":"Specular maps","text":"<p>This adds the 'metal' effect to the texture </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#pointlight-fadeout","title":"Pointlight fadeout","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#spotlight","title":"Spotlight","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#multiple-different-lights","title":"Multiple different lights","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#multiple-point-lights","title":"Multiple point lights","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#physics","title":"Physics","text":"<p>Testing the 'Bullet' real-time physics simulation engine  </p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#terrain","title":"Terrain","text":"<p>Testing terrain generation with berlin noise</p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#somethings-not-right","title":"Something's not right","text":"","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#refactoring","title":"Refactoring","text":"<p>At this point the test code base structure was getting a bit out of hand and I decided to start designing a little bit how it would work better. I was thinking that the renderer would work as an 'engine' library, separately from the game or other use case. I also moved to a ECS ( Entity Component System ) based system, which optimizes the CPU cache for handling the data. I also started to think about how to abstract the graphics API so that Vulkan API could be added later on to the engine.</p>","tags":["graphics"]},{"location":"Projects/Graphics/custom-graphics-renderer/#some-terrain-and-cubes-from-the-new-engine-library-added-to-the-scene","title":"Some terrain and cubes from the new 'engine' library added to the scene","text":"","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/","title":"OpenGL experiments","text":"<p>I was doing this OpenGL course on Udemy a while ago and here is the progress so far.</p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#got-a-window-open","title":"Got a window open.","text":"<p>Had to setup first:</p> <ul> <li>Microsoft Visual Studio 2019</li> <li>GLEW ( OpenGL Extension Wrangler )</li> <li>GLFW ( OpenGL FrameWork )</li> <li>Code to init GLEW and GLFW</li> </ul> <p></p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#got-a-triangle-to-the-screen","title":"Got a triangle to the screen \ud83d\ude00","text":"","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#triangle-moving","title":"Triangle moving","text":"","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#interpolate","title":"Interpolate","text":"<p>Triangle got some color and a z axis. The image looks a bit weird on this one.</p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#camera","title":"Camera","text":"<p>Camera, keyboard and mouse control added.</p> <p></p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#texture","title":"Texture","text":"<p>Texture loading done using stb_image.h loader. Also forgot to mention earlier that I'm using math library called glm.</p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#lighting","title":"Lighting","text":"<p>Got some lights going on. - Directional lights - Ambient lighting - Diffuse lighting - Specular lighting - Point lights</p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#spotlight-following-a-camera","title":"Spotlight following a camera.","text":"","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#model-importing","title":"Model importing","text":"<p>Random models from https://free3d.com</p> <p>Orgrimmar from World of Warcraft</p>","tags":["graphics"]},{"location":"Projects/Graphics/opengl-experiments/#links","title":"Links","text":"<ul> <li>https://www.udemy.com/course/graphics-with-modern-opengl/</li> <li>https://free3d.com</li> </ul>","tags":["graphics"]},{"location":"Projects/Graphics/vulkan-experiments/","title":"Vulkan experiments","text":"","tags":["graphics"]},{"location":"Projects/Graphics/vulkan-experiments/#description","title":"Description","text":"<p>I have been following this Udemy course on Vulkan API and managed to get something to the screen finally after about 11 hours worth of lessons. </p> <p>A triangle: </p> <p>It's a pretty low level graphics API, the triangle required around 1.2k lines of code + headers. </p> <p>Vulkan is very verbose and alot of code is required to set it up initially. Big portion of the code is just  filling structure types with a bunch of settings for the Vulkan. </p> <p>I also got into learning OpenGL a while back and for reference the amount of code required to draw a triangle to the screen was around 170 lines.</p> <p>This is still pretty interesting, will see how long can this hold my interest.</p>","tags":["graphics"]},{"location":"Projects/Graphics/vulkan-experiments/#links","title":"Links","text":"<ul> <li>https://www.udemy.com/course/learn-the-vulkan-api-with-cpp/</li> </ul>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/","title":"Exporting models from World of Warcraft","text":"<p>It's pretty easy to export models from WoW classic or retail version using this WoW Export -tool.  There is also another tool for this called Wow Model Viewer, but I haven't used it much.</p> <p> Building model imported to Blender</p>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#setup-wow-exporter","title":"Setup wow exporter","text":"<ol> <li>Go to https://wow.tools/export/</li> <li>Download the exporter tool</li> <li>Extract the zip file</li> <li>Open the folder and run wow.exporter.exe</li> <li>Slecet Local Installation. Select _classic_ or _retail_ from BattleNet installation folder</li> <li>Click Settings icon in the top right corner.</li> <li>Set your Export Directory and Apply</li> <li>Click the Blender icon in the top right corner.</li> <li>Click Install Automatically</li> <li>Click Go back</li> <li>Search for example trollhotel.wmo. The model has a preview next to it which supports zooming and moving the object.</li> <li>Select all the Doodads on the right</li> <li>Click Export as OBJ </li> </ol>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#import-model-to-blender","title":"Import model to Blender","text":"<ol> <li>File -&gt; Import -&gt; Wavefront (.obj)</li> <li>Browse to your model export directory</li> <li>Select for example the troll_hotel01.obj and ** Import OBJ**</li> <li>To view textures, click Viewport Shading button in the top right corner. ( Round icon ) </li> </ol>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#import-model-to-unity","title":"Import model to Unity","text":"<p>Textures need to be embedded to the model and I found that it is best done using blender 1. Create a new 3D Unity Project 2. Open Blender and click File -&gt; export -&gt; FBX (.fbx) 3. From Path Mode section on the right, select copy and select the box next to it  4. Navigate to Unity project folder/Assets. Create new folder, for example WoW, name the model file and click Export FBX 5. In Unity, from Project window, open Assets/wow/ 6. Select trollhotel model. 7. From the Inspector window on the right, Select Materials.     * Material Creation Mode : Standard     * sRGB Albedo Colors     : Selected     * Location               : Use Embedded Materials 8. Click Extract Textures.. 9. Select the Assets/wow/ folder. 10. Drag the trollhotel** model to the viewport 11. Model is now imported and textures should work. </p>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#import-model-to-godot-1","title":"Import model to Godot #1","text":"<ol> <li>Create a new Godot project</li> <li>From Blender, click File -&gt; Export -&gt; Collada(default)(.dae)</li> <li>Browse to Godot folder, create folder Assets, name the model to trollhotel.dae and click Export COLLADA</li> <li>Open Godot</li> <li>Create a Scene: Scene -&gt; 3D Scene</li> <li>Go to FileSystem and drag the trollhotel.dae to the viewport</li> </ol> <p>For me this method created a weird glossy effect for the whole object in Godot. Didn't really spend too much time trying to fix it. I found out that there is another way to import objects from Blender to Godot, see Import model to Godot #2. </p>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#import-model-to-godot-2","title":"Import model to Godot #2","text":"<ol> <li>Install Godot Blender Exporter: https://github.com/godotengine/godot-blender-exporter</li> <li>Copy the io_scene_godot -directory the location where Blender stores the scripts/addons folder on your system  (you should see other io_scene_* folders there from other addons). Copy the entire dir and not just its contents.</li> <li>Go to the Blender settings Edit -&gt; Preferences -&gt; Add-ons and enable the Godot Engine Exporter plugin.</li> <li>Export your file with File -&gt; Export -&gt; Godot Engine (.escn)</li> <li>Note that the exported files needs to be saved to Godot project folder</li> </ol> <p> Model compared to the Import model to Godot #1 method. Lighting seems to be turned way up in the godot engine exporter one, but the gloss effect is gone.</p>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#custom-opengl-renderer","title":"Custom OpenGL renderer","text":"<p>Got the model also working in my custom OpenGL renderer. All the doodads ( decorations and such ) are also loading properly. Transparent objects needs some work still as you can see they have a black background. See my OpenGL experiments post </p>","tags":["graphics"]},{"location":"Projects/Graphics/wow-model-export/#links","title":"Links","text":"<ul> <li>https://wow.tools/export/</li> <li>https://www.blender.org/</li> <li>https://unity.com/</li> <li>https://www.blender.org/</li> <li>https://wowmodelviewer.net/new/</li> <li>https://www.youtube.com/watch?v=ybcq2C93i2k</li> <li>https://github.com/godotengine/godot-blender-exporter</li> </ul>","tags":["graphics"]},{"location":"Projects/Linux/beaglebone_yocto/","title":"Yocto Linux for BeagleBone","text":"","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#description","title":"Description","text":"<p>Build and setup Yocto Kirkstone Linux image for BeagleBone</p>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#build","title":"Build","text":"<pre><code># Install dependencies\nsudo apt-get install bc build-essential chrpath diffstat gawk git libncurses5-dev pkg-config socat subversion texi2html texinfo u-boot-tools liblz4-tool\n\n# Clone yocto repo\ngit clone -b kirkstone https://git.yoctoproject.org/git/poky\n\n# Source build env\nsource poky/oe-init-build-env\n\n# Build minimal image\nMACHINE=\"beaglebone-yocto\" bitbake core-image-full-cmdline\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#boot-up","title":"Boot up","text":"<pre><code># Setup sd card\n1. make sure that sd card is empty\n2. lsblk\n  sdc           8:32   1    58G  0 disk\n3. if not, sudo cfdisk /dev/sdc -&gt; delete all partitions and write\n4. eject the sd card and connect back in, check that the card is empty\n\n# Flash image to beaglebone\ncd tmp/deploy/images/beaglebone-yocto\nsudo dd if=core-image-full-cmdline-beaglebone-yocto.wic of=/dev/sdc bs=4M\n\n# Bootup linux\nEject sd card, connect it to beaglebone\nOpen serial console:\n  gtkterm -p /dev/ttyUSB0 -s 115200\nPress and hold the button near the sd card slot to boot from sd card, power up the beaglebone\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#sdk","title":"SDK","text":"","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#sdk-setup","title":"SDK Setup","text":"<pre><code># Create extenesible sdk\nbitbake core-image-full-cmdline -c populate_sdk_ext\n\n# Install SDK\nSet executable if it isn't already and run the script'\n\n# set executable if it isn't already and run the script\nchmod +x tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh\n./tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh\n\n# To change the install directory\n./tmp/deploy/sdk/poky-glibc-x86_64-core-image-full-cmdline-cortexa8hf-neon-beaglebone-yocto-toolchain-ext-4.0.9.sh -d /my/path/here\n\n# SDK Usage\nsource /home/ton/beaglebone_os/sdk/test_sdk_full/environment-setup-cortexa8hf-neon-poky-linux-gnueabi\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#yocto-recipes","title":"Yocto Recipes","text":"","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#add-new-packages","title":"Add new packages","text":"<pre><code># Example: Add recipe to the target image\n\n# On target, htop missing\nroot@beaglebone-yocto:~# htop\n-sh: htop: command not found\n\n# Add new recipe to the sdk\ndevtool -d add https://github.com/htop-dev/htop.git --srcbranch main\n\n# Try to build the recipe\ndevtool build htop\n\n# Edit recipe\n# Fix recipe by adding 'FILES:${PN} += \"/usr/share/icons\"' or in older yocto versions 'FILES_${PN} += \"/usr/share/icons\"'\ndevtool edit-recipe htop\n\n# Deploy to the target\ndevtool deploy-target htop root@192.168.1.50\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#run-new-package-on-target-device","title":"Run new package on target device","text":"<p>At this point the binary is on the target, but shared libraries are missing <pre><code>root@beaglebone-yocto:~# htop \nhtop: error while loading shared libraries: libnl-3.so.200: cannot open shared object file: No such file or directory\nroot@beaglebone-yocto:~#\n</code></pre></p> <p>If the recipe depends on other packages ( for example in htop: DEPENDS = \"systemd libcap libnl xz\" ) that are not on the target device yet, image needs to be built and deployed to target. Sdk gets updated with workdir recipe and it's dependencies, so the image can be built with devtool <pre><code>devtool build-image\n</code></pre></p> <p>Alternatively, you can copy the runtime libs to the target: On the target, find out where the binary is located <pre><code>root@beaglebone-yocto:~# find /usr/ -name \"htop\"\n/usr/bin/htop\n</code></pre></p> <p>Cd to target root <pre><code>cd /run/user/1000/gvfs/sftp:host=192.168.1.50,user=root/home/root\n</code></pre></p> <p>Source sdk, if not sourced already <pre><code>source ~/beaglebone_os/sdk/test_sdk_full/environment-setup-cortexa8hf-neon-poky-linux-gnueabi\n</code></pre></p> <p>Find dependencies <pre><code>for file in $(arm-poky-linux-gnueabi-readelf -a /usr/bin/htop | \\\ngrep \"Shared library\" | \\\nsed -nr '/Shared library:/ s/.*Shared library:([^\"]+).*/\\1/p' | \\\ntr -d \"[]\"); \\\ndo name=$(echo $file | cut -d '.' -f 1) &amp;&amp; find /home/ton/beaglebone_os/build/tmp/sysroots-components/cortexa8hf-neon -name $name.*; \\\ndone \\\n&gt; dependencies.txt\n</code></pre></p> <p>Copy libs to target <pre><code>cat dependencies.txt | xargs -i sudo scp {} root@192.168.1.50:/usr/lib/\n</code></pre></p> <p>Htop should now be usable on the target <pre><code>  CPU[||||||                                                           7.1%] Tasks: 29, 1 thr, 64 kthr; 1 running\n  Mem[||||||||||||||                                             30.1M/488M] Load average: 0.89 0.23 0.08 \n  Swp[                                                                0K/0K] Uptime: 00:00:39\n\n  [Main] [I/O]\n  PID USER       PRI  NI  VIRT   RES   SHR S  CPU%-MEM%   TIME+  Command\n  210 root        20   0  4036  3116  2356 R   2.6  0.6  0:00.22 htop\n    1 root        20   0 10076  7188  5788 S   0.6  1.4  0:04.44 /sbin/init\n  184 messagebus  20   0  4932  3116  2804 S   0.6  0.6  0:00.31 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activati\n  133 rpc         20   0  3936  2248  2020 S   0.0  0.4  0:00.03 /usr/sbin/rpcbind -w -f\n</code></pre></p> <p>Apply the recipe to source tree <pre><code>ton@mx-5:~/beaglebone_os/sdk/htop$ devtool finish htop ../../sources/meta-bbb/\n</code></pre></p>","tags":["Linux"]},{"location":"Projects/Linux/beaglebone_yocto/#links","title":"Links","text":"<ul> <li>Github<ul> <li>https://github.com/protoni/beaglebone-os</li> </ul> </li> </ul>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/","title":"DIY Linux","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#description","title":"Description","text":"<p>Bootable Linux image for BeagleBone black from sratch, \"from scracth\" here means building the toolchain that builds the bootloader, kernel, device tree. Also create rootfs by hand and build busybox to have some basic features enabled.</p>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#toolchain","title":"Toolchain","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#toolchain-types-gnueabi-gnueabihf","title":"Toolchain types ( gnueabi / gnueabihf )","text":"<pre><code>- GNU Extended Application Binary Interface / --||-- hardware floating point support\nPasses \n- gnueabi relies on software floating-point library\n- gnueabihf uses floating point registers instead of integer registers\n- in function calls, the hardware floating point support makes calling with float and double type parameters faster\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#build-toolchain","title":"Build toolchain","text":"<pre><code>git clone https://github.com/crosstool-ng/crosstool-ng.git\ngit checkout crosstool-ng-1.25.0\n./bootstrap\n./configure --prefix=${PWD}\nmake\nmake install\nbin/ct-ng arm-cortex_a8-linux-gnueabi\nbin/ct-ng build\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#setup-toolchain","title":"Setup toolchain","text":"<pre><code># Setup toolchain env\nPATH=~/x-tools/arm-cortex_a8-linux-gnueabi/bin:$PATH\nexport CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nexport ARCH=arm\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#toolchain-usage","title":"Toolchain usage","text":"<pre><code># Toolchain install location\n~/x-tools/arm-cortex_a8-linux-gnueabi\n\n# List default configurations\nbin/ct-ng list-samples\n\n# View default configuration\nbin/ct-ng show-arm-cortex_a8-linux-gnueabi\n\n# View default configuration\nbin/ct-ng show-arm-cortex_a8-linux-gnueabi\n\n# Disable read-only toolchain ( CT_PREFIX_DIR_RO )\n# Enable hardware floating points ( CT_ARCH_FLOAT_HW )\n# Target options -&gt; Use specific FPU -&gt; 'neon'\nbin/ct-ng menuconfig\n\n# Get toolchain info\narm-cortex_a8-linux-gnueabi-gcc --version\narm-cortex_a8-linux-gnueabi-gcc -v\n\n# Toolchain compiling\narm-cortex_a8-linux-gnueabi-gcc test.c -o test_bin\n\n# Override toolchain compiler settings\narm-cortex_a8-linux-gnueabi-gcc -mcpu=cortex-a5 test.c -o test_bin\n\n# Read linked libraries\narm-cortex_a8-linux-gnueabi-readelf -a test_bin | grep \"Shared library\"\n\n# Get location of shared library runtime linker\narm-cortex_a8-linux-gnueabi-readelf -a test_bin | grep \"program interpreter\"\n\n# Print toolchain sysroot\narm-cortex_a8-linux-gnueabi-gcc -print-sysroot\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#bootloader","title":"Bootloader","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#boot-process","title":"Boot process","text":"<pre><code>1. ROM code\n2. Secondary Program Loader ( SPL ) running in SRAM Initializes DRAM\n3. SPL loads u-boot ( Tertiary Program Loader (TPL) ) in and jumps in there\n4. Loads kernel into DRAM\n5. Kernel loads root file system\n6. Init program is executed with PID 1\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#build-u-boot","title":"Build u-boot","text":"<pre><code>git clone git://git.denx.de/u-boot.git\ncd u-boot\ngit checkout v2021.01\nPATH=~/x-tools/arm-cortex_a8-linux-gnueabi/bin:$PATH\nexport CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nexport ARCH=arm\nmake am335x_evm_defconfig\nmake\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#flash-u-boot-to-target-device","title":"Flash u-boot to target device","text":"<pre><code>format sdcard to have a 64MB boot section and a 1GB rootfs\ncopy MLO and u-boot.img to the /media/user/boot/ folder\numount the boot mount point\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#boot-linux-image","title":"Boot linux image","text":"<pre><code>fatload mmc 0:1 0x80200000 zImage\nfatload mmc 0:1 0x80f00000 am335x-boneblack.dtb\nfatload mmc 0:1 0x80f00000 nova.dtb\nsetenv bootargs console=ttyO0,115200n8\nbootz 0x80200000 - 0x80f00000\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#terminal","title":"Terminal","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#open-terminal","title":"Open terminal","text":"<pre><code>gtkterm -p /dev/ttyUSB0 -s 115200\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#kernel","title":"Kernel","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#setup-kernel","title":"Setup kernel","text":"<pre><code>## Get kernel sources\nwget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.50.tar.xz\n\n# Create a kernel config based on defaults\nmake ARCH=arm multi_v7_defconfig\n\n# Modify kernel config\nmake ARCH=arm menuconfig\n( config will be saved to .config file, use ls -a to view it on disk )\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#build-kernel","title":"Build kernel","text":"<pre><code># Build kernel\nsudo apt-get install libssl-dev\nmake -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- zImage\n\n# Build kernel with verbose logging\nsudo apt-get install libssl-dev\nmake -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- V=1 zImage\n\n# Build kernel modules separately\nmake -j 8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- modules\n\n# Install kernel modules\nmake -j8 ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\n  INSTALL_MOD_PATH=$HOME/rootfs modules_install\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#device-tree","title":"Device tree","text":"<pre><code>## Build device tree ( based on the multi_v7_defconfig )\nmake ARCH=arm dtbs\n\n\n##### Copy kernel and device tree to the boot media\n````bash\ncp arch/arm/boot/zImage arch/arm/boot/dts/am335x-boneblack.dtb /media/ton/boot/\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#rootfs","title":"Rootfs","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#create-rootfs","title":"Create rootfs","text":"<pre><code>mkdir ~/rootfs\ncd ~/rootfs\nmkdir bin dev etc home lib proc sbin sys tmp usr var\nmkdir usr/bin usr/lib usr/sbin\nmkdir -p var/log\nsudo chown -R root:root *\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#build-busybox","title":"Build busybox","text":"<pre><code>git clone git://busybox.net/busybox.git\ncd busybox\ngit checkout 1_36_0\nmake distclean\nmake defconfig\n( Optional, do changes here ) make menuconfig\nnano .config -&gt; change 'CONFIG_PREFIX' to: /home/ton/rootfs\nmake ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi-\nmake ARCH=arm CROSS_COMPILE=arm-cortex_a8-linux-gnueabi- install\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#create-a-ramdisk-image","title":"Create a ramdisk image","text":"<pre><code>cd ~/rootfs\nfind . | cpio -H newc -ov --owner root:root &gt; ../initramfs.cpio\ncd ..\ngzip initramfs.cpio\nmkimage -A arm -O linux -T ramdisk -d initramfs.cpio.gz uRamdisk\nattach SD card to host machine\ncp uRamdisk /media/ton/boot\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#beaglebone","title":"Beaglebone","text":"","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#boot-from-sd-card","title":"Boot from SD card","text":"<pre><code>Hold down the button near the SD card slot, power on the device, hold the button down for 5 seconds and release\nOptionally press reset button\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#image-size","title":"Image size","text":"<pre><code>uboot&gt; bootz 0x80200000 0x81000000 0x80f00000\n## Loading init Ramdisk from Legacy Image at 81000000 ...\n   Image Name:   \n   Created:      2023-04-26  15:29:33 UTC\n   Image Type:   ARM Linux RAMDisk Image (gzip compressed)\n   Data Size:    1612931 Bytes = 1.5 MiB\n   Load Address: 00000000\n   Entry Point:  00000000\n   Verifying Checksum ... OK\n## Flattened Device Tree blob at 80f00000\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/diy-setup/#image-files","title":"Image files","text":"<pre><code>debian@beaglebone:~$ ls -laih /media/boot/\ntotal 24M\n  1 drwx------ 2 debian debian  16K Apr 23 20:21 .\n 18 drwxr-xr-x 3 root   root   4.0K Apr 23 20:20 ..\n183 -rw-r--r-- 1 debian debian  57K Apr 26  2023 am335x-boneblack.dtb # Device tree\n180 -rw-r--r-- 1 debian debian 106K Apr 25  2023 MLO                  # Secondary program loader ( SPL )\n184 -rw-r--r-- 1 debian debian 128K Jan  1  1980 uboot.env            # Uboot environment variables\n181 -rw-r--r-- 1 debian debian 872K Apr 25  2023 u-boot.img           # Uboot binary + header\n186 -rw-r--r-- 1 debian debian  14M Apr 26  2023 uRamdisk             # Root file system in ramdisk format\n182 -rw-r--r-- 1 debian debian 8.7M Apr 26  2023 zImage               # Compressed kernel image\n</code></pre>","tags":["Linux"]},{"location":"Projects/Linux/install-arch-linux/","title":"Arch Linux installation notes","text":"<p>This is a re-write of my old Arch Linux installation notes. Originally they were just on different text files on my github repo and they became too hard to read at some point so I decided to combine these notes to a proper blog post. The blog post was originally created to my old wordpress website a couple of years ago. Decided I would migrate this to here as well.</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#requirements","title":"Requirements","text":"<ul> <li>Time and patience.</li> <li>Virtual machine ( or why not a real machine )</li> <li>Arch Linux image</li> <li>1GB RAM</li> <li>8GB free hard disk space</li> </ul>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#steps","title":"Steps","text":"<ol> <li>Install VirtualBox</li> <li>Install Arch Linux</li> <li>???</li> <li>Profit</li> </ol> <p>Easy, huh? So lets begin by installing the virtual machine so we can actually launch the Arch Linux!</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#download","title":"Download","text":"<ul> <li>https://www.virtualbox.org/wiki/Downloads</li> <li>https://www.archlinux.org/download/</li> </ul>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#virtualbox-setup","title":"VirtualBox setup","text":"<ol> <li>Click New</li> <li>Select the 64-bit Arch Linux and select a machine folder</li> <li>Allocate RAM for the virtual machine. Recommended 1024MB should be enough.</li> <li>Create a virtual hard disk</li> <li>Select hard disk file type: VDI</li> <li>Set the storage as dynamically allocated so that it won\u2019t reserve the whole space immediately.</li> <li>Type the name for the Virtual disk and allocate the size.Recommended 8GB is just fine for messing around with virtual machine</li> </ol> <p>Now the virtual machine has been setup and the virtual machine is ready to be started.  Click Start, select 64-bit Arch Linux as a start-up disk and click Start. </p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#virtual-machine-setup-notes","title":"Virtual machine setup notes:","text":"<ul> <li>If you lose your mouse on VirtualBox, click right Ctrl</li> <li>You can scroll up/down the terminal window with Shift + PageUp/PageDown</li> <li>If you get stuck in scaled mode: click right Ctrl + C</li> <li>Exit full screen mode right Ctrl + F</li> </ul>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#now-on-to-the-sweet-arch-linux-installation-part","title":"Now on to the sweet Arch Linux installation part.","text":"","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#starting-arch-linux-virtual-machine","title":"Starting Arch Linux virtual machine","text":"<p>2.1 Click Boot Arch Linux ( x86_64 ). After Linux boots up, you should be sitting at root@archiso shell.</p> <p>2.2 ( Optional ) set the keyboardlayout temporarily to finnish. ( Or whatever your language is. Default is english )  <pre><code>loadkeys fi\n</code></pre> 2.3 Check the network connection by pinging a google server <pre><code>ping google.com\n</code></pre> 2.4 If your connection works, skip to step 4.</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#setting-up-network-connection","title":"Setting up network connection","text":"<p>3.1 Check the ethernet card status and the drivers it uses. Command lists information about PCI buses and devices. Scroll up and search for Ethernet controller portion. <pre><code>lspci -v\n</code></pre> 3.2 To search for Ethernet part, and print 10 lines after that: <pre><code>lspci -v | grep -A 10 \"Ethernet\"\n</code></pre></p> <p> Kernel driver in use: e1000 \u2013 This is your card\u2019s driver </p> <p>3.3 Now we can search for the driver in the kernel message buffer to see if it is up. <pre><code>dmesg | grep e1000\n</code></pre></p> <p>Output should look something like this, when the card is up and running: </p> <p>3.4 If the driver is not in use, we need to load the driver. replace [ e1000 ] with your driver shown in lspci. <pre><code>rmmod e1000\nmodprobe e1000\n</code></pre> Throw in another ping to google server to test the connection. I have successfully fixed my connection issues this way a few times whenever  I have started a fresh Arch install. </p> <p>Of course there are many possible reasons why the connection is not working, especially wireless connection,  but this is all that I have documented on my notes. If this doesn\u2019t help, some googling is required to go forward I\u2019m afraid.</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#setup-disk-partitions","title":"Setup disk partitions","text":"<p>4.1 Check the disk name: <pre><code>fdisk -l\n</code></pre></p> <p> /dev/sda is the one here</p> <p>4.2 Open the partitioning tool: <pre><code>cgdisk /dev/sda\n</code></pre></p> <p>4.3 Create a boot partition:</p> <p>Note! Consider allocating more memory than 5GB for the root file system</p> <pre><code>- Press New\n- Size -&gt; 512M\n- Code -&gt; EF00\n- Name -&gt; boot\n</code></pre> <p>4.4 Create a swap partition: <pre><code>- Press New\n- Size -&gt; 512M\n- Code -&gt; 8200\n- Name -&gt; swap\n</code></pre></p> <p>4.5 Create a root partition: <pre><code>- Press New\n- Size -&gt; 5G\n- Code -&gt; 8300\n- Name -&gt; root\n</code></pre></p> <p>4.6 Create a home partition: <pre><code>- Press New\n- Size -&gt; Enter ( Uses rest of the space. )\n- Code -&gt; 8300\n- Name -&gt; home\n</code></pre></p> <p>4.7 At this point the partitioning is done and just needs to be written to the disk: <pre><code>- Press Write -&gt; Yes.\n</code></pre></p> <p>4.8 Check that the partition table got written to the disk correctly: <pre><code>lsblk\n</code></pre></p> <p> Partition table should look something like this.</p> <p>4.9 Format the partitions</p> <p>Create boot: <pre><code>mkfs.fat -F32 /dev/sda1\n</code></pre></p> <p>Create swap: <pre><code>mkswap /dev/sda2\n</code></pre></p> <p>Turn swap on: <pre><code>swapon /dev/sda2\n</code></pre></p> <p>Create root partition: <pre><code>mkfs.ext4 /dev/sda3\n</code></pre></p> <p>Create home partition: <pre><code>mkfs.ext4 /dev/sda4\n</code></pre></p> <p>Create /mnt directory: <pre><code>mkdir /mnt\n</code></pre></p> <p>Mount root to /mnt: <pre><code>mount /dev/sda3 /mnt\n</code></pre></p> <p>Create boot directory: <pre><code>mkdir /mnt/boot\n</code></pre></p> <p>Create home directory: <pre><code>mkdir /mnt/home\n</code></pre></p> <p>Create home directory: <pre><code>mkdir /mnt/home\n</code></pre></p> <p>Mount sda1 to boot directory: <pre><code>mount /dev/sda1 /mnt/boot\n</code></pre></p> <p>Mount sda4 to home directory: <pre><code>mount /dev/sda4 /mnt/home\n</code></pre></p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#system-setup","title":"System setup","text":"<p>5.1 Install the system: <pre><code>pacstrap -i /mnt base base-devel\n</code></pre> Press enter to all of the questions ( to install all packages )</p> <p>5.2 Generate fstab file: <pre><code>genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab\n</code></pre> Fstab-file can be used to define what disks / partitions are going to be mounted to the filesystem.</p> <p>5.3 Check that the 4 newly created partitions exists in fstab-file: <pre><code>nano /mnt/etc/fstab\n</code></pre></p> <p> Fstab should look something like this.</p> <p>5.4 Chroot to /mnt. <pre><code>arch-chroot /mnt\n</code></pre></p> <p>5.5 Generate locale files: <pre><code>nano /etc/locale.gen\n</code></pre> Uncomment en_US-UTF-8:</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#protip-press-ctrl-w-and-search-for-en_us","title":"ProTip: Press Ctrl + W and search for \u201cen_US\u201d","text":"<p>5.6 Generate files: <pre><code>locale-gen\n</code></pre></p> <p>5.7 Setup language:</p> <p>Create locale.conf and put en_US.UTF as default language <pre><code>echo LANG=en_US.UTF-8 &gt; /etc/locale.conf\n</code></pre></p> <p>Export language: <pre><code>export LANG=en_US.UTF-8\n</code></pre></p> <p>5.8. Setup time</p> <p>Set the timezone: <pre><code>ln -s /usr/share/zoneinfo/Europe/Helsinki /etc/localtime\n</code></pre></p> <p>Setup hardware clock: <pre><code>hwclock --systohc --utc\n</code></pre></p> <p>5.9 Setup package manager: <pre><code>nano /etc/pacman.conf\n</code></pre> * Uncomment [multilib] and Include below it * Add to the end of the file: <pre><code>[archlinuxfr]\nSigLevel = Never\nServer = http://repo.archlinux.fr/$arch\n</code></pre></p> <p> Pacman.conf should look something like this.</p> <p>5.10 Update the system. <pre><code>pacman -Syu\n</code></pre></p> <p>5.11 Setup users and passwords.</p> <p>Set the hostname and password: <pre><code>echo [YOUR_HOSTNAME_HERE] &gt; /etc/hostname\npasswd [YOUR_HOSTNAME_HERE]\n</code></pre></p> <p>Add the new user to group \u2018wheel\u2019: <pre><code>useradd -m -g users -G wheel -s /bin/bash [YOUR_HOSTNAME_HERE]\n</code></pre></p> <p>Enable sudo for user: <pre><code>EDITOR=nano visudo\n</code></pre> Remove #-sign from #%wheel ALL=(ALL) ALL</p> <p> Visudo should look something like this.</p> <p>Setup root password: <pre><code>passwd\n</code></pre></p> <p>5.12 ( Optional ) Skip if you are not booting in EFI-mode. ( If you followed the VirtualBox tutorial, skip this part. )</p> <p>Check that EFI variables are mounted: <pre><code>mount -t efivarfs efivarfs /sys/firmware/efi/efivars\n</code></pre></p> <p>Install EFI to boot: <pre><code>bootctl --path=/boot install\n</code></pre></p> <p>5.13 Configure bootloader:</p> <p>Create a folder for conf file: <pre><code>mkdir -p /boot/loader/entries/\n</code></pre> [ -p ] -tag creates folders recursively</p> <p>Open and create a conf file: <pre><code>nano /boot/loader/entries/arch.conf\n</code></pre> * Type to the file:</p> <pre><code>title Arch Linux\nlinux /vmlinuz-linux\ninitrd /intel-ucode.img      # ( if PC has an Intel CPU )\ninitrd /initramfs-linux.img\noptions root=/dev/sda3 rw\n</code></pre> <p> Bootloader configuration file should look something like this.</p> <p>5.14 Setup bootloader.</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#optional-install-intel-microcodes-if-you-have-intel-cpu","title":"( Optional ) Install intel microcodes if you have Intel CPU:","text":"<pre><code>pacman -S intel-ucode\n</code></pre> <p>Install bootloader: <pre><code>pacman -S grub-bios\n</code></pre></p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#optional-if-bootloader-installing-fails-and-you-have-booted-in-efi-mode","title":"( Optional ) If bootloader installing fails and you have booted in EFI mode:","text":"<pre><code>pacman -Sy efibootmgr\ngrub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub --recheck\n</code></pre> <p>Install bootloader to harddrive: <pre><code>grub-install /dev/sda\n</code></pre></p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#note","title":"Note!","text":"<p>Here I actually got my first error: <pre><code>grub-install: warning: this GPT partition label contains no BIOS Boot Partition; embedding won\u2019t be possible.\nGrub-install: warning: Embedding is not possible. GRUB can only be installed in this setup by using blocklists. However, blockists are UNRELIABLE and their use is discouraged..\ngrub-install: error: will not proceed with blocklists.\n</code></pre> I solved it by adding --force to the command so that it will use the blocklists. Kind of an ugly way to solve a problem and I might come back to the article and update a proper way to fix this. <pre><code>grub-install --force --target=i386-pc /dev/sda\n</code></pre></p> <p>Create a init ramdisk file for temporary root file system during startup: <pre><code>mkinitcpio -p linux\n</code></pre></p> <p>Create a grub config-file: <pre><code>grub-mkconfig -o /boot/grub/grub.cfg\n</code></pre></p> <p>Exit chroot: <pre><code>exit\n</code></pre></p> <p>Unmount the drive: <pre><code>umount /mnt/boot\numount /mnt/home\numount /mnt\n</code></pre></p> <p>Reboot the system: <pre><code>reboot\n</code></pre></p> <p>5.15 Boot up the system</p> <p>Open the bootloader from the menu: <pre><code>- Choose 'Boot existing OS' from the menu\n- Select Arch Linux\n</code></pre></p> <p>Arch Linux boot menu </p> <p>GRUB bootloader </p> <p> You should be sitting at login prompt.</p> <p> Login with the username and password that you configured earlier. And once you log in, you can see that there is not much going on, just a black terminal window. Now we just need to install a GUI. </p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#congratulations-you-have-just-installed-arch-linux","title":"Congratulations! You have just installed Arch Linux!","text":"<p>At this point some more steps are going to be needed so that the Arch Linux build would be useful for anything, like installing sound and graphical user interface.</p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#configure-network","title":"Configure network","text":"<p>Network needs to actually be re-configured, because the network setup during install has no effect on the actual system.</p> <p></p> <p>Once again, check the name of the network driver: <pre><code>lspci -v\n</code></pre></p> <p></p> <p>Check the network interface name from the dmesg output: <pre><code>dmesg | grep e1000\n</code></pre></p> <p></p> <p>So my interface name is enp0s3. Now it needs to be configured to the DHCP client <pre><code>sudo dhcpcd enp0s3\n</code></pre></p> <p></p> <p>To make the fix permanent, we need to enable the dhcpcd service, so that we have a network connection at startup. <pre><code>systemctl enable dhcpcd.service\n</code></pre></p> <p>Now the network should be back up, try to ping google servers once again: <pre><code>ping google.com\n</code></pre></p> <p></p> <p>Install net-tools to get ifconfig working: <pre><code>sudo pacman -S net-tools\n</code></pre></p> <p>Run ifconfig to see network information: <pre><code>ifconfig\n</code></pre></p> <p></p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#install-sound","title":"Install sound","text":"<p>Install sound card drivers ( ALSA ): <pre><code>sudo pacman -S alsa-utils\n</code></pre></p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#install-display-server","title":"Install display server","text":"<ul> <li>Choose 1: libglvnd ( These containt the latest drivers from the official repo. )</li> <li>Press Y <pre><code>pacman -S xorg-server xorg-xinit xorg-server-utils\n</code></pre></li> </ul> <p>Install 3D acceleration: <pre><code>pacman -S mesa\n</code></pre></p> <p>Choose the correct driver:</p> Manuf Driver If 64bit AMD/ATI xf86-video-ati lib32-ati-dri Intel xf86-video-intel lib32-intel-dri Nvidia xf86-video-nouveau lib32-nouveau-dri <p>Install graphics card drivers: <pre><code>sudo pacman -S xf86-video-intel\nsudo pacman -S lib32-intel-dri\n</code></pre></p> <p>Install touchpad drivers, if you have a laptop: <pre><code>pacman -S xf86-input-synaptics\n</code></pre></p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#install-desktop-environment","title":"Install desktop environment","text":"<p>Choose one from the wiki:</p> <p>https://wiki.archlinux.org/index.php/desktop_environment.</p> <p>I usually go with the Xfce4.</p> <p>Click enter to all prompts ( defaults ) <pre><code>pacman -S xfce4 xfce4-goodies\n</code></pre></p> <p>Configure desktop environment: <pre><code>cp /etc/X11/xinit/xinitrc ~/.xinitrc\n</code></pre> <pre><code>sudo nano ~/.xinitrc\n</code></pre></p> <p>To load your keyboard layout add before exec line: ( change the fi to your language ) <pre><code>setxkbmap -layout fi\n</code></pre></p> <p>Add line to the end of the file: ( Replace startxfce4 with your DE. for example startlxde ) <pre><code>exec startxfce4\n</code></pre></p> <p>Edit bash profile file: <pre><code>sudo nano ~/.bash_profile\n</code></pre></p> <p>Add line to the end of the file: <pre><code>[[ -z $DISPLAY &amp;&amp; $XDG_VTNR -eq 1 ]] &amp;&amp; exec startx\n</code></pre></p> <p>Now the Desktop Environment has been set up. You can run the DE by running: <pre><code>startxfce4\n</code></pre></p> <p>Keyboard layout hasn\u2019t been loaded yet, the system needs to be rebooted once for the keyboard layout to take effect. <pre><code>sudo reboot\n</code></pre></p> <p>Install fonts: <pre><code>pacman -S ttf-dejavu\n</code></pre></p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#once-again-congrats","title":"Once again, Congrats!","text":"<p>You should now have a working Arch Linux installation with GUI and everything. I might do some follow up articles for the Arch Linux installation, for example customizing Xmonad Desktop Environment.</p> <p></p> <p>Now that I have everything setup, the root partition is taking 63% of the allocated 5GB size. You really might want to allocate a lot more for the partitions.</p> <p></p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#notes","title":"Notes:","text":"<pre><code>If you get stuck on login screen ( X server crashing ):\nPress Ctrl + ALT + F2 so you can go to reconfigure ~/.xinitrc for example # (F1 - F7) F1 has the X server running.\n</code></pre> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Linux/install-arch-linux/#tldr","title":"TLDR","text":"<p>These are my raw notes, terminology might not be 100% correct, might contain more typos etc. <pre><code>1. loadkeys fi\n\n2. ping google.com\n\n\n    if network is not working try:\n\n    - lspci -v: search for ethernet driver name for example 'tg3'\n\n    -dmesg | grep tg3:\n\n        if driver is down run:\n\n            - rmmod tg3\n\n            - modprobe tg3\n\n3. fdisk -l # check the harddrive name for the next command\n\n4. gdisk /dev/sda # *possibly not needed*\n\n\n\n---------------- THIS IS FOR SSD DRIVES -------------------\n\n----- Use alternative (cfdisk) below if you have HDD ------\n\n\n\n5. cgdisk \n\n    - new 1gb boot section (EF00) # 1024MiB\n\n    - new (half of ram) sized swap (8200) # 2048MiB\n\n    - new 20gb root (8300) # 20000MiB\n\n    - new rest of the space sized home (8300) # the rest of the space\n\n\n\ntype lsblk to check partition names\n\n\n\n6. mkfs.fat -F32 /dev/sda1 # create boot\n\n7. mkswap /dev/sda2 # create swap\n\n8. swapon /dev/sda2 # turn swap on\n\n9. mkfs.ext4 /dev/sda3 # create root partition\n\n10. mkfs.ext4 /dev/sda4 # create home partition\n\n11. mkdir /mnt # create /mnt directory\n\n12. mount /dev/sda3 /mnt # mount root to /mnt\n\n13. mkdir /mnt/boot \n\n14. mkdir /mnt/home\n\n15. mount /dev/sda1 /mnt/boot\n\n16. mount /dev/sda4 /mnt/home\n\n\n(5. alternaitve) cfdisk /dev/sda\n\n    - delete all existing partitions\n\n    - create new partition sized half of your ram size\n\n        - set type to primari and linux swap\n\n    - create new partition with the remaining disk space\n\n        - set type to primary and linux bootable\n\n    - hit write\n\n\n\n        - mkfs.ext4 /dev/sda2 # format to ext4\n\n        - mount /dev/sda2 /mnt # mount root\n\n        - mkswap /dev/sda1 # make swap partition\n\n        - swapon /dev/sda1 # init swap partition\n\n\n17. cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup # create a backup of the mirrorlist\n\n18. sed -i 's/^#Server/Server/' /etc/pacman.d/mirrorlist.backup # uncomments all the servers in the mirrorlist.backup\n\n19. rankmirrors -n 6 /etc/pacman.d/mirrorlist.backup &gt; /etc/pacman.d/mirrorlist # ping through the mirrors\n\n#in mirrorlist.backup and stdout them into real mirrorlist (this will take about 5-10minutes)\n\n20. pacstrap -i /mnt base base-devel # install arch linux base and base-devel packages (install all)\n\n21. genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab # generate fstab file\n\n22. nano /mnt/etc/fstab # cheack that the 4 partitions exists in here. Or 2 if you used the alternative partitioning example.\n\n23. arch-chroot /mnt # chroot into /mnt\n\n24. nano /etc/locale.gen # uncomment en_US-UTF8\n\n25. locale-gen # generate locale files\n\n26. echo LANG=en_US.UTF-8 &gt; /etc/locale.conf # create locale.conf and put en_US.UTF as default language\n\n27. export LANG=en_US.UTF-8\n\n28. nano /etc/vconsole.conf\n\n# write in the file:\n\n    #KEYMAP=fi\n\n    #FONT=Lat2-Terminus16\n\n29. ls /usr/share/zoneinfo/Europe/ # check that Helsinki is in the folder\n\n30. ln -s /usr/share/zoneinfo/Europe/Helsinki /etc/localtime # set timezone\n\n31. hwclock --systohc --utc\n\n32. echo &lt;hostname&gt; &gt; /etc/hostname\n\n33. nano /etc/pacman.conf\n\n# uncomment [multilib] and Include below it\n\n# add to the end of the file:\n\n    [archlinuxfr]\n\n    SigLevel = Never\n\n    Server = http://repo.archlinux.fr/$arch\n\n34. pacman -Syu # update system\n\n35. pacman -S yaourt # install user repository package\n\n36. passwd # setup new root password\n\n37. useradd -m -g users -G wheel -s /bin/bash &lt;username&gt; # add new user to group 'wheel'\n\n38. EDITOR=nano visudo # enable sudo for user. Remove #-sign from #%wheel ALL=(ALL) ALL \n\n39. passwd &lt;user&gt; # change newly created user password\n\n40. pacman -S bash-completion # helps complete package names in the shell\n\n\n\n----------------------------------------------------\n\n----- SKIP IF YOU ARE NOT INSTALLING FROM EFI ------\n\n----------------------------------------------------\n\n\n\n41. mount -t efivarfs efivarfs /sys/firmware/efi/efivars # check that EFI variables are mounted\n\n42. bootctl --path=/boot install # install EFI to boot\n\n----------------------------------------------------\n\n----------------------------------------------------\n\n----------------------------------------------------\n\n\n\n43. nano /boot/loader/entries/arch.conf\n\n# type to the file:\n\n    title Arch Linux\n\n    linux /vmlinuz-linux\n\n    initrd /intel-ucode.img # if pc has intel cpu\n\n    initrd /initramfs-linux.img\n\n    options root=/dev/sda3 rw\n\n44. pacman -S intel-ucode # if pc has intel cpu\u007f\n\n45. pacman -S grub-bios # download bootloader\n\n    if this doesnt work try:\n\n        pacman -Sy efibootmgr\n\n        grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub --recheck\n\n46. grub-install /dev/sda # install bootloader to harddrive\n\n47. mkinitcpio -p linux # create init file for root\n\n48. exit\n\n49. grub-mkconfig -o /boot/grub/grub.cfg # create grub config file\n\n50. umount /mnt # unmount the drive\n\n51. reboot\n</code></pre></p> <p>&amp;nbsp</p>","tags":["linux"]},{"location":"Projects/Misc/all-the-mods/","title":"Allthemods","text":"<p>I had already forgotten about this old modding site I used to post some little things I made long ago:  http://allthemods.com/userinfo.php?userid=2328. Most of the images seem to be dated around year 2008, so I was about 16 years old back then.</p> <p>No one seems to have been posting anything for a year in there so I wouldn't be surprised if the site went offline one of these days, I hope not though.</p> <p>It used to be cool to see people create cool computer cases and so on. Nowadays many computer cases, mouses and keyboards  are pretty cool already out of the box so no modding really needed. Well some people seem to be really into building custom keyboards now, which is cool. But ofcourse modding everything possible is still interesting, at least to me.</p> <p>So anyway, I thought I would download my pictures from there and save them here. I will also add the original image descriptions as header text, wrapped around quotes above the image.</p>","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#rear-light-in-action-at-night","title":"\"rear light in action at night.\"","text":"<p>I actually still have this bike and a few years ago I changed the battery to test it and it still works! Though I had changed the LED to ultra bright red pretty quickly after I made the light.  </p>","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#my-bicycle-rear-light-with-alpinestars-logo-flashes-different-colors","title":"\"my bicycle rear light with alpinestars logo, flashes different colors.\"","text":"","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#glowpad-with-red-lightswitch","title":"\"glowpad with red lightswitch\"","text":"","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#not-a-daylight-pic-but-took-it-with-flash-and-that-allsop-is-just-temporarily-there","title":"\"not a daylight pic, but took it with flash and that allsop is just temporarily there.\"","text":"","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#top-item-in-mousemousepad-category","title":"Top item in mouse/mousepad category","text":"<p>Found this picture from my cloud service where I had backed up stuff from around this time. </p>","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#oooold-moped","title":"\"oooold moped :|\"","text":"<p>My old moped. Derbi senda R -97 </p>","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#derbi","title":"\"DERBI !!\"","text":"","tags":["misc"]},{"location":"Projects/Misc/all-the-mods/#found-it-in-my-closet-i-made-it-years-ago-in-school-i-still-dont-know-what-is-it","title":"\"Found it in my closet, I made it years ago in school. I still don't know what is it.\"","text":"<p>That's all I posted in there unfortunately \ud83d\ude00</p> <p>I actually used to do a lot more of these kind of mousepads with different engravings and I sold them in school and to friends.  Didn't take pictures of them or I have lost them though. I Also did some mouse, keyboard and computer case mods and so on. If I find some more pictures I might add them here later.</p> <p>Links: * http://allthemods.com/userinfo.php?userid=2328</p>","tags":["misc"]},{"location":"Projects/Misc/home-assistant/","title":"Home Assistant","text":"","tags":["misc"]},{"location":"Projects/Misc/home-assistant/#what-is-this","title":"What is this?","text":"<p>Some pictures of my old Home Assistant setup that I spent some time to setup. I have moved since and only setup a few sensor to my new home for a brief testing of the ventilation of this place.</p> <p>However I'm planning on moving the Home Assistant setup to my garage, it will be more useful there. Also it has a simple Wireguard setup so I can connect to the garage LAN and monitor/control things remotely.</p>","tags":["misc"]},{"location":"Projects/Misc/home-assistant/#notes","title":"Notes","text":"<p>https://protoni.fi/Notes/home-assistant/</p>","tags":["misc"]},{"location":"Projects/Misc/home-assistant/#setup","title":"Setup","text":"<p>I have a Raspberry pi 3 running the home assistant distro. Raspberry pi has ConBee2 ( Zigbee ) USB gateway connected. So the current home assistant setup detects devices from WLAN, LAN and Zigbee.</p> <p>It has, or at least had these devices connected: - Power outlets to control - Lamps and christmas lights - Temperature/Humidity sensors - Water leak sensor - Movement detector - LG TV - Roomba - Control panel tablet - Desktop PC</p> <p>I had also setup wake on lan so I could use Wireguard VPN to connect to the home network and power on my PC from the home assistant control panel.</p>","tags":["misc"]},{"location":"Projects/Misc/home-assistant/#pictures","title":"Pictures","text":"<p>Current state. Here most of the sensors are turned off since I moved recently. </p> <p>Older picture with more devices online </p> <p>Temperature sensor graphs </p> <p>I setup this old Android tablet as a control panel </p> <p>Setting up home assistant and testing some weather cards </p> <p>Testing some christmas light automations </p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/","title":"Random old projects","text":"","tags":["misc"]},{"location":"Projects/Misc/old-projects/#description","title":"Description","text":"<p>I was browsing my cloud storage and found some old stuff from years 2014-2015, around when I started to learn programming. They are scattered all over the place inside countless of sub folders and tar archives so I thought it would be nice to organize some of them for easier access.</p> <p>I'm going to add here only some of the projects I found because most of them are not really too interesting visually and also it would take a lot of time to set the environments up for these to build and run. So basically only some python and web stuff will be found here. Maybe I'll add all them to GitHub for example in the future.</p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#python-games","title":"Python games","text":"<p>After some work I got these python 'games' to run. These are basically the first things I did when I  first started to learn programming.  I did some CodeCademy course first to get started with the syntax and then moved to doing something on my own. They use pygame to draw the graphics.</p> <p>I put these in order based on when I made them, oldest is first one in the list.</p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#ball-thing","title":"Ball thing","text":"<p>Not really a game but first test on how to draw things to the screen. Seems to have at least collision detection in the borders. </p> <p>The code seems to be a weird mixture of finnish and english. <pre><code>import pygame, sys\nfrom random import randint\npygame.init()\nscreen = pygame.display.set_mode((1028, 480))\n\nclass Pallo(object):\n    def __init__(self, pos):\n        self.color = self.color()\n        self.pos = pos\n        self.radius = self.radius()\n        self.thickness = 0\n        self.paikka = self.paikka()\n        self.x = 0\n        self.y = 5\n\n    def color(self):\n        color = []\n        for x in range(3):\n            x = randint(0, 255)\n            color.append(x)\n        return color[:]\n\n    def paikka(self):\n        paikka = []\n        paikka.append(self.pos[0])\n        paikka.append(self.pos[1])  \n        return paikka[:]\n\n    def radius(self):\n\n        return randint(10, 100)\n\n    def update(self):\n        self.collision()\n        self.paikka[0] += self.x\n        self.paikka[1] += self.y\n\n\n    def collision(self):\n        '''wall collision'''\n        if self.paikka[0] &lt; 0 + self.radius:\n            self.x = 5\n        elif self.paikka[0] &gt; 1028 - self.radius:\n            self.x = -5\n        elif self.paikka[1] &lt; 0 + self.radius:\n            self.y = 5\n        elif self.paikka[1] &gt; 480 - self.radius:\n            self.y = -5\n\npallot = []\npallo_coords = []\n\nwhile True:\n    clock = pygame.time.Clock()\n    clock.tick(30)\n    pos = pygame.mouse.get_pos()\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            sys.exit()\n        if event.type == pygame.MOUSEBUTTONDOWN:\n            pallo = Pallo(pos)\n            pallot.append(pallo)\n\n\n    screen.fill((255, 255, 255))\n    for i in pallot:\n        pygame.draw.circle(screen, i.color, i.paikka, i.radius, i.thickness)\n        i.update()\n\n    pygame.display.flip()\n</code></pre></p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#block-thing","title":"Block thing","text":"<p>This is basically the same as ball thing, but has collision detection between objects flying around and the color changes on collision. </p> <p>Ze code <pre><code>import pygame, sys\nfrom random import randint\npygame.init()\nscreen = pygame.display.set_mode((1028, 480))\n\n\nclass Palikka(pygame.sprite.Sprite):\n    def __init__(self, color, size, pos):\n        pygame.sprite.Sprite.__init__(self)\n        self.width, self.height = size\n\n        # create rectangle\n        self.image = pygame.Surface((self.width, self.height))\n        self.image.fill((color))\n        self.rect = self.image.get_rect()\n\n        # starting point for the block. created with mouse click.\n        self.rect.x = pos[0] - self.width / 2\n        self.rect.y = pos[1] - self.height / 2\n\n        # change the speed of the block (30fps x pixels)\n        self.speed = 5\n\n        # speed vectors\n        self.x = 0\n        self.y = self.speed\n\n\n    def update(self):\n        # create copy for block collision detection\n        last = self.rect.copy()\n\n        # move block\n        self.rect.x += self.x\n        self.rect.y += self.y\n\n        # check to see that the block can change color after being hit\n        self.block_hit = False\n\n        # wall collision\n        if self.rect.x &lt; 0:\n            self.x = self.speed\n            self.block_hit = True\n        elif self.rect.x &gt; 1028 - self.width:\n            self.x = -self.speed\n            self.block_hit = True\n        elif self.rect.y &lt; 0:\n            self.y = self.speed\n            self.block_hit = True\n        elif self.rect.y &gt; 480 - self.height:\n            self.y = -self.speed\n            self.block_hit = True\n\n\n        # block collision\n        global palikat\n        new = self.rect\n        block_hit_list = pygame.sprite.spritecollide(self, palikat, False)\n        for cell in block_hit_list:\n            cell = cell.rect\n            if last.right &lt;= cell.left and new.right &gt; cell.left:\n                new.right = cell.left\n                self.x = -self.speed\n                self.block_hit = True\n            if last.left &gt;= cell.right and new.left &lt; cell.right:\n                new.left = cell.right\n                self.x = self.speed\n                self.block_hit = True\n            if last.bottom &lt;= cell.top and new.bottom &gt; cell.top:\n                new.bottom = cell.top\n                self.y = -self.speed\n                self.block_hit = True\n            if last.top &gt;= cell.bottom and new.top &lt; cell.bottom:\n                new.top = cell.bottom\n                self.y = self.speed \n                self.block_hit = True\n\n            # change the color of the block \n            if self.block_hit == True:\n                self.image.fill(color())\n\n\n# get random color\ndef color():\n    color = []\n    for x in range(3):\n        x = randint(0, 255)\n        color.append(x)\n    return color[:]\n\n# get random size\ndef get_size():\n\n    return randint(10, 50), randint(10, 50)\n\n\n\npalikat = pygame.sprite.Group()\n\n# main loop\nwhile True:\n    clock = pygame.time.Clock()\n    clock.tick(30)\n    screen.fill((255, 255, 255))\n    pos = pygame.mouse.get_pos()\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            sys.exit()\n        if event.type == pygame.MOUSEBUTTONDOWN:\n            palikka = Palikka(color(), get_size(), pos)\n            palikat.add(palikka)\n\n\n    palikat.update()\n    palikat.draw(screen)\n    pygame.display.flip()\n</code></pre></p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#block-game","title":"Block game","text":"<p>Getting some sort of game elements in </p> <pre><code>import pygame, sys\nfrom random import randint\nimport math\npygame.init()\nscreen = pygame.display.set_mode((1028, 480))\n\n\nclass Walls(pygame.sprite.Sprite):\n    def __init__(self, pos):\n        pygame.sprite.Sprite.__init__(self)\n        self.width = 15\n        self.height = 15\n        self.image = pygame.Surface((self.width, self.height))\n        self.image.fill((0, 200, 0))\n        self.rect = self.image.get_rect()\n        self.rect.x = pos\n        self.rect.y = 480 - self.height\n\n# make walls for the game\nwall_list = pygame.sprite.Group()\ndef make_walls():\n    for i in range (0, 1028, 15):\n        wall = Walls(i)\n        wall_list.add(wall)\nmake_walls()\n\nclass Player(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.width = 15\n        self.height = 15\n        self.image = pygame.Surface((self.width, self.height))\n        self.image.fill((0, 0, 0))\n        self.rect = self.image.get_rect()\n\n        # starting point for the player.\n        self.rect.x = 500\n        self.rect.y = 200\n\n        #gravity\n        self.resting = False\n        self.dy = 0\n        #speed\n        self.speed = 5\n\n    def update(self, dt, wall_list, palikat):\n        key = pygame.key.get_pressed()\n        last = self.rect.copy()\n        if key[pygame.K_a]:\n            self.rect.x -= 300 * dt\n        if key[pygame.K_d]:\n            self.rect.x += 300 * dt\n        if self.resting and key[pygame.K_SPACE]:\n            self.dy = -500\n\n        self.dy = min(400, self.dy + 40)\n        self.rect.y += self.dy * dt\n\n\n        # check collision with walls\n        new = self.rect\n        self.resting = False\n        block_hit_list = pygame.sprite.spritecollide(self, wall_list, False)\n        for cell in block_hit_list:\n            cell = cell.rect\n            if last.right &lt;= cell.left and new.right &gt; cell.left:\n                new.right = cell.left\n\n            if last.left &gt;= cell.right and new.left &lt; cell.right:\n                new.left = cell.right\n\n            if last.bottom &lt;= cell.top and new.bottom &gt; cell.top:\n                self.resting = True\n                new.bottom = cell.top\n                self.dy = 0\n\n            if last.top &gt;= cell.bottom and new.top &lt; cell.bottom:\n                new.top = cell.bottom\n                self.dy = 0\n\n        # check collision with blocks   \n        block_hit_list = pygame.sprite.spritecollide(self, palikat, False)\n        for cell in block_hit_list:\n            cell = cell.rect\n            if last.right &lt;= cell.left and new.right &gt; cell.left:\n                new.right = cell.left\n\n            if last.left &gt;= cell.right and new.left &lt; cell.right:\n                new.left = cell.right\n\n            if last.bottom &lt;= cell.top and new.bottom &gt; cell.top:\n                self.resting = True\n                new.bottom = cell.top\n                self.dy = 0\n\n            if last.top &gt;= cell.bottom and new.top &lt; cell.bottom:\n                new.top = cell.bottom\n                self.dy = 0\n\nclass Palikka(pygame.sprite.Sprite):\n    def __init__(self, pos):\n        pygame.sprite.Sprite.__init__(self)\n        self.width, self.height = 15, 15\n\n        # create rectangle\n        self.image = pygame.Surface((self.width, self.height))\n        self.image.fill((0, 200, 0))\n        self.rect = self.image.get_rect()\n\n        # starting point for the block. created with mouse click.\n        self.rect.x = pos[0] - self.width / 2\n        self.rect.y = pos[1] - self.height / 2\n\n        # change the speed of the block (30fps x pixels)\n        self.speed = 5\n\n        # speed vectors\n        self.x = 0\n        self.y = self.speed\n\n\n    def update(self, wall_list, bullet_list):\n        # create copy for block collision detection\n        last = self.rect.copy()\n\n        # move block\n        self.rect.x += self.x\n        self.rect.y += self.y\n\n        new1 = self.rect\n        # wall collision\n        global palikat\n        block_hit_list = pygame.sprite.spritecollide(self, palikat, False)\n        for cell in block_hit_list:\n            cell = cell.rect\n            if last.right &lt;= cell.left and new1.right &gt; cell.left:\n                new1.right = cell.left\n\n            if last.left &gt;= cell.right and new1.left &lt; cell.right:\n                new1.left = cell.right\n\n            if last.bottom &lt;= cell.top and new1.bottom &gt; cell.top:\n                new1.bottom = cell.top\n\n            if last.top &gt;= cell.bottom and new1.top &lt; cell.bottom:\n                new1.top = cell.bottom\n\n        # block collision\n\n        new = self.rect\n        block_hit_list = pygame.sprite.spritecollide(self, wall_list, False)\n        for cell in block_hit_list:\n            cell = cell.rect\n            if last.right &lt;= cell.left and new.right &gt; cell.left:\n                new.right = cell.left\n\n            if last.left &gt;= cell.right and new.left &lt; cell.right:\n                new.left = cell.right\n\n            if last.bottom &lt;= cell.top and new.bottom &gt; cell.top:\n                new.bottom = cell.top\n\n            if last.top &gt;= cell.bottom and new.top &lt; cell.bottom:\n                new.top = cell.bottom\n\n            new1 = self.rect\n        # wall collision\n\n        pygame.sprite.spritecollide(self, bullet_list, True)\n\nclass Bullet(pygame.sprite.Sprite):\n    def __init__(self, pos, player):\n        pygame.sprite.Sprite.__init__(self)\n        self.width = 10\n        self.height = 10\n        self.image = pygame.Surface((self.width, self.height))\n        self.image.fill((255, 0, 0))\n        self.rect = self.image.get_rect()\n        self.pos = pos\n        self.rect.x = player[0] - Player().width / 2\n        self.rect.y = player[1]\n        self.move_x = 0\n        self.move_y = 0\n\n        self.mouse_x, self.mouse_y = pos[0], pos[1]\n        self.player = player\n\n    def update(self, palikat):\n        speed = 20.\n\n        distance = [self.mouse_x - self.player[0], self.mouse_y - self.player[1]]\n        norm = math.sqrt(distance[0] ** 2 + distance[1] ** 2)\n        direction = [distance[0] / norm, distance[1 ] / norm]\n        bullet_vector = [direction[0] * speed, direction[1] * speed]\n        self.rect.x += bullet_vector[0]\n        self.rect.y += bullet_vector[1]\n\n        if self.rect.x &lt; 0:\n            pygame.sprite.Group.remove(bullet_list, self)\n        if self.rect.x &gt; 1028:\n            pygame.sprite.Group.remove(bullet_list, self)\n        if self.rect.y &lt; 0:\n            pygame.sprite.Group.remove(bullet_list, self)\n        if self.rect.y &gt; 480:\n            pygame.sprite.Group.remove(bullet_list, self)\n\n        # remove bullet when it hits a block\n        pygame.sprite.spritecollide(self, palikat, True)\n\n\nbullet_list = pygame.sprite.Group() \n\npalikat = pygame.sprite.Group()\n\nplayer_list = pygame.sprite.Group()\nplayer_in_game = False\n\nbullet_counter = 0\n# main loop\nwhile True:\n    clock = pygame.time.Clock() \n    dt = clock.tick(30)\n    screen.fill((255, 255, 255))\n    pos = pygame.mouse.get_pos()\n    mouse = pygame.mouse.get_pressed()\n    key = pygame.key.get_pressed()\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            sys.exit()\n\n    if key[pygame.K_LCTRL]:\n        if player_in_game == False:\n            player = Player()\n            player_list.add(player)\n            player_in_game = True\n\n    if mouse[2]:\n        palikka = Palikka(pos)\n        palikat.add(palikka)\n\n    if bullet_counter &gt; 20:\n        if mouse[0]:\n            bullet = Bullet(pos, [player.rect.x, player.rect.y])\n            bullet_list.add(bullet)\n            bullet_counter = 0\n\n\n    wall_list.draw(screen)\n\n    #limit the bullet count\n    bullet_counter += 10\n\n    bullet_list.update(palikat)\n    bullet_list.draw(screen)\n\n    player_list.update(dt / 1000., wall_list, palikat)\n    player_list.draw(screen)\n\n    palikat.update(wall_list, bullet_list)\n    palikat.draw(screen)\n    pygame.display.flip()\n</code></pre>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#shooter-game","title":"Shooter game","text":"<p>Out of all these pygame programs this is the only one that really can be counted as a game because it has some sort of game mechanics. The game even has a hiscore saving/loading system and difficulty levels! The idea is to kill as many monsters as possible, the rate they spawn in increases as the game goes on.</p> <p>The code begins to be pretty spaghetti at this point. Also theres 700+ code lines so I added this to github for easier reading. - https://github.com/protoni/legacy-stuff/blob/master/python_games/shooter/rpg.py</p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#rpg","title":"RPG","text":"<p>I managed to get this to work after some setting up. Had to setup python 2.7 environment and install python 2.7 modules alongside my python v3.8 setup.</p> <p>I still remember that I had difficulties getting the world and camera coordinate system to work in this one. Also the character animation was difficult for me to implement.</p> <p>Unfortunately the game never got finished.</p> <p>At this point I had already started to split the project into smaller files as the project grew: - https://github.com/protoni/legacy-stuff/tree/master/python_games/RPG</p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#web-stuff","title":"Web stuff","text":"","tags":["misc"]},{"location":"Projects/Misc/old-projects/#raspberry-pi-system-monitor","title":"Raspberry Pi system monitor","text":"<p>I had no idea about modern web development techniques so I was building website with pure HTML, CSS and some PHP.</p> <p>I really liked messing around with raspberry pi's back then and I wanted to monitor them more easily as they were running 24/7 and was publicly accessible.</p> <p>With this monitor I could see the system status more easily. The site would parse system resources, fail2ban logs, ssh logs, open ports and such. If I remember correctly there was more tabs with more features on later versions, but I guess I didn't save those.</p> <p>This is the version 1.1. There is another earlier version 1.0 as well, but I don't have any pictures of that and I don't have any system to run it properly at this time.</p> <p>Some earlier version: </p> <p>Monitor page: </p> <p></p> <p>Repository: https://github.com/protoni/legacy-stuff/tree/master/www/monitor1.1</p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#music-controller","title":"Music controller","text":"<p>This is a simple PHP web page that would control music player through a FIFO system on linux. I don't really  remember much about this or how it worked, but the FIFO system seems interesting.</p> <p>I don't have a preview image or really anything to show other than the code.</p> <p>omx.php <pre><code>&lt;?php\n    if(isset($_POST['play']))\n    {\n        if(!file_exists('/tmp/omx')) exec('mkfifo /tmp/omx');\n        exec('php run.php &gt; /dev/null &amp;');\n        exec(\"echo . &gt; /tmp/omx\");\n    }\n\n    if(isset($_POST['pause']))\n    {\n        shell_exec('echo -n p &gt; /tmp/omx');\n    }\n\n    if(isset($_POST['stop']))\n    {\n        shell_exec('echo -n q &gt; /tmp/omx');\n    }\n\n    if(isset($_POST['volUp']))\n    {\n        shell_exec('echo -n + &gt; /tmp/omx');\n    }\n\n    if(isset($_POST['volDown']))\n    {\n        shell_exec('echo -n - &gt; /tmp/omx');\n    }\n\n\n\n?&gt;\n\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n            &lt;p&gt;Play fuel.mp3 with omxplayer&lt;/p&gt;\n            &lt;button type=\"submit\" name=\"play\"&gt;Play&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n            &lt;button type=\"submit\" name=\"pause\"&gt;Pause&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n            &lt;button type=\"submit\" name=\"stop\"&gt;Stop&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n            &lt;button type=\"submit\" name=\"volUp\"&gt;Vol up&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;form action=\"\" method=\"post\"&gt;\n            &lt;button type=\"submit\" name=\"volDown\"&gt;Vol down&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>run.php <pre><code>&lt;?php\n\nexec('sudo omxplayer -ohdmi /home/pitoni/fuel.mp3 &lt; /tmp/omx');\n\n?&gt;\n</code></pre></p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#linux-stuff","title":"Linux stuff","text":"","tags":["misc"]},{"location":"Projects/Misc/old-projects/#linux-command-helper","title":"Linux command helper","text":"<p>I was starting to use Linux for the first time around the same time when I was learning programming  and I couldn't remember many of the commands so I made this to help me. </p> <p>Sources: <pre><code>#!/usr/bin/env python\n# script to view terminal commands\nimport subprocess\nimport time\nimport argparse\n\n\nsystem = {'uname -a' : 'Display linux system information',\n            'uname -r' : 'Display kernel release information',\n            'uptime' : 'Show how long the system has been running + load',\n            'hostname' : 'Show system hostname',\n            'hostname -i' : 'Display the IP address of the host',\n            'last reboot' : 'Show system reboot history',\n            'date' : 'Show the current date and time',\n            'cal' : 'Show this month calendar',\n            'w' : 'Display who is online',\n            'whoami' : 'Who you are logged in as',\n            'finger user' : 'Display information about user',\n            'Recovery' : 'Type the phrase \"REISUB\" while holding down Alt and SysRq(PrintScrn) with about 1 second between each letter. Your system will reboot.',\n            'lsb_release -a' : 'Get Ubuntu version',\n            'uname -r' : 'Get kernel version',\n            'uname -a' : 'Get all kernel information',\n            'title' : 'SYSTEM'}\n\nhardware = {'dmesg' : 'Detected hardware and boot messages',\n            'cat /proc/cpuinfo' : 'CPU model',\n            'cat /proc/meminfo' : 'Hardware memory',\n            'cat /proc/interrupts' : 'Lists the number of interrupts per CPU per I/O device',\n            'lshw' : 'Displays information on hardware configuration of the system',\n            'lsblk' : 'Displays block device related information in Linux',\n            'free -m' : 'Used and free memory (-m for MB)',\n            'lspci -tv' : 'Show PCI devices',\n            'lsusb -tv' : 'Show USB devices',\n            'dmidecode' : 'Show hardware info from the BIOS',\n            'hdparm -i /dev/sda' : 'Show info about disk sda',\n            'hdparm -tT /dev/sda' : 'Do a read speed test on disk sda',\n            'badblocks -s /dev/sda' : 'Test for unreadable blocks on disk sda',\n            'title' : 'HARDWARE'}\n\nusers = {'id' : 'Show the active user id with login and group',\n        'last' : 'Show last logins on the system',\n        'who' : 'Show who is logged on the system',\n        'groupadd admin' : 'Add group \"admin\"',\n        'useradd -c \"Toni\"' : 'g admin -m ton #Create user \"ton',\n        'userdel ton' : 'Delete user ton',\n        'adduser ton' : 'Add user \"ton\"',\n        'usermod' : 'Modify user information',\n        'title' : 'USERS'}\n\nfile_commands = {'ls -al' : 'Display all information about files / directories',\n                'pwd' : 'Show the path of current directory',\n                'mkdir directory-name' : 'Create a directory',\n                'rm file-name' : 'Delete file',\n                'rm -r directory-name' : 'Delete directory recursively',\n                'rm -f file-name' : 'Forcefully remove directory recursively',\n                'rm -rf directory-name' : 'Forcefully remove directory recursively',\n                'cp file1 file2' : 'Copy file1 to file2',\n                'cp -r dir1 dir2' : \"Copy dir1 to dir2, create dir2 if it doesn't esists\",\n                'mv file1 file2' : 'Rename source to dest / move source to directory',\n                'ln -s /path/to/file-name link-name' : 'Create symbolic link to file-name',\n                'touch file' : 'Create or update file',\n                'cat &gt; file' : 'Place standard input into file',\n                'more file' : 'Output contents of file',\n                'head file' : 'Output first 10 lines of file',\n                'tail file' : 'Output last 10 lines of file',\n                'tail -f file' : 'Output contents of file as it grows starting with the last 10 lines',\n                'gpg -c file' : 'Encrypt file',\n                'gpg file.gpg' : 'Decrypt file',\n                'wc' : 'Print the number of bytes, words, and lines in files',\n                'xargs' : 'Execute command lines from standard input',\n                'xdg-open' : 'The way to \"double-click\" on a file from the command line',\n                'title' : 'FILE COMMANDS'}\n\nprocess_related = {'ps' : 'Display your currently active processes',\n                    \"ps aux | grep 'telnet'\" : 'Find all process id related to telnet process',\n                    'pmap' : 'Memory map of process',\n                    'top' : 'Display all running processes',\n                    'killpid' : 'Kill process with mentioned pid id',\n                    'killall proc' : 'Kill all processes named proc',\n                    'pkill process-name' : 'Send signal to a process with its name',\n                    'bg' : 'Lists stopped or background jobs',\n                    'fg' : 'Brings the most recent job to foreground',\n                    'fg n' : 'Brings job n to the foreground',\n                    'title' : 'PROCESS RELATED'}\n\nfile_permissions = {'chmod octal file-name' : 'Change the permissions of file to octal',\n                    'chmod 777 /data/test.c' : 'Set rwx permission for owner, group, world',\n                    'chmod 755 /data/test.c' : 'Set rwx permission for owner, rw for group and world',\n                    'chown owhen-user file' : 'Change owner of the file',\n                    'chown owner-user:owner-group file-name' : 'Change owner and group owner of the file',\n                    'chown owner-user:owner-group directory' : 'Change owner and group owner of the directory',\n                    'title' : 'FILE PERMISSIONS'}\n\nnetwork = {'ifconfig -a' : 'Display all network ports and ip address',\n            'ifconfig' : 'Show network information',\n            'iwconfig' : 'Show wireless information',\n            'sudo iwlist scan' : 'Scan for wireless networks',\n            'sudo /etc/init.d/networking restart' : 'Reset network for manual configurations',\n            '(file) /etc/network/interfaces' : 'Manual configuration',\n            'ifup interface' : 'Bring interface online',\n            'ifdown interface' : 'Disable interface',\n            'ifconfig eth0' : 'Display specific ethernet port',\n            'ethtool eth0' : 'Linux tool to show ethernet status',\n            'mii-tool eth0' : 'Linux tool to show ethernet status',\n            'ping host' : 'Send echo request to test connection',\n            'whois domain' : 'Get information of domain',\n            'dig domain' : 'Get DNS information for domain',\n            'dig -x host' : 'Reverse lookup host',\n            'host google.com' : 'Lookup DNS ip address for the name',\n            'hostname -i' : 'Lookup local ip address',\n            'wget file' : 'Download file',\n            'netstat -tupl' : 'List active connections to / from system',\n            'nslookup server' : 'Display default gateway',\n            'title' : 'NETWORK'}\n\ncompression = {'tar cf home.tar home' : 'Create tar named home.tar containing home/',\n                'tar xf file.tar' : 'Extract the files from file.tar',\n                'tar czf.tar.gz files' : 'Create a tar with gzip compression',\n                'gzip file' : 'Compress file and renames it to file.gz',\n                'title' : 'COMPRESSION'}\n\ninstall_package = {'rpm -i pkgname.rpm' : 'Install rpm based package',\n                    'rpm -e pkgname' : 'Remove package',\n                    'title' : 'INSTALL PACKAGE'}\n\ninstall_from_source = {'./configure' : ' ',\n                        'make' : ' ',\n                        'make install' : ' ',\n                        'title' : 'INSTALL FROM SOURCE'}\n\nsearch = {'grep pattern files' : 'Search for pattern in files',\n        'grep -r pattern dir' : 'Search recursively for pattern in dir',\n        'locate file' : 'Find all instances of file',\n        'find /home/ton -name \"index*\"' : 'Find files names that start with \"index\"',\n        'find /home -size +10000k' : 'Find files larger than 10000k in /home',\n        'title' : 'SEARCH'}\n\nlogin = {'ssh user@host' : 'Connect to host as user',\n        'ssh -p port user@host' : 'Connect to host using specific port',\n        'telnet host' : 'Connect to the system using telnet port',\n        'title' : 'LOGIN'}\n\nfile_transfer = {'scp file.txt server2:/tmp' : 'Secure copy file.txt to remote host /tmp folder',\n                'rsync -a /home/apps /backup/' : 'Synchronize source to destination',\n                'title' : 'FILE TRANSFER'}\n\ndisk_usage = {'df -h' : 'Show free space on mounted filesystems',\n            'df -i' : 'Show free inodes on mounted filesystems',\n            'fdisk -l' : 'Show disks partitions, sizes and types',\n            'du -ah' : 'Display disk usage in human readable form',\n            'du -sh' : 'Display total disk usage on the current directory',\n            'title' : 'DISK USAGE'}\n\ndirectory_tranverse = {'cd ..' : 'To go up one level of the directory tree',\n                        'cd' : 'Go to $HOME directory',\n                        'cd /test' : 'Change to /test directory',\n                        'title' : 'DIRECTORY TRANVERSE'}\n\nprivileges = {'sudo command' : 'Run command as root',\n            'sudo -s' : 'Open a root shell',\n            'sudo -s -u user' : 'Open a shell as user',\n            'sudo -k' : 'Forget sudo passwords',\n            'gksudo command' : 'Visual sudo dialog (GNOME)',\n            'kdesudo command' : 'Visual sudo dialog (KDE)',\n            'sudo visudo' : 'Edit /etc/sudoers',\n            'gksudo nautilus' : 'Root file manager (GNOME)',\n            'kdesudo konqueror' : 'Root file manager (KDE)',\n            'passwd' : 'Change your password',\n            'title' : 'PRIVILEGES'}\n\ndisplay = {'sudo /etc/init.d/gdm restart' : 'Restart X and return to login (GNOME)',\n            'sudo /etc/init.d/kdm restart' : 'restart X and return to login (KDE)',\n            '(file) /etc/X11/xorg.conf' : 'Display configuration',\n            'sudo dexconf' : 'Reset xorg.conf configuration',\n            'Ctrl+Alt+Bksp' : 'Reset X display if frozen',\n            'Ctrl+Alt+FN' : 'Switch to tty N',\n            'Ctrl+Alt+F7' : 'Switch back to X display',\n            'title' : 'DISPLAY'}\n\nsystem_services = {'start service' : 'Start job service (Upstart)',\n                    'stop service' : 'Stop job service (Upstart)',\n                    'status service' : 'Check if service is running (Upstart)',\n                    '/etc/init.d/service start' : 'Start service (SysV)',\n                    '/etc/init.d/service stop' : 'Stop service (SysV)',\n                    '/etc/init.d/service status' : 'Check service (SysV)',\n                    '/etc/init.d/service restart' : 'Restart service (SysV)',\n                    'runlevel' : 'Get current runlevel',\n                    'title' : 'SYSTEM SERVICES'}\n\npackage_management = {'apt-get update' : 'Refresh available updates',\n                        'apt-get upgrade' : 'Upgrade all packages',\n                        'apt-get dist-upgrade' : 'Upgrade with package replacements; upgrade Ubuntu version',\n                        'apt-get install pkg' : 'Install pkg',\n                        'apt-get purge pkg' : 'Uninstall pkg',\n                        'apt-get autoremove' : 'Remove obsolete packages',\n                        'apt-get -f install' : 'Try to fix broken packages',\n                        'dpkg --configure -a' : 'Try to fix broken packages',\n                        'dpkg -i pkg.deb' : 'Install file pkg.deb',\n                        '(file) /etc/apt/sources.list' : 'APT repository list',\n                        'title' : 'PACKAGE MANAGEMENT'}\n\nfirewall = {'ufw enable' : 'Turn on the firewall',\n            'ufw disable' : 'Turn off the firewall',\n            'ufw default allow' : 'Allow all connections by default',\n            'ufw default deny' : 'Drop all connections by default',\n            'ufw status' : 'Current status and rules',\n            'ufw allow port' : 'Allow traffic on port',\n            'ufw deny port' : 'Block port',\n            'ufw deny from ip' : 'Block ip address',\n            'title' : 'FIREWALL'}\n\nsections = {'a' : system, 'b' : hardware, 'c' : users, 'd' : file_commands,\n            'e' : process_related, 'f' : file_permissions, 'g' : network,\n            'h' : compression, 'i' : install_package, 'j' : install_from_source,\n            'k' : search, 'l' : login, 'm' : file_transfer, 'n' : disk_usage,\n            'o' : directory_tranverse, 'p' : privileges, 'q' : display,\n            'r' : system_services, 's' : package_management, 't' : firewall}\n\nall_sections = [system, hardware, users, file_commands, process_related, file_permissions, network, compression,\n                install_package, install_from_source, search, login, file_transfer, disk_usage, directory_tranverse, privileges,\n                display, system_services, package_management, firewall]\n\n# this prints out the command sections\ndef write(dictionary, title, speed):    \n    subprocess.call(['echo', '-e', \"\\033[0m \\n \\t %s \\n\" % title])\n    for command, description in dictionary.iteritems():\n        if command != 'title':\n            subprocess.call(['echo', '-e', \"\\033[31m %s \\033[0m- %s\" % (command, description)])\n            time.sleep(float(speed))\n\n# if option is 'all', this iterates through all of the sections\ndef iterate_dictionarys(commands, speed):\n    for dictionary in all_sections:\n        title = dictionary['title']\n        write(dictionary, title, speed)\n\n# if option is 'help', this prints out a help text\ndef help():\n    subprocess.call(['echo', '-e', \"\\033[0m \\n \\t give the letter as an argument\"])\n    subprocess.call(['echo', '-e', \"\\033[0m \\t (type -s [seconds] to set print speed) \\n\"])\n    subprocess.call(['echo', '-e', \"\\033[31m %s \\033[0m- %s\" % ('all', 'SHOW ALL')])\n    for prefix, dictionary in sorted(sections.iteritems()):\n        subprocess.call(['echo', '-e', \"\\033[31m %s \\033[0m- %s\" % (prefix, dictionary['title'])])\n\n# handle system arguments\nparser = argparse.ArgumentParser()\nparser.add_argument('option', nargs = '?')\nparser.add_argument('-s', '--speed')\nparser.add_argument('second', nargs = '?')\nargs = parser.parse_args()\ndictionary = None\nif args.speed == None:\n    speed = 0\nelse:\n    speed = args.speed\nif args.option in sections.keys():\n    dictionary = sections[args.option]\n    title = dictionary['title']\n    write(dictionary, title, speed)\nelif args.option == 'all':\n    iterate_dictionarys(all_sections, speed)\nelif args.option == 'help':\n    help()\nelse:\n    subprocess.call(['echo', '-e', \"\\033[0m You must give an argument, type help to see the options\"])\n</code></pre></p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#other","title":"Other","text":"","tags":["misc"]},{"location":"Projects/Misc/old-projects/#bbs-image-scraper","title":"BBS image scraper","text":"<p>I wrote this image scraper for MuroBBS, a finnish BBS forum I used to read back then. I just tested it and seems to work still.</p> <p>I guess the idea was that I would be able to limit my time on the forum if I just scraped full threads for images and If I found a interesting image, I could go straight to that page as the images are named as the page number.</p> <p>Usage: </p> <p>Images found on pages 110 - 119 </p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#clapswitch","title":"Clapswitch","text":"<p>Testing a clapswitch made with 8bit PIC microcontroller. I think the condenser microphone acted as a way to pull a  pull-up resistor low and then PIC would count low IO pin as a clap.</p> <p>Clapswitch controlled music on raspberry pi through GPIOs. Raspberry pi had an GPIO listener and when IO changed it would start a music player.</p> <p>Testing the clapswitch.</p> <p>Flashing the microcontroller </p>","tags":["misc"]},{"location":"Projects/Misc/old-projects/#radial-drill-controller-fix","title":"Radial drill controller fix","text":"<p>Not programming related but this happened around the same time as everything else on this page and it's pretty interesting so I'll add this as well.</p> <p>I was in this short automation installer training course and they made me fix this old radial drill. The schedule on the course was tight and we had very limited time in the workshop to put in practice what we had learned in the theory class, but I had to dedicate huge amount of that to re creating this 50 years old  radial drill controller circuit.</p> <p>Foradia radial drill </p> <p>Old controller circuit</p> <p>Those aren't normal copper wires, they are very thick and solid iron wires with some insulator on. </p> <p>Wiring the new board </p> <p>Fitting the new controller in </p> <p>New controller fitted in </p> <p>Old hand drawn schematics </p> <p>Schematics dating back to december 1967 </p> <p>Rectifier bridge and a capacitor</p> <p>Some debugging was needed. Old 230V -&gt; 24V AC to AC transformer was used and I think one of the new contactor coils required DC voltage. </p>","tags":["misc"]},{"location":"Projects/Misc/test-pages/page2/","title":"Test page","text":"<p>Code block: <pre><code>code\nhere\n</code></pre></p>"},{"location":"Projects/Misc/wow-addons/","title":"Custom addons for WoW","text":"","tags":["Misc"]},{"location":"Projects/Misc/wow-addons/#description","title":"Description","text":"<p>Found these few old videos from the classic wow launch when I was testing the WoW LUA API. </p> <p>Idea was to create a <code>Purge addon</code> similar to <code>Steal&amp;Purge</code> from later expansions. At some point I realized that in classic, you can't see the enemy faction's buffs so it became relatively pointless idea and I stopped working on it.</p> <p>The second addon was more of a general framework for rendering addon UIs. Or at least that's how it ended up as.</p>","tags":["Misc"]},{"location":"Projects/Misc/wow-addons/#testing","title":"Testing","text":"","tags":["Misc"]},{"location":"Projects/Misc/wow-addons/#code","title":"Code","text":"<ul> <li>World of Warcraft API<ul> <li>https://wowpedia.fandom.com/wiki/World_of_Warcraft_API</li> </ul> </li> <li>First addon<ul> <li>This was the first test of the API, code is messy and unorganized. Also my   first time writing LUA.</li> <li>https://github.com/protoni/dispel-addon</li> </ul> </li> <li>Second addon<ul> <li>Here I tried to organize the code a bit better. For example to have some   sort of interface for the window rendering stuff, separate from the addon   functionality. Also resizable windows etc.</li> <li>https://github.com/protoni/aasi-addon</li> <li>I don't have pictures/videos of this addon</li> </ul> </li> </ul>","tags":["Misc"]},{"location":"Projects/Motorcycles/rd350/","title":"RD350","text":"","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#description","title":"Description","text":"<p>Yamaha RD350 was my first motorcycle, a 350cc, twin cylinder, 2 stroke engine from the year 1988.  The full name is Yamaha RD350 YPVS F2 -88, 1WT engine. I have had it since 2015.</p> <p>Super fun bike to drive. It's very lightweight and power wheelies on first gears.</p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#specs","title":"Specs","text":"<ul> <li>350cc twin cylinder 2 stroke, 1WT engine</li> <li>Jolly moto exhaust</li> <li>V-Force reed valves</li> <li>2x 28mm Mikuni flat slide carburetors</li> <li>Zeeltronic PCDI-10VT programmable ignition and exhaust valve controller</li> <li>Iridium spark plugs</li> <li>~63HP on rear wheel</li> <li>Dry weight ~110 - 120kg ( This is an estimate, original dry weight is 141kg)</li> </ul>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#before-and-after","title":"Before and after","text":"<p>The after state is still missing rear fairings + rims and front fender should be painted. Also the bike has not been cleaned in a while.</p> <p>On the left, the day I bought it and on the right some years later. </p> <p>The bike also looked like this for a couple of years, but the rear fairing's fasterners kept breaking up from all the vibration, so I didn't want to keep fixing them. Also It's nice to change the look of the bike every now and then. </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#restoration-summary","title":"Restoration summary","text":"<p>The bike was undriveable when I got it and required a lot of work to fix it. It had countless problems, but the main issues that the bike had were here: - Gas tank was covered in rust inside - Gas lines and carburetors were covered in rust because of the gas tank. - Carburetor settings were way off, engine didn't rev or run idle. - Didn't rev or idle at all, also oil mixture was so bad that you couldn't see through the smoke from the exhaust. - Didn't know the condition of the crank or the gearbox so engine overhaul was needed. - Steering head bearing was completely done so that the handlebar couldn't be properly moved. - Front fork oil seals were leaking. - Bad battery - Fairings had bad paint and looked like crap so new fairings and seat were needed and a paint job. - A lot of weird \"fixes\" that the old owner had done which needed to be fixed again.</p> <p>The bike had been sitting in a garage for the past 5+ years before I bought it so a complete engine rebuild  and overhauling pretty much every part of the bike was necessary.</p> <p>Didn't take too long until the bike was in this condition after buying it: </p> <p>Can't remember all the details from the rebuild since I'm writing this 5 years after these photos.  I'm just going through my old photos, adding some of them here and write what I can remember.</p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#front-forks","title":"Front forks","text":"<p>Front forks removed </p> <p>Changing the front fork seals. </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#steering","title":"Steering","text":"<p>Old top yoke steering bearing. The bike didn't handle very well because the steering bearing had some damage done to it. The steering would get a little bit stuck everytime when the handle bar was straight. </p> <p>New steering bearing fitted. New bearings were these taper roller bearings, old ones were ball bearings. </p> <p></p> <p>New top yoke. Had to buy it to be able to install a new handlebar that I bought.  New handlebard wouldn't fit straight in because the old top yoke was meant for clip-on handle bars. </p> <p>Fitting in a new handlebar. Though later on I have changed it to a different one. </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#rear-swingarm","title":"Rear swingarm","text":"<p>Rear swingarm, linkage and shocks looked like they had seen alot so I took them apart, bought new spacers + other parts and added new lubrication.</p> <p>Taking the rear swingarm apart. </p> <p>Axle and spaces removed </p> <p>Rear shock </p> <p>Rear swingarm cleaned </p> <p>Rear swingarm, linkage and shock cleaned. </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#engine-and-transmission","title":"Engine and transmission","text":"<p>The engine didn't run very well and it was crazy to even run the engine without knowing the condition of it. The engine had been sitting still for 5 years so it had to be taken apart and refurbish it.</p> <p>Exhaust valve cable adjuster cover was broken, had to find a replacement from ebay </p> <p>Taking the engine apart </p> <p>Engine had probably seized at some point, piston and cylinder barrels didn't look so good </p> <p></p> <p>Scratches in the cylinder barrel. I had to send the cylinders to a machine shop so they could refurbish  the cylinders by drilling a bigger hole in it. </p> <p>Cleaning YPVS exhaust valves. Later on I ordered used YPVS valves from ebay. They arent cheap.. </p> <p>Next, taking the crank case apart. Starting from the clutch. </p> <p></p> <p>Had to make a tool to hold the clutch in place while loosening the nut + a little leverage for the ratchet \ud83d\ude01. </p> <p>Behind the clutch </p> <p>On the other side, removing the magneto. </p> <p>Magneto removed </p> <p>Taking the crank case apart </p> <p>Crank case open </p> <p>Crank and gearbox disassembled </p> <p>Outer crank bearings were making noise so the crank had to be sent to the machine shop with the cylinders. Crank was also measured properly in the machine shop to make sure it wasn't bent.</p> <p>New pistons. Cylinder + crank arrived from the shop. </p> <p>New V-Force reed valves for crispier revving. </p> <p>Complete Gasket set, clutch plates + clutch springs and exhaust valve seal kit </p> <p>Refurbished cylinder </p> <p>Refurbished crank </p> <p>One of the crank bearings was not properly in place when it arrived from the shop, no biggie. </p> <p>A little crank bearing adjustment </p> <p>Assembling the crank case and gearbox </p> <p>Putting crank cases back together with some gasket sealant </p> <p>Building the clutch. </p> <p>Clutch plates in place </p> <p>Building the top of the engine </p> <p>Placing the piston rings to the cylinder to measure the piston ring clearance </p> <p>Measuring piston ring clearance </p> <p>Pistons and piston rings in place </p> <p>Cylinders in place </p> <p>Placing the cylinder head gasket </p> <p>Assembling the cylinder head </p> <p>Assembling the coolant hose and reed valves </p> <p>Engine pretty much built up, thermostat missing still </p> <p>Engine in place </p> <p>Transmission oil, coolant liquid and 2 stroke oil. Carburetors, cooling system, YPVS and so on had to be assembled  at this point also, didn't take pictures though, not that interesting. At the background there is one of the carburetors diving in diesel to clean it, more on this in the tank and fuel lines section. </p> <p>First start ! \ud83d\ude0e </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#exhaust","title":"Exhaust","text":"<p>Got to have some performance exhaust on two strokers. More lightweight, more power, better sounds. I didn't find any recordings of my own of jolly moto pipes on RD, but here are some youtube clips:</p> <ul> <li>https://www.youtube.com/watch?v=f0G3IVtEQms ( Dyno clip, I have pretty much same specs as this bike )</li> <li>https://www.youtube.com/watch?v=iK_on_AbUfI ( Driving clip, bigger carburetors though )</li> </ul> <p>Received the exhaust </p> <p>Jolly moto wouldn't sell straight from the factory so I had to contact some swedish moped shop and order the pipes trough them, they added some stickers and sunglasses to the package. </p> <p>Jolly moto performance exhaust </p> <p>Left pipe wouldn't fit because the spring holder on the kick stand would get in the way. </p> <p>I relocated the spring holder by welding it to the other side of the kick stand </p> <p>Exhaust fitted </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#tank-and-fuel-lines","title":"Tank and fuel lines","text":"<p>Most annoying part of this whole project was trying figure out how to remove the rust from the gas tank. The rust would immediately clog the fuel filters and the jets in the carburetors. I battled with this problem for weeks and tried several different methods.</p> <p>Rust in the carburetor float bowl. This thick rust/fuel/oil mixture would clog the jets immediately. </p> <p>Also the jets were in very bad shape. Probably not due to rust though. They had this weird coating on. </p> <p>The needle jet broke way too easily. </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#removing-the-rust","title":"Removing the rust","text":"<p>Method number 1. I bought a liter of this expensive rust removal chemical from the local hardware store.</p> <ul> <li>https://m.motonet.fi/fi/tuote/602124/Dinitrol-Annitrol-Ruosteenpoistoaine-1l</li> </ul> <p>First I removed the fuel tap and replaced it with this piece of plexi glass and an o-ring to prevent the chemical from flowing out. </p> <p>The problem with this one was that this would only cover only a small portion of the gas tank.  The chemical has to sit still for hours so doesn't help if you shake the tank. </p> <p>Chemical removed. It did remove the rust from where the chemical was and a clear line with rust can be seen. </p> <p>The tank had to be placed in all positions and hope that the chemical would clean the whole tank. </p> <p></p> <p>Placing the tank in different positions didn't really help because the spot where the chemical removed the rust  would start to just rust almost immediately after removing the chemical.</p> <p>Tried to check the tank for rust with this camera + light setup. </p> <p>Lots of rust can be seen in the camera view on the laptop </p> <p>So I had to give up with this one and come up with something better.</p> <p>Method number 2. I went to a local agri market and bought 4 kilos of citric acid. This can be mixxed up with water so that it covers the whole tank.</p> <p>First I decided to put some screws to the tank so I could shake the tank and remove the biggest rust sections. </p> <p>The screws worked quite well and I was able to remove this pile of rust from the tank </p> <p>Filled the tank with citric acid and water mixture </p> <p>I made a custom cap for the tank so that the acid would not break the seals on the normal fuel tank cap. </p> <p>I let it sit there for a day, removed the acid and I could see the tank rusting before my eyes. So that didn't work out either. </p> <p>Method number 3. I found this tank rust removal and zincing kit online for about 60\u20ac and decided to try it. Can't remember the name of the kit sadly, it was the method that finally worked. </p> <p>It had 3 parts, some rust removal chemical, some sort of anti rust chemical and finally a zinc paint. </p> <p>The rust removal chemical would need to be added to the tank and shake it properly so that every part of the tank is covered. Then drain out the rust removal chemical and add the anti rust chemical, again proper shaking required. Drain out the anti rust chemical and finally add the zinc paint to the tank and make sure the zinc covers every part of the tank.</p> <p>Draining the zinc paint out of the tank. </p> <p>The result </p> <p>I checked the insides of the tank last year ( 2019 ) and the zinc has stayed in there with zero rust. I added the zinc in the tank in 2015.</p> <p>Taking the carbs apart </p> <p>Cleaning the jets and other parts </p> <p>Cleaning the fuel tap </p> <p>I eventually changed the fuel tap entirely. Don't remember why, maybe it was broken or impossible to clean. Original Yamaha fuel tap. </p> <p>Cleaning the carbs by placing them into diesel </p> <p></p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#fairings-and-paint","title":"Fairings and paint","text":"<p>I think the bike looked like crap when I bought it so it had to be painted. Also the last owner build the rear fairing using wood and what not so it weighted a ton. Had to buy new fairings because of it.</p> <p>Took apart the wooden rear fairing thing from the last owner. </p> <p>Found these original rear fairings from ebay </p> <p>I hunted for this little piece for a month from the internet and this cost something like 75\u20ac!  It belongs to the back of the seat, to the rear fairings connecting the right and left side.</p> <p>Didn't know anyone with a 3d printer at the time, it would have been a lot cheaper and faster to just print one.</p> <p>I had to also buy a new seat ( back there in the box ) because the old owner sawed the old seat in half to fit the wooden rear fairing.  </p> <p>Got a new seat cover aswell </p> <p>Removing the old seat cover </p> <p>Old seat cover removed </p> <p>New seat cover fitted to the seat. It is stapled on. </p> <p>Testing how the seat would look like </p> <p>Having some paints made at a paint shop, trying to select a color closest to the white leather on the seat cover. </p> <p>Had these paint cans made. They are proper car paint in a spray can. There's also a primer, a lacquer  and some acetone for cleaning the fairings and tank before painting. </p> <p>Removing paint from the tank </p> <p>Sanding the fairings to get rid of the old paint </p> <p></p> <p>Fixing some bumps and scratches with filler </p> <p>Fairings and tank ready for painting </p> <p>Fairings painted </p> <p></p> <p>Tank painted </p> <p></p> <p>Comparing the result to the front light mask </p> <p>Comparing the result to the seat cover </p> <p>Putting it all together </p> <p></p> <p>I was too lazy to sand the front fender because it is more a complex shaped piece so I didn't paint it. I thought I would paint it later but at least haven't yet painted it 5 years later.</p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#wheels","title":"Wheels","text":"<p>Original rear rim had a huge bump in it so it would wobble a lot while driving, new ones had to be hunted from ebay. </p> <p>Bought rims on ebay </p> <p>Found a pair of rims with tires and brake disks </p> <p>Cleaned them and changed the wheel bearings </p> <p></p> <p>Also changed the sprockets and bought a new chain </p> <p>Checking what would they look like fitted in </p> <p></p> <p>Rims changed </p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#electronics","title":"Electronics","text":"<p>Old meters and headlight looked awful without front fairings and weighted a ton, so I decided to install a lightweight mask ligth. </p> <p>Old wirings were a mess. Also includes all sorts of weird connections done by the old owners during the last 30 years. </p> <p>New mask, blinkers and speed meter. I also bought a temperature meter for the liquid coolant  ( Temperature sensor is in the cylinder head, measuring the liquid coolant ) </p> <p>Koso speed meter </p> <p>Testing the speed meter </p> <p></p> <p>Testing the front light. </p> <p>Testing the arrow head blinkers </p> <p>Had to change this old blinker relay as well to make the new LED blinkers work. </p> <p>Testing temperature meter </p> <p>Installed this programmable ignition + exhaust valve control system. Also bought it with this handheld programmer tool ( Zeeltronic PCDI-10VT ). </p> <p></p> <p></p> <p>I installed it so that I could easily just remove the seat, plug in the programmer and adjust settings. </p> <p>With the zeeltronic programmer, I can adjust the ignition timings and at which rpm area will the exhaust valve start to open and close.</p>","tags":["motorcycles"]},{"location":"Projects/Motorcycles/rd350/#summary","title":"Summary","text":"<p>I have been writing this post quite some time now, mainly because finding good pictures from the old albums is time consuming, I think it's best to end the post here.</p> <p>These pictures include the main things I did during the restoration, but I have countless of pictures from after the restoration because 30 year old bikes tend to break alot. Especially 2 stroke engines with a driving style like mine and when the total amount driven with this is somewhere around 80 000km. </p> <p>To be honest the bike has been like this for the past 2 yers. Though I drove something like 12 000km with it before this state. Also I had to open the engine at least once during those 12 000 kilometers.  The engine has been in the back of my garage since the head gasket blew up.</p> <p>Didn't find motivation to rebuild the engine yet since one of the cylinder head bolts has bigger threads than what can fit through the head gasket, which is 3 layered metal gasket so it's not easy to drill it bigger without having the edges of the bolt holes thickening.</p> <p>I have had all the required parts to fix it for a while now. Maybe during the next winter I'll finally fix it, not that big of a deal especially after this sort of restoration.</p>","tags":["motorcycles"]},{"location":"Projects/Web/git-pages/","title":"Git pages","text":""},{"location":"Projects/Web/git-pages/#description","title":"Description","text":"<p>Some notes on how to setup a Github Pages website that is hosted on and served from a public Github repository.</p> <p>Upsides are that it's pretty effortless to maintain and add new content with Github CI pipeline ( auto build/deploy site ) and it is free ( if using default 'user.github.io/repo' domain ). </p> <pre><code># My workflow with this setup if usually something like this:\n1. Move to the local repository\n2. code .\n3. Open a file and 'Open preview to the side'\n4. Edit some notes\n5. Commit and push\n\n# Occasionally, instead of 'open preview to the side' I use 'mkdocs serve'\n# to run a local web page if I need to see how the formatting, table of contents\n# and other layout related things look like\n</code></pre>"},{"location":"Projects/Web/git-pages/#tools-needed","title":"Tools needed","text":"<ul> <li>Github account</li> <li>Git</li> <li>Git LFS ( Needed for images, videos and other binary data )</li> <li>Python</li> </ul>"},{"location":"Projects/Web/git-pages/#setup-git-and-git-lfs","title":"Setup git and git lfs","text":"<pre><code># Setup Git\nhttps://git-scm.com/download/win\n\n# Create a common folder where your Git repositories go, for example\nC:/work/git/\n\n# Install Git LFS\nhttps://git-lfs.com/\n\n# You should have 'Git Bash' installed in Windows, open it and\ncd /c/work/git\n\n# Setup Git LFS\ngit lfs install\n\n# Add files to LFS separately by filetype\ngit lfs track \"*.png\" \ngit lfs track \"*.jpg\" \n\n# OR add all binary data to same folder and add only that\ngit lfs track \"binary_data_folder/**\"\n</code></pre>"},{"location":"Projects/Web/git-pages/#setup-env","title":"Setup env","text":"<pre><code>python -m venv venv\nsource venv/Scripts/activate\n\n# Install dependencies\npip install mkdocs-material\n\n# ( Optional ) Install other dependencies\npip install mkdocs-git-revision-date-localized-plugin\npip install mkdocs-glightbox\n\n# Create new project\nmkdocs new .\n\n# Run local page:\nmkdocs serve\n\n# Note: If you are hosting images externally, access the website using localhost,\n# instead of 127.0.0.1, otherwise the images won't show up for some reason.\n</code></pre>"},{"location":"Projects/Web/git-pages/#setup-builddeploy-pipeline","title":"Setup build/deploy pipeline","text":"<pre><code># Create Git workflow setup\nmkdir projects/.github/workflows\ntouch ci.yml\n\n\n# Add to ci.yml:\nname: ci \non:\n  push:\n    branches:\n      - master \n      - main\npermissions:\n  contents: write\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n        with:\n          lfs: true\n      - uses: actions/setup-python@v4\n        with:\n          python-version: 3.x\n      - uses: actions/cache@v2\n        with:\n          key: ${{ github.ref }}\n          path: .cache\n      - run: git lfs checkout\n      - run: pip install mkdocs-git-revision-date-localized-plugin\n      - run: pip install mkdocs-glightbox\n      - run: pip install mkdocs-material \n      - run: mkdocs gh-deploy --force\n</code></pre> <p> Note: <code>lfs: true</code> this did not work for me, had to add the <code>- run: git lfs checkout</code> step to make Git Pages load images from Git LFS</p>"},{"location":"Projects/Web/git-pages/#add-content","title":"Add content","text":"<pre><code># Project structure is as follows:\n- .github/\n  - workflows/\n    - ci.yml\n- docs/\n  - Projects/ # Name can be whatever\n    - Project/ # Name can be whatever\n      - git-pages.md # Name can be whatever, this will Show up as 'Git pages' link\n  - stylesheets/ # Optional, for custom themes\n    - styles.css\n  - venv/ # Created by python, add to .gitignore\n  - index.md # This is the home page\n- .gitignore\n- .gitattributes\n- mkdocs.yml\n\n# Create the above file structure and keep adding Project/ folders and .md files\n# under them. Alternatively, you can create sub folders under the Projects/ to\n# add gategories\n</code></pre> <p>For example, this page is just a markdown file here:</p> <p>https://github.com/protoni/projects/blob/main/docs/Projects/Web/git-pages.md</p>"},{"location":"Projects/Web/git-pages/#setup-custom-domain-name-eg-protonifi","title":"Setup custom domain name ( e.g. protoni.fi )","text":"<p>I have added some notes on my notes/ site on how to setup custom domain and email</p> <p>https://protoni.fi/Notes/network/#domains</p>"},{"location":"Projects/Web/component-storage/","title":"Component storage","text":"<p>Building a component management system.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#background","title":"Background","text":"<p>So I have accumulated a bit of a collection of electronic components, developer boards and all sorts of electronics parts for various projets and managing these has been a mess so far. Most of them are still in these boxes that they were delivered in, lying around in my place. I have managed to label a small portion of them with a part number and added them to an excel sheet, but I'm not really satisfied with this solution.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#alternatives","title":"Alternatives","text":"<p>I also tried a bunch of free component management systems and everytime they seemed to be missing some key functionality that I need/want.  There was a one potential open source component management system called Partkeepr that seems to have everything. </p>","tags":["web"]},{"location":"Projects/Web/component-storage/#setting-up-partkeepr","title":"Setting up Partkeepr","text":"<ul> <li> <p>I tried setting that up first to my Windows machine, got a bunch of errors and on the website it says: Windows is not supported, so proceed on your own risk. so I gave up on that idea.</p> </li> <li> <p>Then I decided to try to install it on a VPS ( virtual private server ). Spinned up my droplet on DigitalOcean and tried to setup Partkeepr there. Turns out that the composer tool that the setup uses, requires something like 4GB of RAM to work.  That would be pretty costly to run on a VPS.</p> </li> <li> <p>Lastly I setup my raspberry pi, hoping that I could run Partkeepr on that. I spent the whole night trying to get the partkeepr to work. I wrote my notes here, although they got left unfinished:</p> </li> <li>https://protoni.fi/Notes/random/?h=partkeep#partkeepr-setup</li> </ul> <p>127 lines of notes.</p> <p>If I remember correctly at the end I had an issue where the install system would complain about some parameters.php file not being on the file system, and to generate that said file, I must visit the install system that doesn't work without that file..</p> <p>Then I noticed that on the PartKeepr website there are instructions on how to run PartKeepr from Git. The instructions were pretty short so I decided to try that.  Again, errors after errors so I just gave up. Maybe I was doing something very wrong here or it just really is a overly complex system. The project owners also seem to have stopped maintaining the project 3 years ago.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#conclusion","title":"Conclusion","text":"<p>I finally started developing my own component storage solution using React front end + NodeJS backend.  Mainly to just learn/re-learn React and refresh my memory on javascript world. This was my decision anyway even before trying open source / free alternatives. It's probably not going to be very fancy, just a simple website that supports the few functionalities that I actually need from such a system.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#current-system","title":"Current system","text":"<p>Old component management system (.csv file)</p> <p></p> <p>Components labeled with a part number</p> <p>I decided on the part numbering system years ago without giving it much of thought and I'm too lazy to change it at this point. Basically all the dev boards, shields and so on has a 'A' prefix, electronic components has a 'B' prefix, misc parts has a 'C' prefix. The numbers just increment from 1. </p> <p>In the component storage system I'll probably add zero padding to the front of the part number to make them all equal lengths. So the part numbers will be something like B0000137, B0000007 and so on. The label it self doesn't need the zero padding. </p> <p>Storage organizers for the parts</p> <p>Bought these storage organizers for this project + theres a bunch of boxes and bags waiting to get in to the system. </p>","tags":["web"]},{"location":"Projects/Web/component-storage/#setup","title":"Setup","text":"<p>React front end up</p> <p>Copy pasted some basic React setup from one of my old projects that was left unfinished.  Basic routing for the navigation bar was done already and some styles + themes to make the site not look like a blank white page,  just had to scrap some stuff away to make it a good starting point for this project. </p> <p>Added some input fields for the component. These field names and component info will most likely change as I develop this further. </p> <p>Backend call</p> <p>Got a basic NodeJS backend setup  up and testing the connection with React to the backend. Front-end is running on http://localhost:3000/ and Backend on http://localhost:3001/. </p> <p>MySQL database</p> <p>Got a database setup for the project. I got the backend code from my old project as well, which also used mysql for a database so after a few struggles I got a data flowing from the front end to the database. </p> <p>I just noticed that also the database seems to still include a table called 'blog_posts' from the old project, even though I just installed the MySQL server \ud83d\ude01 Not sure if old backend code managed to do a backend call or are the databases saved to the same place and the old tables were loaded. </p> <p>Raspberry pi</p> <p>I flashed a new Linux image to a SD card and booted it with one of the raspberry pi's that I have lying around. I got the React + NodeJS + MySQL setup to run on there as well but building the code is so slow so I moved my dev environment to my Windows machine.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#adding-basic-functionality","title":"Adding basic functionality","text":"","tags":["web"]},{"location":"Projects/Web/component-storage/#list-all-components","title":"List all components","text":"<p>Couldn't really decide on what to work on first, so I decided to build a dynamic table to show all the components.  There is no pagination yet though, I'll probably do that later when I start to have lots of actual components in the database.  I'm using React bootstrap front-end framework for the project and it seemed to have a ready made pagination component so I'll probably use that one. </p>","tags":["web"]},{"location":"Projects/Web/component-storage/#adding-components","title":"Adding components","text":"<p>I decided to hide the 'add component' functionality to a modal. I don't really like to use modals but for this I think it's better than to redirect to another page for example. Also some sort of drop downs for long forms are annoying. </p> <p>..I really have no idea how to develop websites or what is a good user experience, I just try to get things to work first and then make them better (maybe). </p> <p>Component view</p> <p>The component listing without any input fields is a bit more clear now I think. Clicking 'Add' button will open the modal that contains input fields to add a component. </p> <p>New layout</p> <p>Native html fields were ugly and the layout was kind of all over the place so I decided to work on that a little. This uses the React bootstrap input forms. </p>","tags":["web"]},{"location":"Projects/Web/component-storage/#attachments","title":"Attachments","text":"<p>One functionality that wasn't done very well or was missing completely from the free alternatives, is the ability to attach files to a component. For example images, datasheets, example code/drives and various zip files.</p> <p>Testig drag and drop file upload</p> <p>Dragging and dropping a file on the \"Try dropping files here..\"-text and console logging the file object. </p> <p>Preview images when dropped </p> <p>Sending the files to the backend for storing</p> <p>Using requests from superagent package to handle the file upload. File storage is a folder on the repository for now ( added in .gitignore).</p> <p></p> <p>Preview support for other file types </p> <p>Styling the drag and drop box </p> <p>Upload folder structure</p> <p>A folder is created to the main filestorage for each component that has file attachments.  Folder name is the part number ( ID field in the table ) of the component. </p> <p>Summary</p> <p>It was a bit more complex to make this work than I originally thought. Some key notes: - Basically when a component is added, the input field data, and all the files are sent as a separate requests to the backend. - I couldn't figure out how to add the part number or some ID to the file post request. - The file upload requests sometimes ended up to the backend first and since they are without an ID they need to wait for the component data request to arrive.</p> <p>The file upload still needs some work, but it's good enough at least for now.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#view-component","title":"View component","text":"<p>Part number ( 'ID' column currently ) is a clickable link that is routed to a component's own view </p> <p>Component view + storage folder</p> <p>A placeholder layout for a single component view page + component's file structure </p> <p>Download files</p> <p>Attachment file can be downloaded by clicking the filename. </p>","tags":["web"]},{"location":"Projects/Web/component-storage/#summary","title":"Summary","text":"<p>I have been working on this project for a week now, a couple of hours in the evenings and it seems to be moving forward quite nicely, learned a lot so far. I'll probably end this post here and do a some 'component storage update' post when I have more progress done and pictures taken. </p> <p>I don't like to keep writing these posts as I go along with the projects so I just write these in one sitting and be done with them. I just decided that this is a good break point to write things down before I forget them.</p> <p>The component storage system obviously has alot of things left to do and a few key functionalities missing like search and an edit component functions, more on that in the TODO section.</p>","tags":["web"]},{"location":"Projects/Web/component-storage/#todo","title":"TODO","text":"<p>Not a complete list, just throwing things here from the top of my head.</p> <ul> <li>[x] Setup dev env</li> <li>[x] Front-end and backend setup</li> <li>[x] Preliminary component listing page</li> <li>[x] Preliminary component view page</li> <li>[x] Preliminary component add function</li> <li>[x] Preliminary file uploader</li> <li>[x] File handling on the backend</li> <li>[ ] Search component-function</li> <li>[ ] Edit component-function</li> <li>[ ] Figure out proper names for component data fields</li> <li>[ ] Add proper layout for the single component view page.</li> <li>[ ] File upload system in 'add component' view needs an option to select thumbnail picture</li> <li>[ ] Item type selector to the 'add component'-view ( component, dev board, misc ).</li> <li>[ ] Change input fields based on the type in the 'add component'-view.</li> <li>[ ] Add tests</li> <li>[ ] Remove files-button in add component-view.</li> <li>[ ] Re-structure backend code</li> <li>[ ] Bulk import components from .csv</li> <li>[ ] Image / pdf / text file viewer to the single component view page</li> <li>[ ] Auto backup system for the database and attachment files</li> </ul>","tags":["web"]},{"location":"Projects/Web/component-storage-update/","title":"Component storage update","text":"<p>A few weeks has passed since I last did a post about the storaging system so  need to write some things down at this point before I forget everything.</p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#linter","title":"Linter","text":"<p>After working for a week on the project, before my last post, the code started to look a bit messy and  I had not setup any linters or testing setups so it was time for that.</p> <p>I setup eslint with airbnb settings and prettier for React front-end setup. I spent probably one whole night setting up the eslint because it either didn't work with VScode or npm kept complaining about mismatching eslint versions. Finally got it to work after removing package-lock.jsons, removing node_modules and running npm installs enough times. Of course reverted to a version that seemed to be accepted by npm install:</p> <pre><code>\"devDependencies\": {\n    \"eslint\": \"^6.6.0\",\n    ...\n}\n</code></pre> <p>Backend code got the same setup. It was painless and fast to install it for NodeJS.</p> <p>Spent a few nights learning and fixing linter errors. There's still plenty, but I'll keep fixing them as I go along with the development instead of spending the next days only fixing them, otherwise I will lose the motivation pretty fast for the project.</p> <p>Linter seems to really help with getting the code a bit more clean. Also the 'auto fix all' option is pretty neat,  it can autocorrect all indenting issues and other boring tasks.</p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#testing","title":"Testing","text":"<p>I wanted to get a bit more familiar with testing the front-end and backend code so I started reading about what is the best way to test these things. It was few weeks ago at this point and I already forgot pretty much everything. I need to get back to reading about this if and when motivation for such a thing arrives. But in short, this is what I did:</p> <p>For front-end I installed react-testing-library and jest , created a new folder called src/__test__ and added a few test files in there. The other test file tests all of the routing and the other one tests various components that they render properly.</p> <p>Examples:</p> <p>routing test <pre><code>test('routes correctly', () =&gt; {\n  render(&lt;Router&gt;&lt;App /&gt;&lt;/Router&gt;);\n\n  // check that we start from Home page\n  expect(screen.getByTestId('Home')).toBeInTheDocument();\n\n  // Click Storage link\n  const leftClick = { button: 0 };\n  userEvent.click(screen.getByTestId('StorageLink'), leftClick);\n\n  // Check that we changed to the Storage page\n  expect(screen.getByTestId('ComponentStorage')).toBeInTheDocument();\n\n  // Click Status text link\n  userEvent.click(screen.getByTestId('StatusLink1'), leftClick);\n\n  // Check that the status bar is showing\n  expect(screen.getByTestId('Status')).toBeInTheDocument();\n\n  // Click Status icon link ( Double click because it is toggled )\n  userEvent.click(screen.getByTestId('StatusLink2'), leftClick);\n  userEvent.click(screen.getByTestId('StatusLink2'), leftClick);\n\n  // Check that the status bar is showing\n  expect(screen.getByTestId('Status')).toBeInTheDocument();\n\n  // Click Status text link\n  userEvent.click(screen.getByTestId('SettingsLink1'), leftClick);\n\n  // Check that the status bar is showing\n  expect(screen.getByTestId('Settings')).toBeInTheDocument();\n\n  // Click Status icon link ( Double click because it is toggled )\n  userEvent.click(screen.getByTestId('SettingsLink2'), leftClick);\n  userEvent.click(screen.getByTestId('SettingsLink2'), leftClick);\n\n  // Check that the status bar is showing\n  expect(screen.getByTestId('Settings')).toBeInTheDocument();\n});\n</code></pre></p> <p>Render main component <pre><code>test('renders main component', () =&gt; {\n  const { getByTestId } = render(&lt;Router&gt;&lt;App /&gt;&lt;/Router&gt;);\n  const mainElement = getByTestId('Main');\n  expect(mainElement).toBeInTheDocument();\n});\n</code></pre></p> <p>It was real pain getting this setup to work. I spent a few nights learning and setting these up. But now at this point I hope it's much simpler when I can just add new tests without having to battle with the initial setting up.</p> <p>Backend</p> <p>Didn't spent too much time on the backup testing, but I setup Mocha and Chai as a testing setup. I created a ./test folder and added some test files in it.</p> <p>Examples</p> <p>API endpoint request test using Chai-HTTP <pre><code>const chai = require('chai');\nconst chaiHttp = require('chai-http');\nconst server = require('../app');\n\nchai.should();\nchai.use(chaiHttp);\n\ndescribe('Test API', () =&gt; {\n  describe('GET /api/test', () =&gt; {\n    it('Should return success', (done) =&gt; {\n      chai.request(server)\n        .get('/api/test')\n        .end((err, response) =&gt; {\n          console.log('response:');\n          console.log(response.body);\n          response.should.have.status(200);\n          response.body.message.should.equal('success');\n          done();\n        });\n    });\n  });\n});\n</code></pre></p> <p>So will have to see when I get back to adding more tests.</p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#add-items","title":"Add items","text":"","tags":["web"]},{"location":"Projects/Web/component-storage-update/#file-upload","title":"File upload","text":"<p>Thumbnail select</p> <p>Added radio buttons to select a thumbnail image for the item. It will probably be added to the 'all components' table view later on. The radio button is disabled on files that are not images, like .zip file here. </p> <p>Delete files</p> <p>I Added an option to delete files and created a custom button style for it. </p> <p>Styling images</p> <p>Changed the image corners to rounded ones, added some borders to them and tried to line them up a little bit better. </p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#modal","title":"Modal","text":"<p>Close prompt</p> <p>I disabled the modal closing if the outside of the modal is clicked.</p> <p>Also added a close confirmation prompt when there is text written in some of the fields. In the .gif I write text to ID field, but later on I disabled the ID field entirely. The ID field is now called 'Part number' and it is auto-generated in the backend based on the previous part number. </p> <p>Add prompt</p> <p>Added a confirmation prompt when about to save the item to the database. </p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#select-item-type","title":"Select item type","text":"<p>Tabs</p> <p>Added tabs where you can select which type of item to add. So far I was planning on having a type for a components, dev boards and misc items. The input fields and available categories will probably be different for each item type in the future.</p> <p>Also added an comment field where some other information can be written about the item. For example tags for a specific project where the item is used. </p> <p>Part numbers</p> <p>Here I have disabled the part number field and in the .gif I click refresh to demonstrate that when the component loads, a request is created to the backend for generating next part numbers for each item type. Next part number is created by reading the latest part numbers from the database for each item, the part number is parsed and the index number is incremented by one. </p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#view-items","title":"View items","text":"<p>Files in item view</p> <p>Added preview images for the files when viewing a single component. Also the thumbnail that can be selected when adding a new item is shown at the top of the page. Files can still be downloaded by clicking the preview image in the file listing at the bottom of the page.</p> <p>It would be cool to do some sort of popup modal to view the images and pdf files for example, so that there is no need to download them every time.</p> <p></p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#edit-items","title":"Edit items","text":"<p>Edit items window</p> <p>Added a button to the top of the page view to edit an item. Edit view is a modified version of the 'Add components' window. </p> <p>Edit files</p> <p>I got the \"already uploaded to backend\" files to show up in the preview section of the 'edit item' window. Preview image layout and image sizes are a bit messed up here. </p> <p>The preview image list in the edit window is handling the recently uploaded files, which are Blob types and have a smaller preview image parameter that is shown here and also it handles the already uploaded files that are served from the backend. So there are a bit of difference in how the image scales.</p> <p></p> <p>Add file</p> <p>A new file can be added when editing an item. </p> <p>Delete file</p> <p>Files can be deleted also. I will probably add a some sort of 'undo' option when deleting files. </p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#summary","title":"Summary","text":"<p>Some progress has been made during the couple last weeks, although I have been working on this for a little bit less than during the first week.</p> <p>Storaging system is still not usable. Needs testing, data validation and better error handling at least. Also I'll most likely do the backup system before I add any real data to the database.</p> <p>I was also messing around with Digikey API. It seems that I can import all the component data with my order number. I mostly order from Digikey anyway, so it would be cool to just load all the images and descriptions and such from the items and save them on my system.</p>","tags":["web"]},{"location":"Projects/Web/component-storage-update/#todo","title":"TODO","text":"<p>Not a complete list, just throwing things here from the top of my head.</p> <ul> <li>[x] Setup dev env</li> <li>[x] Front-end and backend setup</li> <li>[x] Preliminary component listing page</li> <li>[x] Component view page</li> <li>[x] Component add window</li> <li>[x] File uploader</li> <li>[x] File handling on the backend</li> <li>[x] Edit component window</li> <li>[x] Figure out proper names for component data fields</li> <li>[x] Add proper layout for the single component view page.</li> <li>[x] File upload system in 'add component' view needs an option to select thumbnail picture</li> <li>[x] Item type selector to the 'add component'-view ( component, dev board, misc ).</li> <li>[x] Add front-end testing environment</li> <li>[x] Add backend testing environment</li> <li>[x] Remove files-button in add component-view.</li> <li>[x] Re-structure backend code</li> <li>[x] Setup linters</li> <li>[ ] Add more tests</li> <li>[ ] Search component-function</li> <li>[ ] Change input fields based on the type in the 'add component'-view.</li> <li>[ ] Bulk import components from .csv</li> <li>[ ] Image / pdf / text file viewer to the single component view page</li> <li>[ ] Auto backup system for the database and attachment files</li> <li>[ ] Improve error handling</li> <li>[ ] Improve data handling</li> <li>[ ] Input validation to add and edit component windows</li> <li>[ ] Add storage history system</li> <li>[ ] Pagination to all components view</li> <li>[ ] DigiKey API support</li> </ul> <p>Handling the tasks on trello </p>","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/initial-commit/","title":"Initial commit","text":"","tags":["misc"]},{"location":"Projects/Web/old-gatsby-site/initial-commit/#about","title":"About","text":"<p>So I made this github hosted and netlifycms served gatsby-site for testing purposes and to documentate some of the things I work on on my spare time.</p> <p>I used to have a website running on wordpress.com, got bored of it due to lack of customizability and moved to self hosted  wordpress.org, didn't like that either and now I'm trying this stack.</p> <p>I like how easy this was to setup. The default gatsby theme is fully customizable  and adding new content is really easy, just git push new content to github and netlifycms build system starts building/publishing the changes.</p> <p>Here, have a look at this confusing gif I made: </p>","tags":["misc"]},{"location":"Projects/Web/old-gatsby-site/initial-commit/#links","title":"Links","text":"<ul> <li>https://github.com/</li> <li>https://www.netlifycms.org/</li> <li>https://www.gatsbyjs.org/</li> <li>https://github.com/protoni/gatsby-starter-blog</li> </ul>","tags":["misc"]},{"location":"Projects/Web/old-gatsby-site/setup-gatsby-site/","title":"Setup a static website","text":"","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/setup-gatsby-site/#about","title":"About","text":"<p>Static websites are easy to setup, secure, low maintenance and they are fast.  They can also be hosted on for example GitHub, so no need to pay for a host machine.</p> <p>Google PageSpeed Insights: </p> <p>I was a bit confused at first on what is the best way to set this thing up. At first I followed the netlifycms \"get started\"-guide, but found out later that it's so much easier to setup straight from the Gatsby Starter Library. So I thought I would add some notes on how to actually set this stack up.</p>","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/setup-gatsby-site/#setup-a-public-site","title":"Setup a public site","text":"<ol> <li> <p>Head on to https://www.netlify.com/ and register if not registered already</p> </li> <li> <p>Go to Gatsby Starter Library: https://www.gatsbyjs.org/starters/ and select a starter site. I selected the  gatsby-starter-blog because it's minimal and fast.</p> </li> <li> <p>Scroll down a bit and click the little Netlify icon under the preview image to set it up </p> </li> <li> <p>Click Connect to GitHub ( Or GitLab ).</p> </li> <li> <p>Login and connect your account.</p> </li> <li> <p>Set a repository name and click Save &amp; Deploy</p> </li> <li> <p>Wait for the site to deploy</p> </li> <li> <p>Follow the 3 step process to setup domain and SSL for your site. </p> </li> <li> <p>At this point, after finishing the 3 step process, the setup is already done.  Allow some time for the DNS changes to take effect and your site will be online.</p> </li> </ol>","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/setup-gatsby-site/#setup-a-local-dev-env","title":"Setup a local dev env:","text":"<ol> <li>Go to https://github.com/ and login to your account ( or GitLab )</li> <li>Netlify has created a repository for the gatsby site, clone the repo</li> <li>Download and setup NodeJS: https://nodejs.org/en/</li> <li>After installing, open Node.js command prompt</li> <li> <p>Move to your gatsby repo that you just cloned:</p> <p><code>cd your-gatsby-repo</code> 6. Install npm packages</p> <p><code>npm install</code> 7. Start gatsby server</p> <p><code>gatsby develop</code> 8. Local site is now up and running. Open browser and go to http://localhost:8000/</p> </li> <li> <p>Start modifying the default blog posts, author and layout the way you want.</p> </li> </ol>","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/setup-gatsby-site/#links","title":"Links","text":"<ul> <li>https://github.com/</li> <li>https://www.netlifycms.org/</li> <li>https://www.gatsbyjs.org/</li> <li>https://nodejs.org/en/</li> </ul>","tags":["web"]},{"location":"Projects/Web/old-gatsby-site/site-in-development/","title":"Website in development","text":"","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/site-in-development/#about","title":"About","text":"<p>I'm experimenting with this site so it might be broken from time to time.  I added an notification to the index page to indicate that, it will popup every time the page is loaded.</p> <p>Decided to make a post about that too to get some content to the empty home page.</p> <p></p> <p>Tried a bunch of different notification React packages but couldn't get them to work the way I wanted. I also did my own notification component to refresh my memory on how this react and javascript stuff works  but that came out as pretty shite.</p> <p>Gladly I finally found one that worked and was easy to implement, react-toastify. The notification doesn't really look good on mobile at the moment tho.</p> <p>Did this with a few lines of code: </p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/site-in-development/#update-23072020","title":"Update 23.07.2020","text":"<p>I also added tag system to the website for easier access to related content. </p> <p>Tags can be seen on the front site below the post name and also on the individual blog post pages.</p> <p>Basically the tags are added to the frontmatter of the markdown files and so they can be queried using graphql.</p> <p>The visual layout still might need some decorating but it works. </p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/site-in-development/#links","title":"Links","text":"<ul> <li>https://www.npmjs.com/package/react-toastify</li> <li>https://www.gatsbyjs.org/docs/adding-tags-and-categories-to-blog-posts/</li> </ul>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/","title":"Website update","text":"","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#about","title":"About","text":"<p>A short update on what I have been working on with this site.</p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#back-to-top-button","title":"Back to top button","text":"<p>It got old pretty fast to have to scroll back up every time I reached the bottom of  the bage so I added this little icon to the bottom right corner to help with this issue. </p> <p>I tried some npm packages at first which would do this but they seemed overly complex for what the component actually does.</p> <p>I was googling around what would be the best way to implement this. I ran into this issue on github and in the comments a  user( https://github.com/donaldboulton ) shared his implementation so I decided to use that as well, seems to work pretty well and the implementation seems clean.</p> <ul> <li>https://github.com/v4iv/gatsby-starter-business/issues/23</li> <li>https://publiuslogic.com/</li> </ul> <p>I pretty much only had to change some css to adjust the position a bit. The React component had a props to adjust position but they didn't work for me for some reason, so I just changed the css.</p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#anchor-links","title":"Anchor links","text":"<p>I really like the scrolling table of contents-component gatsbyjs.org docs has: https://www.gatsbyjs.org/docs/quick-start/.</p> <p>It it seemed like it would take some time to implement that sort of functionality so I decided to just use anchor links. I used gatsby-remark-autolink-headers-gatsby plugin to achieve this. It works well and it is easy to setup the links on posts page.</p> <p>Added skip to content -links functionality for the website. </p> <p>Simple to use: </p> <p>I had a problem with the links at first and I spent like 3 hours figuring that one out. I got the links setup right away and they actually did something as well, but they didn't still work. When I clicked one of the links, it did add the anchor to the URL bar (#-tag) but it wouldn't actually move to that location on the page.</p> <p>Turns out I had added gatsby-transformer-remark twice in my gatsby-config.js and that messed it up somehow. There was also no warning or anything when building the site so I kind of accidentally found the issue.</p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#code-blocks","title":"Code blocks","text":"<p>I decided to modify the default code blocks a bit. Changed the color theme and added line numbers. Also the default one seemed to expand infinitely if enough code was added to it so I added a max height for it and a scroll bar.</p> <p>Default code blocks: </p> <p>Changed to : </p> <p>As always, I had some problems setting this thing up.</p> <p>The code block would do this annoying highlight on equal and plus signs: </p> <p>And another issue was that when I deployed the website, the theme would not work and the published website would just show the default theme.</p> <p>A while of head scratching and googling resulted in me realizing that the gatsby-browser.js had the default prism.css theme imported at the same time with this new one so it caused the highlighting issue. </p> <p>Decided to publish a fix and I found out that the theme did not work on published website because of this same issue. So both of these things got resolved at the same time.</p> <p>I of course also decided to download the theme css, save it to the project folder and modify it to my liking.</p> <p>The theme is prism.js okaidia and it's modified a little by me. https://prismjs.com/</p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#categories","title":"Categories","text":"<p>Browsing content on the website felt a bit awkward so I decided to add categories to the front page. I use the tags on the markdown file frontmatter to act as categories for now.  I will probably change this in the future so that the markdown frontmatter would have tags and categories though. </p> <p>I'm not sure what would be the best way to structure the content on this site so I'm trying to categorize the content a bit. I'll probably create these short updates on some projects and I guess it would be good to have it's own gategory at that point so that the updates can be found and it would be easier to follow one specific project.</p> <p>Categories on the front page: </p>","tags":["protoni website"]},{"location":"Projects/Web/old-gatsby-site/website-update/#links","title":"Links","text":"<ul> <li>https://github.com/v4iv/gatsby-starter-business/issues/23</li> <li>https://publiuslogic.com/</li> <li>https://www.gatsbyjs.org/docs/quick-start/</li> <li>https://github.com/donaldboulton</li> <li>https://prismjs.com/</li> <li>https://www.gatsbyjs.org/packages/gatsby-remark-autolink-headers/</li> </ul>","tags":["protoni website"]}]}